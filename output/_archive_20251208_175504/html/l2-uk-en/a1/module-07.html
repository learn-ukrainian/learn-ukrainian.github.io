<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Module 07: Questions &amp; Negation | Ukrainian A1</title>
  <style>
:root { --primary: #1a5fb4; --primary-light: #3584e4; --success: #26a269; --warning: #e5a50a; --danger: #c01c28; --bg: #fafafa; --card-bg: #fff; --text: #1e1e1e; --text-muted: #5e5e5e; --border: #e0e0e0; }
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
.top-nav { background: #2e2e2e; color: white; padding: 0.5rem 2rem; display: flex; justify-content: space-between; align-items: center; font-size: 0.875rem; }
.top-nav a { color: white; text-decoration: none; }
.top-nav a:hover { text-decoration: underline; }
.module-nav { display: flex; gap: 1rem; align-items: center; }
.module-nav-link { color: rgba(255,255,255,0.8); text-decoration: none; padding: 0.25rem 0.5rem; }
.module-nav-link:hover { color: white; }
.module-nav-link.disabled { color: rgba(255,255,255,0.3); pointer-events: none; }
.nav { position: sticky; top: 0; background: var(--primary); color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
.nav h1 { font-size: 1.25rem; }
.nav-tabs { display: flex; gap: 0.5rem; }
.nav-tab { background: rgba(255,255,255,0.2); border: none; color: white; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; }
.nav-tab.active { background: white; color: var(--primary); }
main { max-width: 1000px; margin: 0 auto; padding: 2rem; }
.section { display: none; } .section.active { display: block; }
.lesson-header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, #e8f4fd, #f0e8fd); border-radius: 12px; }
.level-badge { background: var(--primary); color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.875rem; }
.card { background: var(--card-bg); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 1.5rem; margin-bottom: 1.5rem; }
.card h3 { color: var(--primary); margin-bottom: 1rem; }
.section-intro { border-left: 4px solid var(--primary); }
.section-intro h3 { color: var(--primary); }
.section-topic { border-left: 4px solid var(--border); }
.section-summary { background: linear-gradient(135deg, #f0f9ff, #e8f4fd); border-left: 4px solid var(--success); }
.section-summary h3 { color: var(--success); }
.canvas-note { background: #fffbeb; border-left: 4px solid var(--warning); padding: 1rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
.canvas-note h4 { color: var(--warning); margin-bottom: 0.5rem; }
.md-content { line-height: 1.7; }
.md-content p { margin: 0.75rem 0; }
.md-content ul, .md-content ol { margin: 0.75rem 0; padding-left: 1.5rem; }
.md-content li { margin: 0.25rem 0; }
.md-content strong { color: var(--primary); }
.md-content blockquote { background: #e8f4fd; border-left: 4px solid var(--primary); padding: 0.75rem 1rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
.md-content blockquote p { margin: 0.25rem 0; }
.md-content table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.9rem; }
.md-content th, .md-content td { border: 1px solid var(--border); padding: 0.5rem 0.75rem; text-align: left; }
.md-content th { background: #f5f5f5; font-weight: 600; }
.md-content code { background: #f0f0f0; padding: 0.125rem 0.375rem; border-radius: 4px; font-family: monospace; font-size: 0.9em; }
.md-content details { background: #f8f9fa; border: 1px solid var(--border); border-radius: 8px; padding: 0; margin: 1rem 0; }
.md-content details summary { background: linear-gradient(135deg, #e8f4fd, #f0e8fd); padding: 0.75rem 1rem; cursor: pointer; font-weight: 600; color: var(--primary); border-radius: 8px; list-style: none; display: flex; align-items: center; gap: 0.5rem; }
.md-content details summary::-webkit-details-marker { display: none; }
.md-content details summary::before { content: '‚ñ∂'; font-size: 0.75rem; transition: transform 0.2s; }
.md-content details[open] summary::before { transform: rotate(90deg); }
.md-content details[open] summary { border-radius: 8px 8px 0 0; }
.md-content details > *:not(summary) { padding: 0 1rem; }
.md-content details > *:last-child { padding-bottom: 1rem; }
.md-content p > details { margin: 0; }
.md-content p:has(> details) { margin: 1rem 0; }
.inline-answer { background: linear-gradient(135deg, #d4edda, #e8f4fd); padding: 0.125rem 0.5rem; border-radius: 4px; transition: opacity 0.2s; }
.inline-answer.hidden { opacity: 0; user-select: none; }
.answer-toggle-btn { display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #e8f4fd, #f0e8fd); border: 1px solid var(--primary); color: var(--primary); padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-size: 0.875rem; font-weight: 600; margin: 1rem 0; }
.answer-toggle-btn:hover { background: var(--primary); color: white; }
.answer-toggle-btn svg { width: 1rem; height: 1rem; }
.letter-groups { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1.5rem 0; }
.letter-group { border: 2px solid var(--border); border-radius: 8px; padding: 1rem; text-align: center; }
.letter-group.true-friends { border-color: var(--success); } .letter-group.true-friends .letters { color: var(--success); }
.letter-group.false-friends { border-color: var(--danger); } .letter-group.false-friends .letters { color: var(--danger); }
.letter-group.new-letters { border-color: var(--primary); } .letter-group.new-letters .letters { color: var(--primary); }
.letters { font-size: 1.75rem; letter-spacing: 0.3rem; }
.btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; }
.btn-primary { background: var(--primary); color: white; }
.btn-outline { background: transparent; border: 2px solid var(--border); }
.btn-group { display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem; }
.score-display { text-align: center; padding: 1rem; background: linear-gradient(135deg, #e8f8f0, #e8f4fd); border-radius: 8px; margin-bottom: 1rem; }
.score-display .score { font-size: 2rem; font-weight: 700; color: var(--success); }
.completion-message { text-align: center; padding: 2rem; background: linear-gradient(135deg, #d4edda, #e8f4fd); border-radius: 12px; margin-top: 1rem; display: none; }
.completion-message.show { display: block; }
footer { text-align: center; padding: 2rem; color: var(--text-muted); }
@media (max-width: 768px) { .nav { flex-direction: column; gap: 1rem; } .letter-groups, .sort-groups, .quiz-options { grid-template-columns: 1fr; } .match-container { flex-direction: column; } }


/**
 * Layout styles - Navigation, page structure
 */

/* Top Navigation */
.top-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1.5rem;
  background: #f8f8f8;
  border-bottom: 1px solid var(--border);
  font-size: 0.875rem;
}

.top-nav a {
  color: var(--text-muted);
}

.top-nav a:hover {
  color: var(--primary);
}

.module-nav {
  display: flex;
  gap: 1rem;
}

.module-nav-link {
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
}

.module-nav-link:hover {
  background: #e8f4fd;
}

/* Main Navigation */
.nav {
  background: linear-gradient(135deg, #1a5fb4, #613583);
  color: white;
  padding: 1.5rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav h1 {
  font-size: 1.5rem;
}

.nav-tabs {
  display: flex;
  gap: 0.5rem;
}

.nav-tab {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.875rem;
  transition: background 0.2s;
}

.nav-tab:hover {
  background: rgba(255, 255, 255, 0.3);
}

.nav-tab.active {
  background: white;
  color: var(--primary);
}

/* Main Content */
main {
  max-width: 1000px;
  margin: 0 auto;
  padding: 2rem;
}

/* Sections */
.section {
  display: none;
}

.section.active {
  display: block;
}

/* Lesson Header */
.lesson-header {
  text-align: center;
  margin-bottom: 2rem;
  padding: 2rem;
  background: linear-gradient(135deg, #e8f4fd, #f0e8fd);
  border-radius: 12px;
}

.lesson-header h2 {
  font-size: 2rem;
  margin: 0.5rem 0;
}

/* Section Cards */
.section-intro {
  border-left: 4px solid var(--primary);
}

.section-intro h3 {
  color: var(--primary);
}

.section-topic {
  border-left: 4px solid var(--border);
}

.section-summary {
  background: linear-gradient(135deg, #f0f9ff, #e8f4fd);
  border-left: 4px solid var(--success);
}

.section-summary h3 {
  color: var(--success);
}

/* Canvas Notes */
.canvas-note {
  background: #fffbeb;
  border-left: 4px solid var(--warning);
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 0 8px 8px 0;
}

.canvas-note h4 {
  color: var(--warning);
  margin-bottom: 0.5rem;
}

/* Footer */
footer {
  text-align: center;
  padding: 2rem;
  color: var(--text-muted);
}

/* Responsive Layout */
@media (max-width: 768px) {
  .nav {
    flex-direction: column;
    gap: 1rem;
  }

  .nav h1 {
    font-size: 1.25rem;
    text-align: center;
  }

  .nav-tabs {
    flex-wrap: wrap;
    justify-content: center;
  }

  main {
    padding: 1rem;
  }

  .top-nav {
    flex-direction: column;
    gap: 0.5rem;
  }
}


/* Match Activity */
.match-container { display: flex; gap: 3rem; padding: 1rem; position: relative; }
.match-column { flex: 1; display: flex; flex-direction: column; gap: 0.75rem; }
.match-item { background: var(--card-bg); border: 2px solid var(--border); border-radius: 8px; padding: 1rem; text-align: center; font-size: 1.25rem; cursor: pointer; }
.match-item.selected { border-color: var(--primary); background: #e8f4fd; }
.match-item.matched { border-color: var(--success); background: #e8f8f0; }
.match-item.wrong { border-color: var(--danger); background: #fde8e8; }
.match-lines { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }

/* Quiz Activity */
.quiz-question { border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
.quiz-question.answered { pointer-events: none; }
.quiz-question .cyrillic { font-size: 1.5rem; color: var(--primary); font-weight: 600; }
.quiz-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; margin-top: 1rem; }
.quiz-option { background: #f5f5f5; border: 2px solid var(--border); border-radius: 8px; padding: 1rem; cursor: pointer; text-align: center; }
.quiz-option.correct { border-color: var(--success); background: #d4edda; }
.quiz-option.wrong { border-color: var(--danger); background: #f8d7da; }
.quiz-explanation { margin-top: 1rem; padding: 1rem; background: #e8f4fd; border-radius: 8px; display: none; }
.quiz-explanation.show { display: block; }

/* True/False Activity */
.tf-statement { border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
.tf-statement.answered { pointer-events: none; }
.tf-text { font-size: 1.15rem; margin-bottom: 1rem; }
.tf-buttons { display: flex; gap: 1rem; }
.tf-btn { flex: 1; background: #f5f5f5; border: 2px solid var(--border); border-radius: 8px; padding: 0.75rem 1rem; cursor: pointer; font-size: 1rem; font-weight: 500; }
.tf-btn:hover { background: #e8f4fd; border-color: var(--primary); }
.tf-btn.correct { border-color: var(--success); background: #d4edda; color: var(--success); }
.tf-btn.wrong { border-color: var(--danger); background: #f8d7da; color: var(--danger); }
.tf-explanation { margin-top: 1rem; padding: 1rem; background: #e8f4fd; border-radius: 8px; display: none; }
.tf-explanation.show { display: block; }

/* Sort Activity */
.sort-pool { background: #f5f5f5; border: 2px dashed var(--border); border-radius: 12px; padding: 1.5rem; min-height: 80px; margin-bottom: 1rem; }
.sort-items { display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; }
.sort-item { background: var(--card-bg); border: 2px solid var(--border); border-radius: 8px; padding: 0.75rem 1.25rem; font-size: 1.5rem; cursor: grab; }
.sort-item.correct { border-color: var(--success); background: #e8f8f0; }
.sort-item.wrong { border-color: var(--danger); background: #fde8e8; }
.sort-groups { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
.sort-group { border: 2px solid var(--border); border-radius: 12px; padding: 1rem; min-height: 150px; }
.sort-group.drag-over { border-color: var(--primary); background: #e8f4fd; }
.sort-group h4 { font-size: 0.875rem; text-align: center; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--border); }
.sort-group.true-friends h4 { color: var(--success); border-color: var(--success); }
.sort-group.false-friends h4 { color: var(--danger); border-color: var(--danger); }
.sort-group.new-letters h4 { color: var(--primary); border-color: var(--primary); }

/* Vocabulary Grid (legacy) */
.vocab-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 1rem; }
.vocab-card { border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; text-align: center; }
.vocab-card .uk { font-size: 1.75rem; font-weight: 600; color: var(--primary); }
.vocab-card .translit { color: var(--text-muted); font-style: italic; }
.vocab-card .en { font-weight: 500; margin: 0.25rem 0; }
.vocab-card .note { font-size: 0.75rem; color: #613583; background: #f0e8fd; padding: 0.25rem 0.5rem; border-radius: 4px; }

/* Vocabulary Table (book-style) */
.vocab-table-container { overflow-x: auto; }
.vocab-table { width: 100%; border-collapse: collapse; font-size: 1rem; }
.vocab-table thead { background: var(--card-bg); border-bottom: 2px solid var(--border); }
.vocab-table th { padding: 0.75rem 1rem; text-align: left; font-weight: 600; color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.5px; }
.vocab-table td { padding: 0.75rem 1rem; border-bottom: 1px solid var(--border); }
.vocab-table tbody tr:hover { background: #f8f9fa; }
.vocab-table .vocab-uk { font-size: 1.25rem; font-weight: 600; color: var(--primary); }
.vocab-table .vocab-translit { color: var(--text-muted); font-style: italic; }
.vocab-table .vocab-ipa { font-family: monospace; color: var(--text-muted); font-size: 0.9rem; }
.vocab-table .vocab-en { font-weight: 500; }
.vocab-table .vocab-note { font-size: 0.85rem; color: #613583; }

/* Answer Callout Blocks */
.callout { padding: 0.5rem 1rem; margin: 0.25rem 0; border-radius: 4px; }
.callout-answer { background: #e8f8f0; border-left: 3px solid var(--success); }
.callout-explanation { background: #e8f4fd; border-left: 3px solid var(--primary); color: var(--text-muted); font-style: italic; }
.callout-alt { background: #f5f5f5; border-left: 3px solid var(--border); color: var(--text-muted); }

/* Answer Block Toggle */
.answer-block { display: none; }
.answer-block.show { display: block; }
.show-answer-btn { background: #f0f0f0; border: 1px solid var(--border); border-radius: 6px; padding: 0.25rem 0.75rem; font-size: 0.8rem; cursor: pointer; color: var(--text-muted); margin: 0.25rem 0; }
.show-answer-btn:hover { background: #e5e5e5; }
.show-answer-btn.revealed { background: #e8f8f0; border-color: var(--success); color: var(--success); }

/* Fill-in Activity - Dropdown in Sentence */
.fill-container { display: flex; flex-direction: column; gap: 0.75rem; }
.fill-question { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; }

.fill-number { font-weight: 600; color: var(--text-muted); margin-right: 0.5rem; }
.fill-sentence { font-size: 1.15rem; line-height: 1.8; }

.fill-dropdown { font-size: 1rem; padding: 0.4rem 0.6rem; border: 2px solid var(--primary); border-radius: 6px; background: #fff; color: var(--primary); font-weight: 500; cursor: pointer; min-width: 120px; }
.fill-dropdown:focus { outline: none; box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2); }
.fill-dropdown.correct { border-color: var(--success); background: #e8f8f0; color: var(--success); }
.fill-dropdown.wrong { border-color: var(--danger); background: #fde8e8; color: var(--danger); }

.fill-feedback { margin-top: 0.5rem; font-weight: 500; }
.fill-feedback .correct-text { color: var(--success); }
.fill-feedback .wrong-text { color: var(--danger); }
.btn-sm { padding: 0.5rem 1rem; font-size: 0.875rem; }

/* Order/Unjumble Activity */
.order-container { display: flex; flex-direction: column; gap: 1rem; }
.order-items { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem; }
.order-item { background: var(--card-bg); border: 2px solid var(--border); border-radius: 8px; padding: 1rem; display: flex; align-items: center; gap: 1rem; cursor: grab; user-select: none; }
.order-item:active { cursor: grabbing; }
.order-item.dragging { opacity: 0.5; }
.order-item.correct { border-color: var(--success); background: #e8f8f0; }
.order-item.wrong { border-color: var(--danger); background: #fde8e8; }
.order-handle { color: var(--text-muted); font-size: 1.25rem; }
.order-text { font-size: 1.1rem; }

/* Unjumble Activity - Drag and Drop */
.unjumble-question { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 0.75rem; display: flex; flex-wrap: wrap; align-items: center; gap: 0.75rem; }
.unjumble-question.answered .unjumble-word { cursor: default; }
.unjumble-question.correct { border-color: var(--success); background: #f8fff8; }
.unjumble-question.wrong { border-color: var(--danger); background: #fff8f8; }

.unjumble-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }

.unjumble-word-row { display: flex; flex-wrap: wrap; gap: 0.5rem; flex: 1; min-height: 42px; padding: 0.25rem; border-radius: 8px; background: #f8f9fa; }
.unjumble-word-row.correct { background: #e8f8f0; }
.unjumble-word-row.wrong { background: #fde8e8; }

.unjumble-word { background: var(--primary); color: white; border-radius: 6px; padding: 0.5rem 0.75rem; font-size: 1rem; cursor: grab; user-select: none; transition: transform 0.1s, box-shadow 0.1s; }
.unjumble-word:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.unjumble-word:active { cursor: grabbing; }
.unjumble-word.dragging { opacity: 0.5; transform: scale(1.05); }

.unjumble-word.touch-clone { position: fixed; z-index: 1000; pointer-events: none; box-shadow: 0 8px 16px rgba(0,0,0,0.2); }

.unjumble-actions { display: flex; gap: 0.5rem; }
.unjumble-feedback { width: 100%; padding: 0.5rem 0 0 2.5rem; display: none; }
.unjumble-feedback.show { display: block; }
.unjumble-feedback .correct-text { color: var(--success); font-weight: 600; }
.unjumble-feedback .wrong-text { color: var(--danger); }
.unjumble-feedback .translation { color: var(--text-muted); font-style: italic; margin-left: 0.5rem; }

/* Order Sentence Activity - Sentence reordering with unjumble-style UI */
.order-sequence { display: flex; flex-direction: column; align-items: stretch; }
.order-sentence-row { display: flex; flex-direction: column; flex-wrap: nowrap; gap: 0.5rem; min-height: auto; padding: 0.5rem; flex: none; width: 100%; }
.order-sentence-item { background: var(--primary); color: white; border-radius: 8px; padding: 0.75rem 1rem; font-size: 1rem; cursor: grab; user-select: none; display: flex; align-items: center; gap: 0.75rem; transition: transform 0.1s, box-shadow 0.1s; }
.order-sentence-item:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.order-sentence-item:active { cursor: grabbing; }
.order-sentence-item.dragging { opacity: 0.5; transform: scale(1.02); }
.order-sentence-item.correct { background: var(--success); }
.order-sentence-item.wrong { background: var(--danger); }
.order-sentence-item.touch-clone { position: fixed; z-index: 1000; pointer-events: none; box-shadow: 0 8px 16px rgba(0,0,0,0.2); max-width: 90vw; }
.order-num { background: rgba(255,255,255,0.3); padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: 600; min-width: 1.5rem; text-align: center; }
.order-sentence-text { flex: 1; }
.order-feedback { width: 100%; padding: 0.5rem 0; display: none; }
.order-feedback.show { display: block; }
.order-feedback .correct-text { color: var(--success); font-weight: 600; }
.order-feedback .wrong-text { color: var(--danger); }

/* Order Card Activity - New class names for classic order */
.order-items-wrapper { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem; }
.order-sentence-card { background: var(--primary); color: white; border-radius: 8px; padding: 0.75rem 1rem; font-size: 1rem; cursor: grab; user-select: none; display: flex; align-items: center; gap: 0.75rem; transition: transform 0.1s, box-shadow 0.1s; }
.order-sentence-card:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.order-sentence-card:active { cursor: grabbing; }
.order-sentence-card.dragging { opacity: 0.5; transform: scale(1.02); }
.order-sentence-card.correct { background: var(--success); }
.order-sentence-card.wrong { background: var(--danger); }
.order-card-num { background: rgba(255,255,255,0.3); padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: 600; min-width: 1.5rem; text-align: center; }
.order-card-text { flex: 1; }
.order-buttons { margin-top: 0.5rem; }

/* Select Activity - Multi-choice checkboxes */
.select-container { display: flex; flex-direction: column; gap: 1rem; }
.select-question { border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; display: flex; gap: 0.75rem; }
.select-question.answered .select-checkbox { pointer-events: none; }
.select-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }
.select-content { flex: 1; }
.select-prompt { font-size: 1.1rem; font-weight: 500; margin-bottom: 0.75rem; }
.select-options { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem; }
.select-option { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0.75rem; border-radius: 6px; cursor: pointer; transition: background 0.15s; }
.select-option:hover { background: #f5f5f5; }
.select-option.correct { background: #d4edda; }
.select-option.correct-unchecked { background: #f8f9fa; }
.select-option.wrong { background: #f8d7da; }
.select-option.missed { background: #fff3cd; border: 1px dashed var(--warning); }
.select-checkbox { width: 1.25rem; height: 1.25rem; cursor: pointer; }
.select-text { font-size: 1rem; }
.select-check { margin-top: 0.5rem; }
.select-feedback { margin-top: 0.75rem; display: none; }
.select-feedback.show { display: block; }
.select-feedback .correct-text { color: var(--success); font-weight: 600; }
.select-feedback .wrong-text { color: var(--danger); }

/* Anagram Activity - Letter reordering to form words */
.anagram-question { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 0.75rem; display: flex; flex-wrap: wrap; align-items: center; gap: 0.75rem; }
.anagram-question.answered .anagram-letter { cursor: default; }
.anagram-question.correct { border-color: var(--success); background: #f8fff8; }
.anagram-question.wrong { border-color: var(--danger); background: #fff8f8; }

.anagram-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }

.anagram-letter-row { display: flex; flex-wrap: wrap; gap: 0.35rem; flex: 1; min-height: 52px; padding: 0.25rem; border-radius: 8px; background: #f8f9fa; }
.anagram-letter-row.correct { background: #e8f8f0; }
.anagram-letter-row.wrong { background: #fde8e8; }

.anagram-letter { background: var(--primary); color: white; border-radius: 8px; padding: 0.6rem 0.9rem; font-size: 1.5rem; font-weight: 600; cursor: grab; user-select: none; transition: transform 0.1s, box-shadow 0.1s; min-width: 2.5rem; text-align: center; }
.anagram-letter:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.anagram-letter:active { cursor: grabbing; }
.anagram-letter.dragging { opacity: 0.5; transform: scale(1.05); }

.anagram-letter.touch-clone { position: fixed; z-index: 1000; pointer-events: none; box-shadow: 0 8px 16px rgba(0,0,0,0.2); }

.anagram-actions { display: flex; gap: 0.5rem; }
.anagram-feedback { width: 100%; padding: 0.5rem 0 0 2.5rem; display: none; }
.anagram-feedback.show { display: block; }
.anagram-feedback .correct-text { color: var(--success); font-weight: 600; }
.anagram-feedback .wrong-text { color: var(--danger); }
.anagram-feedback .translation { color: var(--text-muted); font-style: italic; margin-left: 0.5rem; }

  </style>
</head>
<body>
  
  <div class="top-nav">
    <a href="../index.html">‚Üê l2-uk-en Curriculum</a>
    <div class="module-nav">
      <a href="module-06.html" class="module-nav-link">‚Üê Module 06</a>
      <a href="index.html" class="module-nav-link">A1 Index</a>
      <a href="module-08.html" class="module-nav-link">Module 08 ‚Üí</a>
    </div>
  </div>
  <nav class="nav">
    <h1>Module 07: Questions &amp; Negation</h1>
    <div class="nav-tabs">
      <button class="nav-tab active" data-section="lesson">Lesson</button>
      <button class="nav-tab" data-section="activity-0">1. Quiz</button>
      <button class="nav-tab" data-section="activity-1">2. Match</button>
      <button class="nav-tab" data-section="activity-2">3. Sort</button>
      <button class="nav-tab" data-section="activity-3">4. T/F</button>
      <button class="nav-tab" data-section="activity-4">5. Fill</button>
      <button class="nav-tab" data-section="activity-5">6. Match</button>
      <button class="nav-tab" data-section="activity-6">7. Spell</button>
      <button class="nav-tab" data-section="activity-7">8. Fill</button>
      <button class="nav-tab" data-section="vocab">Vocab</button>
    </div>
  </nav>
  <main>
    
    <section id="lesson" class="section active">
      <div class="lesson-header">
        <span class="level-badge">A1 ¬∑ A1.1</span>
        <h2 style="font-size:2rem;margin:0.5rem 0">Questions &amp; Negation</h2>
        <p style="color:var(--text-muted)">Asking Questions and Saying No</p>
      </div>
      
    <div class="card section-content">
      <h3>Warm Up</h3>
      <div class="md-content"><p>Think about conversations. What makes them flow? Questions! In English, we change word order or add "do/does" to make questions. Ukrainian has a much simpler system.</p>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Lesson</h3>
      <div class="md-content"><h2 id="themagicparticlechy">The Magic Particle: –ß–∏ (Chy)</h2>
<p>In Ukrainian, you can turn ANY statement into a yes/no question by adding <strong>—á–∏</strong> (chy) at the beginning:</p>
<table>
<thead>
<tr>
<th>Statement</th>
<th>Question</th>
</tr>
</thead>
<tbody>
<tr>
<td>–¢–∏ —á–∏—Ç–∞—î—à. (Ty chytayesh)</td>
<td>–ß–∏ —Ç–∏ —á–∏—Ç–∞—î—à? (Chy ty chytayesh?)</td>
</tr>
<tr>
<td>–í–æ–Ω–∞ –ø—Ä–∞—Ü—é—î. (Vona pratsyuye)</td>
<td>–ß–∏ –≤–æ–Ω–∞ –ø—Ä–∞—Ü—é—î? (Chy vona pratsyuye?)</td>
</tr>
<tr>
<td>–í—ñ–Ω –∑–Ω–∞—î. (Vin znaye)</td>
<td>–ß–∏ –≤—ñ–Ω –∑–Ω–∞—î? (Chy vin znaye?)</td>
</tr>
</tbody>
</table>
<p><strong>Literal translation:</strong> "Whether you read?" ‚Üí "Do you read?"</p>
<blockquote>
  <p>üí° <strong>Did You Know?</strong><br />
  Unlike English, Ukrainian doesn't require any auxiliary verbs ("do/does") for questions. The word order stays exactly the same‚Äîjust add <strong>—á–∏</strong> and raise your intonation at the end!</p>
</blockquote>
<h3 id="optional">Optional –ß–∏</h3>
<p>In casual speech, Ukrainians often skip <strong>—á–∏</strong> entirely and just use rising intonation:</p>
<ul>
<li>–¢–∏ —á–∏—Ç–∞—î—à? (Ty chytayesh?) ‚Äî "You read?" (casual)</li>
<li>–í–æ–Ω–∞ –ø—Ä–∞—Ü—é—î? (Vona pratsyuye?) ‚Äî "She works?" (casual)</li>
</ul>
<p>But <strong>—á–∏</strong> makes the question crystal clear, especially in writing.</p>
<hr />
<h2 id="questionwordsthecompleteset">Question Words: The Complete Set</h2>
<p>These are your tools for gathering information:</p>
<table>
<thead>
<tr>
<th>Ukrainian</th>
<th>Pronunciation</th>
<th>English</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>–©–æ?</td>
<td>(Shcho?)</td>
<td>What?</td>
<td>–©–æ —Ü–µ? (Shcho tse?)</td>
</tr>
<tr>
<td>–•—Ç–æ?</td>
<td>(Khto?)</td>
<td>Who?</td>
<td>–•—Ç–æ —Ü–µ? (Khto tse?)</td>
</tr>
<tr>
<td>–î–µ?</td>
<td>(De?)</td>
<td>Where?</td>
<td>–î–µ —Ç–∏? (De ty?)</td>
</tr>
<tr>
<td>–ö—É–¥–∏?</td>
<td>(Kudy?)</td>
<td>Where to?</td>
<td>–ö—É–¥–∏ —Ç–∏ –π–¥–µ—à? (Kudy ty ydesh?)</td>
</tr>
<tr>
<td>–ó–≤—ñ–¥–∫–∏?</td>
<td>(Zvidky?)</td>
<td>Where from?</td>
<td>–ó–≤—ñ–¥–∫–∏ —Ç–∏? (Zvidky ty?)</td>
</tr>
<tr>
<td>–ö–æ–ª–∏?</td>
<td>(Koly?)</td>
<td>When?</td>
<td>–ö–æ–ª–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à? (Koly ty pratsyuyesh?)</td>
</tr>
<tr>
<td>–ß–æ–º—É?</td>
<td>(Chomu?)</td>
<td>Why?</td>
<td>–ß–æ–º—É –Ω—ñ? (Chomu ni?)</td>
</tr>
<tr>
<td>–Ø–∫?</td>
<td>(Yak?)</td>
<td>How?</td>
<td>–Ø–∫ —Å–ø—Ä–∞–≤–∏? (Yak spravy?)</td>
</tr>
<tr>
<td>–°–∫—ñ–ª—å–∫–∏?</td>
<td>(Skilky?)</td>
<td>How much/many?</td>
<td>–°–∫—ñ–ª—å–∫–∏ —Ü–µ –∫–æ—à—Ç—É—î? (Skilky tse koshtuye?)</td>
</tr>
<tr>
<td>–Ø–∫–∏–π?</td>
<td>(Yakyy?)</td>
<td>Which?/What kind?</td>
<td>–Ø–∫–∏–π —Ü–µ –∫–æ–ª—ñ—Ä? (Yakyy tse kolir?)</td>
</tr>
</tbody>
</table>
<blockquote>
  <p>üé¨ <strong>Pop Culture Moment</strong><br />
  The question "–ó–≤—ñ–¥–∫–∏ —Ç–∏?" (Where are you from?) is one of the most common conversation starters in Ukraine. It reflects the importance of regional identity‚Äîpeople from Lviv, Kyiv, and Odesa each have their own distinct character!</p>
</blockquote>
<h3 id="genderagreementwith">Gender Agreement with –Ø–∫–∏–π</h3>
<p><strong>–Ø–∫–∏–π</strong> changes form to match the noun it describes:</p>
<table>
<thead>
<tr>
<th>Gender</th>
<th>Form</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Masculine</td>
<td>—è–∫–∏–π (yakyy)</td>
<td>–Ø–∫–∏–π —Ü–µ —Ñ—ñ–ª—å–º? (What film is this?)</td>
</tr>
<tr>
<td>Feminine</td>
<td>—è–∫–∞ (yaka)</td>
<td>–Ø–∫–∞ —Ü–µ –∫–Ω–∏–≥–∞? (What book is this?)</td>
</tr>
<tr>
<td>Neuter</td>
<td>—è–∫–µ (yake)</td>
<td>–Ø–∫–µ —Ü–µ —Å–ª–æ–≤–æ? (What word is this?)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="negationsimplyne">Negation: Simply –ù–µ (Ne)</h2>
<p>To make any sentence negative, just add <strong>–Ω–µ</strong> (ne) before the verb:</p>
<table>
<thead>
<tr>
<th>Positive</th>
<th>Negative</th>
</tr>
</thead>
<tbody>
<tr>
<td>–Ø —á–∏—Ç–∞—é. (Ya chytayu)</td>
<td>–Ø <strong>–Ω–µ</strong> —á–∏—Ç–∞—é. (Ya <strong>ne</strong> chytayu)</td>
</tr>
<tr>
<td>–í–æ–Ω–∞ –ø—Ä–∞—Ü—é—î. (Vona pratsyuye)</td>
<td>–í–æ–Ω–∞ <strong>–Ω–µ</strong> –ø—Ä–∞—Ü—é—î. (Vona <strong>ne</strong> pratsyuye)</td>
</tr>
<tr>
<td>–ú–∏ –∑–Ω–∞—î–º–æ. (My znayemo)</td>
<td>–ú–∏ <strong>–Ω–µ</strong> –∑–Ω–∞—î–º–æ. (My <strong>ne</strong> znayemo)</td>
</tr>
</tbody>
</table>
<p>That's it! No "don't/doesn't" needed.</p>
<blockquote>
  <p>üåç <strong>Real World</strong><br />
  In Ukrainian shops, you might hear "–ù–µ –º–∞—î–º–æ" (Ne mayemo) ‚Äî "We don't have." It's short, direct, and very common when something is out of stock.</p>
</blockquote>
<hr />
<h2 id="answeringquestions">Answering Questions</h2>
<h3 id="yesnoanswers">Yes/No Answers</h3>
<table>
<thead>
<tr>
<th>Answer</th>
<th>Ukrainian</th>
<th>Pronunciation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Yes</td>
<td>–¢–∞–∫</td>
<td>(Tak)</td>
</tr>
<tr>
<td>No</td>
<td>–ù—ñ</td>
<td>(Ni)</td>
</tr>
</tbody>
</table>
<p><strong>Full answers:</strong></p>
<ul>
<li>–ß–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à? ‚Äî –¢–∞–∫, —è –ø—Ä–∞—Ü—é—é. (Yes, I work.)</li>
<li>–ß–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à? ‚Äî –ù—ñ, —è –Ω–µ –ø—Ä–∞—Ü—é—é. (No, I don't work.)</li>
</ul>
<h3 id="commonanswerphrases">Common Answer Phrases</h3>
<table>
<thead>
<tr>
<th>Ukrainian</th>
<th>Pronunciation</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>–¢–∞–∫, –∑–≤–∏—á–∞–π–Ω–æ!</td>
<td>(Tak, zvychayno!)</td>
<td>Yes, of course!</td>
</tr>
<tr>
<td>–ù—ñ, –¥—è–∫—É—é.</td>
<td>(Ni, dyakuyu.)</td>
<td>No, thank you.</td>
</tr>
<tr>
<td>–ú–æ–∂–ª–∏–≤–æ.</td>
<td>(Mozhlyvo.)</td>
<td>Maybe/Perhaps.</td>
</tr>
<tr>
<td>–ù–µ –∑–Ω–∞—é.</td>
<td>(Ne znayu.)</td>
<td>I don't know.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="frequencyadverbs">Frequency Adverbs</h2>
<p>These words tell us HOW OFTEN something happens:</p>
<table>
<thead>
<tr>
<th>Ukrainian</th>
<th>Pronunciation</th>
<th>English</th>
<th>Position</th>
</tr>
</thead>
<tbody>
<tr>
<td>–∑–∞–≤–∂–¥–∏</td>
<td>(zavzhdy)</td>
<td>always</td>
<td>before verb</td>
</tr>
<tr>
<td>—á–∞—Å—Ç–æ</td>
<td>(chasto)</td>
<td>often</td>
<td>before verb</td>
</tr>
<tr>
<td>—ñ–Ω–æ–¥—ñ</td>
<td>(inodi)</td>
<td>sometimes</td>
<td>before verb</td>
</tr>
<tr>
<td>—Ä—ñ–¥–∫–æ</td>
<td>(ridko)</td>
<td>rarely</td>
<td>before verb</td>
</tr>
<tr>
<td>–Ω—ñ–∫–æ–ª–∏</td>
<td>(nikoly)</td>
<td>never</td>
<td>before verb + –Ω–µ</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<ul>
<li>–Ø <strong>–∑–∞–≤–∂–¥–∏</strong> —á–∏—Ç–∞—é. (Ya zavzhdy chytayu.) ‚Äî I always read.</li>
<li>–í–æ–Ω–∞ <strong>—á–∞—Å—Ç–æ</strong> –ø—Ä–∞—Ü—é—î. (Vona chasto pratsyuye.) ‚Äî She often works.</li>
<li>–ú–∏ <strong>—ñ–Ω–æ–¥—ñ</strong> –≥—É–ª—è—î–º–æ. (My inodi hulyayemo.) ‚Äî We sometimes walk.</li>
<li>–í—ñ–Ω <strong>—Ä—ñ–¥–∫–æ</strong> –≥–æ–≤–æ—Ä–∏—Ç—å. (Vin ridko hovoryt.) ‚Äî He rarely speaks.</li>
</ul>
<h3 id="specialcasenever">Special Case: –ù—ñ–∫–æ–ª–∏ (Never)</h3>
<p><strong>–ù—ñ–∫–æ–ª–∏</strong> requires double negation‚Äîuse it with <strong>–Ω–µ</strong>:</p>
<ul>
<li>–Ø <strong>–Ω—ñ–∫–æ–ª–∏ –Ω–µ</strong> —á–∏—Ç–∞—é. (Ya nikoly ne chytayu.) ‚Äî I never read.</li>
<li>–í–æ–Ω–∞ <strong>–Ω—ñ–∫–æ–ª–∏ –Ω–µ</strong> –ø—Ä–∞—Ü—é—î. (Vona nikoly ne pratsyuye.) ‚Äî She never works.</li>
</ul>
<blockquote>
  <p>üí° <strong>Did You Know?</strong><br />
  Double negation is standard in Ukrainian (and most Slavic languages)! "–Ø –Ω—ñ–∫–æ–ª–∏ –Ω–µ‚Ä¶" literally translates to "I never don't‚Ä¶" but means "I never‚Ä¶" The negatives reinforce each other rather than canceling out.</p>
</blockquote>
<hr />
<h2 id="combiningquestionsandnegation">Combining Questions and Negation</h2>
<p>You can negate questions too:</p>
<table>
<thead>
<tr>
<th>Question Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Yes/No negative</td>
<td>–ß–∏ —Ç–∏ –Ω–µ —á–∏—Ç–∞—î—à? (Don't you read?)</td>
</tr>
<tr>
<td>Why not</td>
<td>–ß–æ–º—É –Ω—ñ? (Why not?)</td>
</tr>
<tr>
<td>Why don't you</td>
<td>–ß–æ–º—É —Ç–∏ –Ω–µ –ø—Ä–∞—Ü—é—î—à? (Why don't you work?)</td>
</tr>
</tbody>
</table>
<blockquote>
  <p>üéØ <strong>Fun Fact</strong><br />
  "–ß–æ–º—É –Ω—ñ?" (Why not?) is a very common Ukrainian phrase used to express agreement or willingness to try something. Someone suggests coffee? "–ß–æ–º—É –Ω—ñ?" ‚Äî sounds good!</p>
</blockquote>
<hr />
<h2 id="commonquestionpatterns">Common Question Patterns</h2>
<h3 id="basicconversationalquestions">Basic Conversational Questions</h3>
<table>
<thead>
<tr>
<th>Ukrainian</th>
<th>Pronunciation</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>–Ø–∫ —Å–ø—Ä–∞–≤–∏?</td>
<td>(Yak spravy?)</td>
<td>How are you?</td>
</tr>
<tr>
<td>–Ø–∫ —Ç–µ–±–µ –∑–≤–∞—Ç–∏?</td>
<td>(Yak tebe zvaty?)</td>
<td>What's your name?</td>
</tr>
<tr>
<td>–ó–≤—ñ–¥–∫–∏ —Ç–∏?</td>
<td>(Zvidky ty?)</td>
<td>Where are you from?</td>
</tr>
<tr>
<td>–î–µ —Ç–∏ –∂–∏–≤–µ—à?</td>
<td>(De ty zhyvesh?)</td>
<td>Where do you live?</td>
</tr>
<tr>
<td>–©–æ —Ç–∏ —Ä–æ–±–∏—à?</td>
<td>(Shcho ty robysh?)</td>
<td>What are you doing?</td>
</tr>
<tr>
<td>–ö–æ–ª–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à?</td>
<td>(Koly ty pratsyuyesh?)</td>
<td>When do you work?</td>
</tr>
</tbody>
</table>
<h3 id="askingaboutthings">Asking About Things</h3>
<table>
<thead>
<tr>
<th>Ukrainian</th>
<th>Pronunciation</th>
<th>English</th>
</tr>
</thead>
<tbody>
<tr>
<td>–©–æ —Ü–µ?</td>
<td>(Shcho tse?)</td>
<td>What is this?</td>
</tr>
<tr>
<td>–•—Ç–æ —Ü–µ?</td>
<td>(Khto tse?)</td>
<td>Who is this?</td>
</tr>
<tr>
<td>–î–µ —Ü–µ?</td>
<td>(De tse?)</td>
<td>Where is this?</td>
</tr>
<tr>
<td>–°–∫—ñ–ª—å–∫–∏ —Ü–µ –∫–æ—à—Ç—É—î?</td>
<td>(Skilky tse koshtuye?)</td>
<td>How much does this cost?</td>
</tr>
</tbody>
</table>
<hr /></div>
    </div>
  
    <div class="card section-practice">
      <h3>Practice</h3>
      <div class="md-content"><h2 id="exercise1transformstatementstoquestions">Exercise 1: Transform Statements to Questions</h2>
<p>Turn these statements into questions using <strong>—á–∏</strong>:</p>
<ol>
<li>–í—ñ–Ω —á–∏—Ç–∞—î –∫–Ω–∏–≥—É. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li>–í–æ–Ω–∞ –ø—Ä–∞—Ü—é—î –≤ –æ—Ñ—ñ—Å—ñ. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li>–ú–∏ –∑–Ω–∞—î–º–æ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li>–¢–∏ —Å–ª—É—Ö–∞—î—à –º—É–∑–∏–∫—É. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
</ol>
<h2 id="exercise2choosetherightquestionword">Exercise 2: Choose the Right Question Word</h2>
<p>Fill in with —â–æ, —Ö—Ç–æ, –¥–µ, –∫–æ–ª–∏, —á–æ–º—É, or —è–∫:</p>
<ol>
<li>___ —Ç–∏ –∂–∏–≤–µ—à? ‚Äî –£ –ö–∏—î–≤—ñ. (Where do you live?)</li>
<li>___ —Ü–µ? ‚Äî –¶–µ –º—ñ–π –¥—Ä—É–≥. (Who is this?)</li>
<li>___ —Ç–∏ —Ä–æ–±–∏—à? ‚Äî –ß–∏—Ç–∞—é. (What are you doing?)</li>
<li>___ —Ç–∏ –ø—Ä–∞—Ü—é—î—à? ‚Äî –ó—Ä–∞–Ω–∫—É. (When do you work?)</li>
<li>___ —Å–ø—Ä–∞–≤–∏? ‚Äî –î–æ–±—Ä–µ! (How are things?)</li>
<li>___ —Ç–∏ –Ω–µ —á–∏—Ç–∞—î—à? ‚Äî –Ø –≤—Ç–æ–º–∏–≤—Å—è. (Why don't you read?)</li>
</ol>
<h2 id="exercise3makethesesentencesnegative">Exercise 3: Make These Sentences Negative</h2>
<p>Add <strong>–Ω–µ</strong> to negate:</p>
<ol>
<li>–Ø –ø—Ä–∞—Ü—é—é. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
<li>–í–æ–Ω–∞ —á–∏—Ç–∞—î. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
<li>–ú–∏ –∑–Ω–∞—î–º–æ. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
<li>–í—ñ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å. ‚Üí <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
</ol>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Production</h3>
      <div class="md-content"><h2 id="taskquestiongame">Task: Question Game</h2>
<p>Work with these question-answer pairs. Read the question, then create your own answer:</p>
<ol>
<li><strong>–î–µ —Ç–∏ –∂–∏–≤–µ—à?</strong> ‚Äî <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
<li><strong>–©–æ —Ç–∏ –ª—é–±–∏—à —Ä–æ–±–∏—Ç–∏?</strong> ‚Äî <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
<li><strong>–ß–∏ —Ç–∏ –≥–æ–≤–æ—Ä–∏—à —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é?</strong> ‚Äî <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
<li><strong>–ö–æ–ª–∏ —Ç–∏ –ø—Ä–∞—Ü—é—î—à?</strong> ‚Äî <strong><em><em></em></strong><strong><em></em></em></strong>_</li>
</ol>
<h2 id="taskinterviewpractice">Task: Interview Practice</h2>
<p>Using the question words you learned, write 5 questions you would ask a new Ukrainian friend:</p>
<ol>
<li><strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li><strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li><strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li><strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
<li><strong><em><em></em></strong><strong><em></em></em></strong>_?</li>
</ol>
<hr />
<hr />
<hr /></div>
    </div>
  
      
    <div class="card section-summary">
      <h3>üìã Summary</h3>
      <div class="md-content"><p>In this module, you learned:</p>
<ol>
<li><strong>Yes/No questions</strong> ‚Äî Add <strong>—á–∏</strong> before the sentence (optional in casual speech)</li>
<li><strong>Question words</strong> ‚Äî —â–æ, —Ö—Ç–æ, –¥–µ, –∫—É–¥–∏, –∑–≤—ñ–¥–∫–∏, –∫–æ–ª–∏, —á–æ–º—É, —è–∫, —Å–∫—ñ–ª—å–∫–∏, —è–∫–∏–π</li>
<li><strong>Negation</strong> ‚Äî Add <strong>–Ω–µ</strong> before the verb</li>
<li><strong>Double negation</strong> ‚Äî –ù—ñ–∫–æ–ª–∏ requires –Ω–µ (–Ω—ñ–∫–æ–ª–∏ –Ω–µ)</li>
<li><strong>Frequency adverbs</strong> ‚Äî –∑–∞–≤–∂–¥–∏, —á–∞—Å—Ç–æ, —ñ–Ω–æ–¥—ñ, —Ä—ñ–¥–∫–æ, –Ω—ñ–∫–æ–ª–∏</li>
<li><strong>Gender agreement</strong> ‚Äî –Ø–∫–∏–π/—è–∫–∞/—è–∫–µ matches the noun</li>
</ol>
<p><strong>Key patterns:</strong></p>
<ul>
<li>–ß–∏ —Ç–∏ —á–∏—Ç–∞—î—à? (Do you read?)</li>
<li>–©–æ —Ç–∏ —Ä–æ–±–∏—à? (What are you doing?)</li>
<li>–Ø –Ω–µ –∑–Ω–∞—é. (I don't know.)</li>
<li>–Ø –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–∞–ø—ñ–∑–Ω—é—é—Å—è. (I never am late.)</li>
</ul>
<p>Next module: More verbs! You'll learn Class II verbs (-–∏—Ç–∏/-—ñ—Ç–∏) like –≥–æ–≤–æ—Ä–∏—Ç–∏ (to speak) and –±–∞—á–∏—Ç–∏ (to see).</p></div>
    </div>
  
      <div class="btn-group">
        <button class="btn btn-primary" onclick="showSection('activity-0')">Activities ‚Üí</button>
      </div>
    </section>
  
    
    <section id="activity-0" class="section"><div class="card"><h3>Question Word Recognition</h3>
      <div class="score-display"><span class="score"><span id="activity-0-score">0</span>/12</span></div>
      <div id="activity-0-container"></div>
      <div class="completion-message" id="activity-0-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-0')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-1')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-1" class="section"><div class="card"><h3>Question Words and Meanings</h3>
      <div class="score-display"><span class="score"><span id="activity-1-score">0</span>/12</span></div>
      <div class="match-container" id="activity-1-container"><svg class="match-lines" id="activity-1-lines"></svg>
        <div class="match-column" id="activity-1-left"></div>
        <div class="match-column" id="activity-1-right"></div>
      </div>
      <div class="completion-message" id="activity-1-complete"><h3>Perfect!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-1')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-2')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-2" class="section"><div class="card"><h3>Frequency and Question Words</h3>
      <div class="score-display"><span class="score"><span id="activity-2-score">0</span>/12</span></div>
      <div class="sort-pool" id="activity-2-pool"><div class="sort-items" id="activity-2-items"></div></div>
      <div class="sort-groups" id="activity-2-groups"></div>
      <div class="completion-message" id="activity-2-complete"><h3>All Sorted!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-2')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-3')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-3" class="section"><div class="card"><h3>Question and Negation Rules</h3>
      <div class="score-display"><span class="score"><span id="activity-3-score">0</span>/12</span></div>
      <div id="activity-3-container"></div>
      <div class="completion-message" id="activity-3-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-3')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-4')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-4" class="section"><div class="card"><h3>Complete with Question Words</h3>
      <div class="score-display"><span class="score"><span id="activity-4-score">0</span>/12</span></div>
      <div id="activity-4-container" class="fill-container"></div>
      <div class="completion-message" id="activity-4-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-4')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-5')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-5" class="section"><div class="card"><h3>Positive and Negative Pairs</h3>
      <div class="score-display"><span class="score"><span id="activity-5-score">0</span>/12</span></div>
      <div class="match-container" id="activity-5-container"><svg class="match-lines" id="activity-5-lines"></svg>
        <div class="match-column" id="activity-5-left"></div>
        <div class="match-column" id="activity-5-right"></div>
      </div>
      <div class="completion-message" id="activity-5-complete"><h3>Perfect!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-5')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-6')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-6" class="section"><div class="card"><h3>Question Word Scramble</h3>
      <div class="score-display"><span class="score"><span id="activity-6-score">0</span>/12</span></div>
      <div id="activity-6-container" class="order-container"></div>
      <div class="completion-message" id="activity-6-complete"><h3>Perfect Order!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-6')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-7')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-7" class="section"><div class="card"><h3>Add Negation</h3>
      <div class="score-display"><span class="score"><span id="activity-7-score">0</span>/12</span></div>
      <div id="activity-7-container" class="fill-container"></div>
      <div class="completion-message" id="activity-7-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-7')">Reset</button><button class="btn btn-primary" onclick="showSection('vocab')">Next ‚Üí</button></div>
    </div></section>
    
    <section id="vocab" class="section">
      <div class="card">
        <h3>–°–ª–æ–≤–Ω–∏–∫ (20)</h3>
        <div class="vocab-table-container">
          <table class="vocab-table">
            <thead><tr>
    <th>–°–ª–æ–≤–æ</th>
    
    <th>IPA</th>
    <th>–ü–µ—Ä–µ–∫–ª–∞–¥</th>
    <th>–ü—Ä–∏–º—ñ—Ç–∫–∞</th>
  </tr></thead>
            <tbody><tr><td class="vocab-uk">—â–æ (shcho)</td><td class="vocab-ipa">/ Ét É…î/</td><td class="vocab-en">what</td><td class="vocab-note">Question word</td></tr><tr><td class="vocab-uk">—Ö—Ç–æ (khto)</td><td class="vocab-ipa">/xt…î/</td><td class="vocab-en">who</td><td class="vocab-note">Question word</td></tr><tr><td class="vocab-uk">–¥–µ (de)</td><td class="vocab-ipa">/d…õ/</td><td class="vocab-en">where</td><td class="vocab-note">Location question</td></tr><tr><td class="vocab-uk">–∫—É–¥–∏ (kudy)</td><td class="vocab-ipa">/kuÀàd…™/</td><td class="vocab-en">where to</td><td class="vocab-note">Direction question</td></tr><tr><td class="vocab-uk">–∑–≤—ñ–¥–∫–∏ (zvidky)</td><td class="vocab-ipa">/Ààz ã ≤idk…™/</td><td class="vocab-en">where from</td><td class="vocab-note">Origin question</td></tr><tr><td class="vocab-uk">–∫–æ–ª–∏ (koly)</td><td class="vocab-ipa">/k…îÀàl…™/</td><td class="vocab-en">when</td><td class="vocab-note">Time question</td></tr><tr><td class="vocab-uk">—á–æ–º—É (chomu)</td><td class="vocab-ipa">/t É…îÀàmu/</td><td class="vocab-en">why</td><td class="vocab-note">Reason question</td></tr><tr><td class="vocab-uk">—è–∫ (yak)</td><td class="vocab-ipa">/j…ëk/</td><td class="vocab-en">how</td><td class="vocab-note">Manner question</td></tr><tr><td class="vocab-uk">—Å–∫—ñ–ª—å–∫–∏ (skilky)</td><td class="vocab-ipa">/Ààsk ≤il ≤k…™/</td><td class="vocab-en">how much/many</td><td class="vocab-note">Quantity question</td></tr><tr><td class="vocab-uk">—è–∫–∏–π (yakyy)</td><td class="vocab-ipa">/jaÀàk…™j/</td><td class="vocab-en">which, what kind</td><td class="vocab-note">Changes: —è–∫–∞ (f), —è–∫–µ (n)</td></tr><tr><td class="vocab-uk">—á–∏ (chy)</td><td class="vocab-ipa">/t É…™/</td><td class="vocab-en">whether (question particle)</td><td class="vocab-note">Makes yes/no questions</td></tr><tr><td class="vocab-uk">—Ç–∞–∫ (tak)</td><td class="vocab-ipa">/t…ëk/</td><td class="vocab-en">yes</td><td class="vocab-note">Affirmative answer</td></tr><tr><td class="vocab-uk">–Ω—ñ (ni)</td><td class="vocab-ipa">/n ≤i/</td><td class="vocab-en">no</td><td class="vocab-note">Negative answer</td></tr><tr><td class="vocab-uk">–Ω–µ (ne)</td><td class="vocab-ipa">/n…õ/</td><td class="vocab-en">not</td><td class="vocab-note">Negation particle</td></tr><tr><td class="vocab-uk">–Ω—ñ–∫–æ–ª–∏ (nikoly)</td><td class="vocab-ipa">/n ≤iÀàk…îl…™/</td><td class="vocab-en">never</td><td class="vocab-note">Uses double negation</td></tr><tr><td class="vocab-uk">–∑–∞–≤–∂–¥–∏ (zavzhdy)</td><td class="vocab-ipa">/Ààz…ë ã íd…™/</td><td class="vocab-en">always</td><td class="vocab-note">Frequency adverb</td></tr><tr><td class="vocab-uk">—á–∞—Å—Ç–æ (chasto)</td><td class="vocab-ipa">/Ààt É…ëst…î/</td><td class="vocab-en">often</td><td class="vocab-note">Frequency adverb</td></tr><tr><td class="vocab-uk">—ñ–Ω–æ–¥—ñ (inodi)</td><td class="vocab-ipa">/iÀàn…îd ≤i/</td><td class="vocab-en">sometimes</td><td class="vocab-note">Frequency adverb</td></tr><tr><td class="vocab-uk">—Ä—ñ–¥–∫–æ (ridko)</td><td class="vocab-ipa">/Ààr ≤idk…î/</td><td class="vocab-en">rarely</td><td class="vocab-note">Frequency adverb</td></tr><tr><td class="vocab-uk">–∑–≤–∏—á–∞–π–Ω–æ (zvychayno)</td><td class="vocab-ipa">/zv…™Ààt É…ëjn…î/</td><td class="vocab-en">usually, of course</td><td class="vocab-note">Frequency/agreement</td></tr></tbody>
          </table>
        </div>
      </div>
      
      <div class="btn-group">
        <button class="btn btn-primary" onclick="showSection('lesson')">‚Üê Back to Lesson</button>
      </div>
    </section>
  </main><footer>Module 07 ¬∑ curricula-opus</footer>
  <script>

    const activitiesData = [{"id":"activity-0","type":"quiz","title":"Question Word Recognition","data":{"type":"quiz","questions":[{"question":"You want to know a person's name. Which question do you ask?","options":["–•—Ç–æ —Ü–µ?","–î–µ —Ü–µ?","–©–æ —Ü–µ?","–ö–æ–ª–∏?"],"correctIndex":0,"explanation":"\"–•—Ç–æ\" asks about people!"},{"question":"You want to know a location. Which question word do you use?","options":["–•—Ç–æ?","–î–µ?","–©–æ?","–ß–æ–º—É?"],"correctIndex":1,"explanation":"\"–î–µ\" asks about places!"},{"question":"You want to know the time. Which question word do you use?","options":["–î–µ?","–ß–æ–º—É?","–ö–æ–ª–∏?","–Ø–∫?"],"correctIndex":2,"explanation":"\"–ö–æ–ª–∏\" asks about time!"},{"question":"You want to know a reason. Which question word do you use?","options":["–Ø–∫?","–©–æ?","–ö–æ–ª–∏?","–ß–æ–º—É?"],"correctIndex":3,"explanation":"\"–ß–æ–º—É\" asks \"why\"!"},{"question":"How do you make a statement into a yes/no question?","options":["Add \"—á–∏\" at the beginning","Change the word order","Add \"–Ω–µ\" at the end","Remove the verb"],"correctIndex":0,"explanation":"–ß–∏ turns any statement into a question!"},{"question":"What does \"–Ω–µ\" do in a sentence?","options":["Makes it a question","Makes it negative","Makes it past tense","Makes it formal"],"correctIndex":1,"explanation":"–ù–µ negates the verb!"},{"question":"What is special about \"–Ω—ñ–∫–æ–ª–∏\"?","options":["It means \"always\"","It's only used in questions","It requires double negation with \"–Ω–µ\"","It changes the word order"],"correctIndex":2,"explanation":"–ù—ñ–∫–æ–ª–∏ –Ω–µ = never!"},{"question":"What does \"–Ø–∫ —Å–ø—Ä–∞–≤–∏?\" mean?","options":["Where are you?","Who are you?","How are you?","When are you?"],"correctIndex":2,"explanation":"–Ø–∫ = how!"},{"question":"Which form of \"—è–∫–∏–π\" matches feminine nouns?","options":["—è–∫–∏–π","—è–∫–∞","—è–∫–µ","—è–∫—ñ"],"correctIndex":1,"explanation":"–Ø–∫–∞ for feminine nouns!"},{"question":"What is \"–¢–∞–∫\" in English?","options":["Yes","No","Maybe","Why"],"correctIndex":0,"explanation":"–¢–∞–∫ = yes, –ù—ñ = no!"},{"question":"How do you say \"I don't know\" in Ukrainian?","options":["–Ø –∑–Ω–∞—é","–Ø –Ω–µ –∑–Ω–∞—é","–Ø –Ω—ñ –∑–Ω–∞—é","–Ø —á–∏ –∑–Ω–∞—é"],"correctIndex":1,"explanation":"Add \"–Ω–µ\" before the verb!"},{"question":"What does \"–ó–≤—ñ–¥–∫–∏ —Ç–∏?\" ask?","options":["Where are you?","Where are you going?","Where are you from?","When are you?"],"correctIndex":2,"explanation":"–ó–≤—ñ–¥–∫–∏ asks about origin!"}],"shuffleQuestions":true,"shuffleOptions":true,"showCorrectAnswers":true}},{"id":"activity-1","type":"match-up","title":"Question Words and Meanings","data":{"type":"match-up","pairs":[{"left":"—â–æ","right":"what"},{"left":"—Ö—Ç–æ","right":"who"},{"left":"–¥–µ","right":"where"},{"left":"–∫–æ–ª–∏","right":"when"},{"left":"—á–æ–º—É","right":"why"},{"left":"—è–∫","right":"how"},{"left":"—Å–∫—ñ–ª—å–∫–∏","right":"how much/many"},{"left":"–∫—É–¥–∏","right":"where to"},{"left":"–∑–≤—ñ–¥–∫–∏","right":"where from"},{"left":"—è–∫–∏–π","right":"which/what kind"},{"left":"—á–∏","right":"whether (yes/no)"},{"left":"–Ω—ñ","right":"no"}],"shuffleRight":true}},{"id":"activity-2","type":"group-sort","title":"Frequency and Question Words","data":{"type":"group-sort","groups":[{"id":"frequency-adverbs","name":"Frequency Adverbs","items":["–∑–∞–≤–∂–¥–∏","—á–∞—Å—Ç–æ","–∑–≤–∏—á–∞–π–Ω–æ","—Ä—ñ–¥–∫–æ","—ñ–Ω–æ–¥—ñ","–Ω—ñ–∫–æ–ª–∏"]},{"id":"question-words","name":"Question Words","items":["—â–æ","—Ö—Ç–æ","–¥–µ","–∫–æ–ª–∏","—á–æ–º—É","—è–∫"]}],"shuffleItems":true}},{"id":"activity-3","type":"true-false","title":"Question and Negation Rules","data":{"type":"true-false","statements":[{"statement":"–ß–∏ is required to form all questions in Ukrainian.","isTrue":false,"explanation":"False! –ß–∏ is optional. Rising intonation alone can form a question."},{"statement":"To negate a sentence, add \"–Ω–µ\" before the verb.","isTrue":true,"explanation":"Correct! –Ø —á–∏—Ç–∞—é ‚Üí –Ø –Ω–µ —á–∏—Ç–∞—é."},{"statement":"\"–ù—ñ–∫–æ–ª–∏\" requires double negation with \"–Ω–µ\".","isTrue":true,"explanation":"Correct! –Ø –Ω—ñ–∫–æ–ª–∏ –Ω–µ —á–∏—Ç–∞—é."},{"statement":"The question word \"—è–∫–∏–π\" never changes form.","isTrue":false,"explanation":"False! –Ø–∫–∏–π changes to —è–∫–∞ (f) and —è–∫–µ (n)."},{"statement":"\"–¢–∞–∫\" means \"yes\" and \"–Ω—ñ\" means \"no\".","isTrue":true,"explanation":"Correct! The basics of Ukrainian answers."},{"statement":"Word order must change to form a question.","isTrue":false,"explanation":"False! Word order stays the same. Just add —á–∏ or use rising intonation."},{"statement":"\"–î–µ\" asks about location.","isTrue":true,"explanation":"Correct! –î–µ —Ç–∏? = Where are you?"},{"statement":"\"–ö—É–¥–∏\" and \"–¥–µ\" mean the same thing.","isTrue":false,"explanation":"False! –î–µ = where (location), –ö—É–¥–∏ = where to (direction)."},{"statement":"You can often skip \"—á–∏\" in casual speech.","isTrue":true,"explanation":"Correct! Just use rising intonation."},{"statement":"\"–ó–∞–≤–∂–¥–∏\" means \"never\".","isTrue":false,"explanation":"False! –ó–∞–≤–∂–¥–∏ = always, –ù—ñ–∫–æ–ª–∏ = never."},{"statement":"\"–ß–æ–º—É –Ω—ñ?\" means \"Why not?\"","isTrue":true,"explanation":"Correct! A common phrase to express agreement."},{"statement":"Question words go at the beginning of the sentence.","isTrue":true,"explanation":"Correct! –©–æ —Ç–∏ —Ä–æ–±–∏—à? –î–µ —Ç–∏ –∂–∏–≤–µ—à?"}]}},{"id":"activity-4","type":"fill-blank","title":"Complete with Question Words","data":{"type":"fill-blank","items":[{"prompt":"___ —Ç–∏ —Ä–æ–±–∏—à? ‚Äî –ß–∏—Ç–∞—é.","answer":"–©–æ","options":["–©–æ","–•—Ç–æ","–î–µ","–ö–æ–ª–∏"]},{"prompt":"___ —Ü–µ? ‚Äî –¶–µ –º—ñ–π –¥—Ä—É–≥ –û–ª–µ–≥.","answer":"–•—Ç–æ","options":["–•—Ç–æ","–©–æ","–î–µ","–Ø–∫"]},{"prompt":"___ —Ç–∏ –∂–∏–≤–µ—à? ‚Äî –£ –õ—å–≤–æ–≤—ñ.","answer":"–î–µ","options":["–î–µ","–ö—É–¥–∏","–ó–≤—ñ–¥–∫–∏","–ö–æ–ª–∏"]},{"prompt":"___ —Ç–∏ –ø—Ä–∞—Ü—é—î—à? ‚Äî –ó—Ä–∞–Ω–∫—É.","answer":"–ö–æ–ª–∏","options":["–ö–æ–ª–∏","–î–µ","–ß–æ–º—É","–Ø–∫"]},{"prompt":"___ —Å–ø—Ä–∞–≤–∏? ‚Äî –î–æ–±—Ä–µ, –¥—è–∫—É—é!","answer":"–Ø–∫","options":["–Ø–∫","–©–æ","–•—Ç–æ","–î–µ"]},{"prompt":"___ —Ç–∏ –Ω–µ —á–∏—Ç–∞—î—à? ‚Äî –Ø –≤—Ç–æ–º–∏–≤—Å—è.","answer":"–ß–æ–º—É","options":["–ß–æ–º—É","–Ø–∫","–î–µ","–ö–æ–ª–∏"]},{"prompt":"___ —Ü–µ –∫–æ—à—Ç—É—î? ‚Äî 50 –≥—Ä–∏–≤–µ–Ω—å.","answer":"–°–∫—ñ–ª—å–∫–∏","options":["–°–∫—ñ–ª—å–∫–∏","–©–æ","–î–µ","–Ø–∫"]},{"prompt":"___ —Ç–∏? ‚Äî –ó –£–∫—Ä–∞—ó–Ω–∏.","answer":"–ó–≤—ñ–¥–∫–∏","options":["–ó–≤—ñ–¥–∫–∏","–ö—É–¥–∏","–î–µ","–•—Ç–æ"]},{"prompt":"___ —Ç–∏ –π–¥–µ—à? ‚Äî –î–æ –º–∞–≥–∞–∑–∏–Ω—É.","answer":"–ö—É–¥–∏","options":["–ö—É–¥–∏","–î–µ","–ó–≤—ñ–¥–∫–∏","–ö–æ–ª–∏"]},{"prompt":"___ —Ü–µ –∫–Ω–∏–≥–∞? ‚Äî –¶–µ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –∫–Ω–∏–≥–∞.","answer":"–Ø–∫–∞","options":["–Ø–∫–∞","–Ø–∫–∏–π","–Ø–∫–µ","–î–µ"]},{"prompt":"–í–æ–Ω–∞ ___ –ø—Ä–∞—Ü—é—î.","answer":"–Ω–µ","options":["–Ω–µ","–Ω—ñ","—Ç–∞–∫","—á–∏"]},{"prompt":"___ —Ç–∏ –∑–Ω–∞—î—à? ‚Äî –¢–∞–∫, —è –∑–Ω–∞—é.","answer":"–ß–∏","options":["–ß–∏","–©–æ","–î–µ","–Ø–∫"]}]}},{"id":"activity-5","type":"match-up","title":"Positive and Negative Pairs","data":{"type":"match-up","pairs":[{"left":"–Ø —á–∏—Ç–∞—é.","right":"–Ø –Ω–µ —á–∏—Ç–∞—é."},{"left":"–í—ñ–Ω –ø—Ä–∞—Ü—é—î.","right":"–í—ñ–Ω –Ω–µ –ø—Ä–∞—Ü—é—î."},{"left":"–ú–∏ –∑–Ω–∞—î–º–æ.","right":"–ú–∏ –Ω–µ –∑–Ω–∞—î–º–æ."},{"left":"–í–æ–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç—å.","right":"–í–æ–Ω–∞ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç—å."},{"left":"–¢–∏ —Å–ª—É—Ö–∞—î—à.","right":"–¢–∏ –Ω–µ —Å–ª—É—Ö–∞—î—à."},{"left":"–í–æ–Ω–∏ —Ä–æ–∑—É–º—ñ—é—Ç—å.","right":"–í–æ–Ω–∏ –Ω–µ —Ä–æ–∑—É–º—ñ—é—Ç—å."},{"left":"–Ø –∑–∞–≤–∂–¥–∏ —á–∏—Ç–∞—é.","right":"–Ø –Ω—ñ–∫–æ–ª–∏ –Ω–µ —á–∏—Ç–∞—é."},{"left":"–í–æ–Ω–∞ —á–∞—Å—Ç–æ –ø—Ä–∞—Ü—é—î.","right":"–í–æ–Ω–∞ —Ä—ñ–¥–∫–æ –ø—Ä–∞—Ü—é—î."},{"left":"–ú–∏ –∑–∞–≤–∂–¥–∏ –∑–Ω–∞—î–º–æ.","right":"–ú–∏ —ñ–Ω–æ–¥—ñ –Ω–µ –∑–Ω–∞—î–º–æ."},{"left":"–í—ñ–Ω –∑–∞–≤–∂–¥–∏ –≥–æ–≤–æ—Ä–∏—Ç—å.","right":"–í—ñ–Ω –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç—å."},{"left":"–¢–∏ —á–∞—Å—Ç–æ —Å–ª—É—Ö–∞—î—à.","right":"–¢–∏ –Ω–µ —Å–ª—É—Ö–∞—î—à."},{"left":"–í–æ–Ω–∏ –∑–∞–≤–∂–¥–∏ —Ä–æ–∑—É–º—ñ—é—Ç—å.","right":"–í–æ–Ω–∏ –Ω–µ —Ä–æ–∑—É–º—ñ—é—Ç—å."}],"shuffleRight":true}},{"id":"activity-6","type":"anagram","title":"Question Word Scramble","data":{"type":"anagram","isAnagram":true,"items":[{"letters":["–∫","–æ","–ª","–∏"],"answer":"–∫–æ–ª–∏","translation":"when"},{"letters":["—â","–æ"],"answer":"—â–æ","translation":"what"},{"letters":["–¥","–µ"],"answer":"–¥–µ","translation":"where"},{"letters":["—Ö","—Ç","–æ"],"answer":"—Ö—Ç–æ","translation":"who"},{"letters":["—á","–æ","–º","—É"],"answer":"—á–æ–º—É","translation":"why"},{"letters":["—è","–∫"],"answer":"—è–∫","translation":"how"},{"letters":["–∫","—É","–¥","–∏"],"answer":"–∫—É–¥–∏","translation":"where to"},{"letters":["—Å","–∫","—ñ","–ª","—å","–∫","–∏"],"answer":"—Å–∫—ñ–ª—å–∫–∏","translation":"how much"},{"letters":["–∑","–≤","—ñ","–¥","–∫","–∏"],"answer":"–∑–≤—ñ–¥–∫–∏","translation":"where from"},{"letters":["—è","–∫","–∏","–π"],"answer":"—è–∫–∏–π","translation":"which"},{"letters":["–Ω","—ñ","–∫","–æ","–ª","–∏"],"answer":"–Ω—ñ–∫–æ–ª–∏","translation":"never"},{"letters":["–∑","–∞","–≤","–∂","–¥","–∏"],"answer":"–∑–∞–≤–∂–¥–∏","translation":"always"}]}},{"id":"activity-7","type":"fill-blank","title":"Add Negation","data":{"type":"fill-blank","items":[{"prompt":"–Ø ___ —Ä–æ–∑—É–º—ñ—é —É–∫—Ä–∞—ó–Ω—Å—å–∫—É.","answer":"–Ω–µ","options":["–Ω–µ","–Ω—ñ","—Ç–∞–∫","—á–∏"]},{"prompt":"–í–æ–Ω–∞ ___ —á–∏—Ç–∞—î. (She never reads)","answer":"–Ω—ñ–∫–æ–ª–∏ –Ω–µ","options":["–Ω—ñ–∫–æ–ª–∏ –Ω–µ","–∑–∞–≤–∂–¥–∏","—á–∞—Å—Ç–æ","—ñ–Ω–æ–¥—ñ"]},{"prompt":"–ú–∏ ___ –∑–Ω–∞—î–º–æ —Ü—é –ª—é–¥–∏–Ω—É.","answer":"–Ω–µ","options":["–Ω–µ","–Ω—ñ","—Ç–∞–∫","—á–∏"]},{"prompt":"–í—ñ–Ω ___ –≥–æ–≤–æ—Ä–∏—Ç—å –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é.","answer":"–Ω–µ","options":["–Ω–µ","–Ω—ñ","—Ç–∞–∫","—á–∏"]},{"prompt":"–í–æ–Ω–∏ ___ –ø—Ä–∞—Ü—é—é—Ç—å —É –Ω–µ–¥—ñ–ª—é.","answer":"–Ω–µ","options":["–Ω–µ","–Ω—ñ","—Ç–∞–∫","—á–∏"]},{"prompt":"___, –¥—è–∫—É—é. –Ø –Ω–µ —Ö–æ—á—É.","answer":"–ù—ñ","options":["–ù—ñ","–¢–∞–∫","–ß–æ–º—É","–î–µ"]},{"prompt":"–Ø ___ –∑–∞–ø—ñ–∑–Ω—é—é—Å—è. (I never am late)","answer":"–Ω—ñ–∫–æ–ª–∏ –Ω–µ","options":["–Ω—ñ–∫–æ–ª–∏ –Ω–µ","–∑–∞–≤–∂–¥–∏","—á–∞—Å—Ç–æ","—Ä—ñ–¥–∫–æ"]},{"prompt":"___, —è —á–∏—Ç–∞—é —Ü—é –∫–Ω–∏–≥—É.","answer":"–¢–∞–∫","options":["–¢–∞–∫","–ù—ñ","–ù–µ","–ß–∏"]},{"prompt":"–í–æ–Ω–∞ ___ –ø—Ä–∞—Ü—é—î —Ç—É—Ç.","answer":"—Ä—ñ–¥–∫–æ","options":["—Ä—ñ–¥–∫–æ","–Ω—ñ–∫–æ–ª–∏ –Ω–µ","–∑–∞–≤–∂–¥–∏","–Ω–µ"]},{"prompt":"–ú–∏ ___ –≥—É–ª—è—î–º–æ –≤ –ø–∞—Ä–∫—É.","answer":"—á–∞—Å—Ç–æ","options":["—á–∞—Å—Ç–æ","–Ω—ñ–∫–æ–ª–∏","–Ω–µ","—Ä—ñ–¥–∫–æ –Ω–µ"]},{"prompt":"–¢–∏ ___ —Å–Ω—ñ–¥–∞—î—à? (Do you eat breakfast?)","answer":"—á–∏","options":["—á–∏","–Ω–µ","–Ω—ñ","—è–∫"]},{"prompt":"–Ø ___ –ø'—é –∫–∞–≤—É –≤—Ä–∞–Ω—Ü—ñ.","answer":"—ñ–Ω–æ–¥—ñ","options":["—ñ–Ω–æ–¥—ñ","–Ω—ñ–∫–æ–ª–∏ –Ω–µ","—á–∏","–¥–µ"]}]}}];
    const vocabData = [{"uk":"—â–æ (shcho)","translit":"","en":"what","note":"Question word"},{"uk":"—Ö—Ç–æ (khto)","translit":"","en":"who","note":"Question word"},{"uk":"–¥–µ (de)","translit":"","en":"where","note":"Location question"},{"uk":"–∫—É–¥–∏ (kudy)","translit":"","en":"where to","note":"Direction question"},{"uk":"–∑–≤—ñ–¥–∫–∏ (zvidky)","translit":"","en":"where from","note":"Origin question"},{"uk":"–∫–æ–ª–∏ (koly)","translit":"","en":"when","note":"Time question"},{"uk":"—á–æ–º—É (chomu)","translit":"","en":"why","note":"Reason question"},{"uk":"—è–∫ (yak)","translit":"","en":"how","note":"Manner question"},{"uk":"—Å–∫—ñ–ª—å–∫–∏ (skilky)","translit":"","en":"how much/many","note":"Quantity question"},{"uk":"—è–∫–∏–π (yakyy)","translit":"","en":"which, what kind","note":"Changes: —è–∫–∞ (f), —è–∫–µ (n)"},{"uk":"—á–∏ (chy)","translit":"","en":"whether (question particle)","note":"Makes yes/no questions"},{"uk":"—Ç–∞–∫ (tak)","translit":"","en":"yes","note":"Affirmative answer"},{"uk":"–Ω—ñ (ni)","translit":"","en":"no","note":"Negative answer"},{"uk":"–Ω–µ (ne)","translit":"","en":"not","note":"Negation particle"},{"uk":"–Ω—ñ–∫–æ–ª–∏ (nikoly)","translit":"","en":"never","note":"Uses double negation"},{"uk":"–∑–∞–≤–∂–¥–∏ (zavzhdy)","translit":"","en":"always","note":"Frequency adverb"},{"uk":"—á–∞—Å—Ç–æ (chasto)","translit":"","en":"often","note":"Frequency adverb"},{"uk":"—ñ–Ω–æ–¥—ñ (inodi)","translit":"","en":"sometimes","note":"Frequency adverb"},{"uk":"—Ä—ñ–¥–∫–æ (ridko)","translit":"","en":"rarely","note":"Frequency adverb"},{"uk":"–∑–≤–∏—á–∞–π–Ω–æ (zvychayno)","translit":"","en":"usually, of course","note":"Frequency/agreement"}];
  
// Answer callout toggle (for new > [!answer] syntax)
function toggleAnswer(id, btn) {
  const el = document.getElementById(id);
  if (!el) return;
  const isUkrainian = document.querySelector('.level-badge')?.textContent.match(/B[12]|C[12]/);
  const showText = isUkrainian ? '–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å' : 'Show Answer';
  const hideText = isUkrainian ? '–°—Ö–æ–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å' : 'Hide Answer';
  const show = !el.classList.contains('show');
  if (show) {
    el.classList.add('show');
    btn.textContent = hideText;
    btn.classList.add('revealed');
  } else {
    el.classList.remove('show');
    btn.textContent = showText;
    btn.classList.remove('revealed');
  }
}

// Section navigation
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
  document.getElementById(id)?.classList.add('active');
  document.querySelector('[data-section="' + id + '"]')?.classList.add('active');
}
document.querySelectorAll('.nav-tab').forEach(t => t.addEventListener('click', () => showSection(t.dataset.section)));

// Activity reset dispatcher
function resetActivity(sectionId) {
  const activity = activitiesData.find(a => a.id === sectionId);
  if (!activity) return;

  switch (activity.type) {
    case 'match-up':
      resetMatch(sectionId);
      break;
    case 'quiz':
      resetQuiz(sectionId);
      break;
    case 'true-false':
      resetTf(sectionId);
      break;
    case 'group-sort':
      resetSort(sectionId);
      break;
    case 'fill-blank':
    case 'gap-fill':
      resetFill(sectionId);
      break;
    case 'unjumble':
    case 'anagram':
      resetOrder(sectionId);
      break;
    case 'select':
      resetSelect(sectionId);
      break;
  }
}

// Initialize all activities from activitiesData array
document.addEventListener('DOMContentLoaded', () => {
  if (typeof activitiesData === 'undefined') return;

  activitiesData.forEach(activity => {
    switch (activity.type) {
      case 'match-up':
        initMatch(activity.id, activity.data);
        break;
      case 'quiz':
        initQuiz(activity.id, activity.data);
        break;
      case 'true-false':
        initTf(activity.id, activity.data);
        break;
      case 'group-sort':
        initSort(activity.id, activity.data);
        break;
      case 'fill-blank':
      case 'gap-fill':
        initFill(activity.id, activity.data);
        break;
      case 'unjumble':
      case 'anagram':
        initOrder(activity.id, activity.data);
        break;
      case 'select':
        initSelect(activity.id, activity.data);
        break;
    }
  });

  // Initialize vocabulary
  if (typeof initVocab === 'function') initVocab();
});


// Quiz Activity - supports multiple instances
const quizState = {};

function initQuiz(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.questions || !data.questions.length) return;

  quizState[sectionId] = { score: 0, answered: 0, total: data.questions.length, data: data };

  c.innerHTML = '';
  data.questions.forEach((q, i) => {
    const sh = [...q.options].sort(() => Math.random() - 0.5);
    const cor = sh.indexOf(q.options[q.correctIndex]);
    const div = document.createElement('div');
    div.className = 'quiz-question';
    div.dataset.section = sectionId;
    div.innerHTML = '<h4>Q' + (i + 1) + ': ' + q.question + '</h4><div class="quiz-options">' + sh.map((o, j) => '<div class="quiz-option" data-c="' + (j === cor) + '" data-q="' + i + '" data-section="' + sectionId + '">' + o + '</div>').join('') + '</div><div class="quiz-explanation" id="' + sectionId + '-exp-' + i + '">' + (q.explanation || '') + '</div>';
    c.appendChild(div);
  });
  c.querySelectorAll('.quiz-option').forEach(o => o.addEventListener('click', handleQuiz));
}

function handleQuiz(e) {
  const opt = e.target, q = opt.closest('.quiz-question');
  const sectionId = opt.dataset.section;
  if (q.classList.contains('answered')) return;
  q.classList.add('answered');

  const state = quizState[sectionId];
  if (opt.dataset.c === 'true') {
    opt.classList.add('correct');
    state.score++;
  } else {
    opt.classList.add('wrong');
    q.querySelector('[data-c="true"]').classList.add('correct');
  }
  document.getElementById(sectionId + '-exp-' + opt.dataset.q)?.classList.add('show');
  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;
  if (state.answered === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
}

function resetQuiz(sectionId) {
  const state = quizState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initQuiz(sectionId, state.data);
}


// True/False Activity - supports multiple instances
const tfState = {};

function initTf(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.statements || !data.statements.length) return;

  tfState[sectionId] = { score: 0, answered: 0, total: data.statements.length, data: data };

  c.innerHTML = '';
  data.statements.forEach((s, i) => {
    const div = document.createElement('div');
    div.className = 'tf-statement';
    div.dataset.section = sectionId;
    div.innerHTML = '<p class="tf-text">' + s.statement + '</p>' +
      '<div class="tf-buttons">' +
      '<button class="tf-btn" data-value="true" data-idx="' + i + '" data-section="' + sectionId + '">True</button>' +
      '<button class="tf-btn" data-value="false" data-idx="' + i + '" data-section="' + sectionId + '">False</button>' +
      '</div>' +
      '<div class="tf-explanation" id="' + sectionId + '-exp-' + i + '">' + (s.explanation || '') + '</div>';
    div.dataset.correct = s.isTrue;
    c.appendChild(div);
  });
  c.querySelectorAll('.tf-btn').forEach(b => b.addEventListener('click', handleTf));
}

function handleTf(e) {
  const btn = e.target;
  const sectionId = btn.dataset.section;
  const idx = parseInt(btn.dataset.idx);
  const statement = btn.closest('.tf-statement');
  const state = tfState[sectionId];
  if (statement.classList.contains('answered')) return;

  statement.classList.add('answered');
  const correct = state.data.statements[idx].isTrue;
  const clicked = btn.dataset.value === 'true';

  if (clicked === correct) {
    btn.classList.add('correct');
    state.score++;
  } else {
    btn.classList.add('wrong');
    // Highlight the correct answer
    statement.querySelector('[data-value="' + correct + '"]').classList.add('correct');
  }

  const exp = document.getElementById(sectionId + '-exp-' + idx);
  if (exp && exp.textContent) exp.classList.add('show');

  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;
  if (state.answered === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
}

function resetTf(sectionId) {
  const state = tfState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initTf(sectionId, state.data);
}


// Match Activity - supports multiple instances
const matchState = {};

function initMatch(sectionId, data) {
  const container = document.getElementById(sectionId + '-container');
  const leftCol = document.getElementById(sectionId + '-left');
  const rightCol = document.getElementById(sectionId + '-right');
  if (!container || !leftCol || !rightCol || !data.pairs || !data.pairs.length) return;

  const pairs = data.pairs;
  matchState[sectionId] = { selected: null, score: 0, matched: [], total: pairs.length, data: data };

  // Create left column items
  const shuffledLeft = pairs.map((p, i) => ({ text: p.left, idx: i })).sort(() => Math.random() - 0.5);
  leftCol.innerHTML = shuffledLeft.map(p => '<div class="match-item" data-pair="' + p.idx + '" data-section="' + sectionId + '" data-side="left">' + p.text + '</div>').join('');

  // Create right column items
  const shuffledRight = pairs.map((p, i) => ({ text: p.right, idx: i })).sort(() => Math.random() - 0.5);
  rightCol.innerHTML = shuffledRight.map(p => '<div class="match-item" data-pair="' + p.idx + '" data-section="' + sectionId + '" data-side="right">' + p.text + '</div>').join('');

  // Attach click handlers
  leftCol.querySelectorAll('.match-item').forEach(item => {
    item.addEventListener('click', () => handleMatchLeft(item));
  });
  rightCol.querySelectorAll('.match-item').forEach(item => {
    item.addEventListener('click', () => handleMatchRight(item));
  });
}

function handleMatchLeft(item) {
  const sectionId = item.dataset.section;
  const state = matchState[sectionId];
  if (item.classList.contains('matched')) return;

  const leftCol = document.getElementById(sectionId + '-left');
  leftCol.querySelectorAll('.match-item').forEach(i => i.classList.remove('selected'));
  item.classList.add('selected');
  state.selected = { el: item, pair: item.dataset.pair };
}

function handleMatchRight(item) {
  const sectionId = item.dataset.section;
  const state = matchState[sectionId];
  if (item.classList.contains('matched') || !state.selected) return;

  if (state.selected.pair === item.dataset.pair) {
    state.selected.el.classList.remove('selected');
    state.selected.el.classList.add('matched');
    item.classList.add('matched');
    state.matched.push({ left: state.selected.el, right: item });
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;
    drawMatchLines(sectionId);
    if (state.score === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
  } else {
    item.classList.add('wrong');
    setTimeout(() => item.classList.remove('wrong'), 300);
  }
  state.selected = null;
}

function drawMatchLines(sectionId) {
  const svg = document.getElementById(sectionId + '-lines');
  const container = document.getElementById(sectionId + '-container');
  const state = matchState[sectionId];
  if (!svg || !container || !state) return;

  const r = container.getBoundingClientRect();
  svg.innerHTML = '';
  svg.setAttribute('viewBox', '0 0 ' + r.width + ' ' + r.height);
  state.matched.forEach(p => {
    const lr = p.left.getBoundingClientRect(), rr = p.right.getBoundingClientRect();
    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    line.setAttribute('x1', lr.right - r.left);
    line.setAttribute('y1', lr.top + lr.height / 2 - r.top);
    line.setAttribute('x2', rr.left - r.left);
    line.setAttribute('y2', rr.top + rr.height / 2 - r.top);
    line.setAttribute('stroke', '#26a269');
    line.setAttribute('stroke-width', '2');
    svg.appendChild(line);
  });
}

function resetMatch(sectionId) {
  const state = matchState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  document.getElementById(sectionId + '-lines').innerHTML = '';
  initMatch(sectionId, state.data);
}

// Redraw lines on resize for all match activities
window.addEventListener('resize', () => {
  Object.keys(matchState).forEach(sectionId => drawMatchLines(sectionId));
});


// Sort Activity - supports multiple instances
const sortState = {};

function initSort(sectionId, data) {
  const pool = document.getElementById(sectionId + '-items');
  const groupsContainer = document.getElementById(sectionId + '-groups');
  if (!pool || !groupsContainer || !data.groups || !data.groups.length) return;

  const groups = data.groups;
  const totalItems = groups.reduce((sum, g) => sum + g.items.length, 0);
  sortState[sectionId] = { score: 0, total: totalItems, dragItem: null, data: data };

  // Create group containers
  groupsContainer.innerHTML = groups.map((g, i) =>
    '<div class="sort-group" data-group="' + i + '" data-section="' + sectionId + '"><h4>' + g.name + '</h4><div class="sort-items"></div></div>'
  ).join('');

  // Flatten and shuffle all items
  const allItems = groups.flatMap((g, gi) => g.items.map(item => ({ text: item, group: gi })));
  allItems.sort(() => Math.random() - 0.5);

  // Create draggable items
  pool.innerHTML = '';
  allItems.forEach(item => {
    const el = document.createElement('div');
    el.className = 'sort-item';
    el.textContent = item.text;
    el.draggable = true;
    el.dataset.group = item.group;
    el.dataset.section = sectionId;
    el.addEventListener('dragstart', () => {
      sortState[sectionId].dragItem = el;
      el.classList.add('dragging');
    });
    el.addEventListener('dragend', () => {
      el.classList.remove('dragging');
      sortState[sectionId].dragItem = null;
    });
    pool.appendChild(el);
  });

  // Setup drop zones
  groupsContainer.querySelectorAll('.sort-group').forEach(g => {
    g.addEventListener('dragover', e => {
      e.preventDefault();
      g.classList.add('drag-over');
    });
    g.addEventListener('dragleave', () => g.classList.remove('drag-over'));
    g.addEventListener('drop', e => handleSortDrop(e, g));
  });
}

function handleSortDrop(e, groupEl) {
  e.preventDefault();
  groupEl.classList.remove('drag-over');
  const sectionId = groupEl.dataset.section;
  const state = sortState[sectionId];
  const dragItem = state.dragItem;
  if (!dragItem) return;

  if (groupEl.dataset.group === dragItem.dataset.group) {
    dragItem.classList.add('correct');
    groupEl.querySelector('.sort-items').appendChild(dragItem);
    dragItem.draggable = false;
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;
    if (state.score === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
  } else {
    dragItem.classList.add('wrong');
    setTimeout(() => dragItem.classList.remove('wrong'), 300);
  }
}

function resetSort(sectionId) {
  const state = sortState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initSort(sectionId, state.data);
}


// Fill-in Activity - supports multiple instances
const fillState = {};

function initFill(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  fillState[sectionId] = { score: 0, answered: 0, total: data.items.length, data: data };
  c.innerHTML = '';

  data.items.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'fill-question';
    div.dataset.section = sectionId;

    // Generate options: correct answer + 3 distractors
    let options = [];
    if (item.options && item.options.length >= 4) {
      options = item.options;
    } else {
      // Fallback: generate distractors from other items' answers
      options = [item.answer];
      const otherAnswers = data.items
        .filter((_, idx) => idx !== i)
        .map(it => it.answer)
        .filter(a => a && a !== item.answer);

      const shuffled = otherAnswers.sort(() => Math.random() - 0.5);
      options.push(...shuffled.slice(0, 3));

      while (options.length < 4) {
        options.push('‚Äî');
      }
    }

    // Shuffle options
    const shuffledOptions = [...options].sort(() => Math.random() - 0.5);

    // Replace ___ in the sentence with a dropdown
    const sentence = (item.prompt || item.sentence || '').replace(/___/g,
      `<select class="fill-dropdown" data-idx="${i}" data-answer="${item.answer}" data-section="${sectionId}">
        <option value="" disabled selected>‚Äî</option>
        ${shuffledOptions.map(opt => `<option value="${opt}">${opt}</option>`).join('')}
      </select>`
    );

    div.innerHTML = `
      <div class="fill-sentence">
        <span class="fill-number">${i + 1}.</span>
        ${sentence}
      </div>
      <div class="fill-feedback" id="${sectionId}-fb-${i}"></div>
    `;
    c.appendChild(div);
  });

  // Event delegation for dropdown changes
  c.addEventListener('change', (e) => {
    if (e.target.classList.contains('fill-dropdown')) {
      handleFillChoice(e.target);
    }
  });
}

function handleFillChoice(dropdown) {
  const q = dropdown.closest('.fill-question');
  const sectionId = dropdown.dataset.section;
  const state = fillState[sectionId];
  if (q.classList.contains('answered')) return;

  const idx = dropdown.dataset.idx;
  const userAnswer = dropdown.value;
  const correctAnswer = dropdown.dataset.answer;
  const fb = document.getElementById(sectionId + '-fb-' + idx);

  q.classList.add('answered');
  dropdown.disabled = true;

  if (userAnswer === correctAnswer) {
    dropdown.classList.add('correct');
    fb.innerHTML = '<span class="correct-text">‚úì Correct!</span>';
    state.score++;
  } else {
    dropdown.classList.add('wrong');
    fb.innerHTML = `<span class="wrong-text">‚úó Answer: ${correctAnswer}</span>`;
  }

  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;
  if (state.answered === state.total) {
    document.getElementById(sectionId + '-complete').classList.add('show');
  }
}

function resetFill(sectionId) {
  const state = fillState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initFill(sectionId, state.data);
}


// Order/Unjumble/Anagram Activity - supports multiple instances
const orderState = {};

function initOrder(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  orderState[sectionId] = { score: 0, total: data.items.length, data: data };
  c.innerHTML = '';

  if (data.isAnagram) {
    initAnagram(sectionId, c, data);
  } else if (data.isUnjumble) {
    initUnjumble(sectionId, c, data);
  } else {
    initClassicOrder(sectionId, c, data);
  }
}

// UNJUMBLE: Drag-and-drop words to form sentences
function initUnjumble(sectionId, container, data) {
  data.items.forEach((item, idx) => {
    const question = document.createElement('div');
    question.className = 'unjumble-question';
    question.dataset.idx = idx;
    question.dataset.section = sectionId;

    // Shuffle words
    const shuffledWords = [...item.words].sort(() => Math.random() - 0.5);

    question.innerHTML = `
      <div class="unjumble-number">${idx + 1}.</div>
      <div class="unjumble-word-row" data-idx="${idx}" data-section="${sectionId}">
        ${shuffledWords.map((word, i) => `
          <span class="unjumble-word" draggable="true" data-word="${word}">${word}</span>
        `).join('')}
      </div>
      <div class="unjumble-actions">
        <button class="btn btn-sm btn-outline unjumble-check" data-idx="${idx}" data-section="${sectionId}">Check</button>
        <button class="btn btn-sm btn-outline unjumble-reset" data-idx="${idx}" data-section="${sectionId}">Reset</button>
      </div>
      <div class="unjumble-feedback" data-idx="${idx}" data-section="${sectionId}"></div>
    `;

    container.appendChild(question);

    // Initialize drag-and-drop for this row
    initUnjumbleDragDrop(question.querySelector('.unjumble-word-row'));
  });

  // Event delegation for buttons
  container.addEventListener('click', handleUnjumbleClick);
}

function initUnjumbleDragDrop(row) {
  let dragItem = null;

  row.querySelectorAll('.unjumble-word').forEach(word => {
    word.addEventListener('dragstart', (e) => {
      dragItem = word;
      word.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    word.addEventListener('dragend', () => {
      word.classList.remove('dragging');
      dragItem = null;
    });

    word.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === word) return;

      const rect = word.getBoundingClientRect();
      const midX = rect.left + rect.width / 2;

      if (e.clientX < midX) {
        row.insertBefore(dragItem, word);
      } else {
        row.insertBefore(dragItem, word.nextSibling);
      }
    });
  });

  // Touch support for mobile
  let touchItem = null;
  let touchClone = null;

  row.querySelectorAll('.unjumble-word').forEach(word => {
    word.addEventListener('touchstart', (e) => {
      touchItem = word;
      word.classList.add('dragging');

      // Create a clone for visual feedback
      touchClone = word.cloneNode(true);
      touchClone.classList.add('touch-clone');
      document.body.appendChild(touchClone);
      updateTouchClone(e.touches[0]);
    });

    word.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!touchItem) return;
      updateTouchClone(e.touches[0]);

      // Find which word we're over
      const touch = e.touches[0];
      const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
      const targetWord = elements.find(el => el.classList.contains('unjumble-word') && el !== touchItem);

      if (targetWord && targetWord.parentNode === row) {
        const rect = targetWord.getBoundingClientRect();
        const midX = rect.left + rect.width / 2;
        if (touch.clientX < midX) {
          row.insertBefore(touchItem, targetWord);
        } else {
          row.insertBefore(touchItem, targetWord.nextSibling);
        }
      }
    });

    word.addEventListener('touchend', () => {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
    });
  });

  function updateTouchClone(touch) {
    if (touchClone) {
      touchClone.style.left = (touch.clientX - 40) + 'px';
      touchClone.style.top = (touch.clientY - 20) + 'px';
    }
  }
}

function handleUnjumbleClick(e) {
  const target = e.target;

  if (target.classList.contains('unjumble-check')) {
    checkUnjumbleAnswer(target.dataset.section, parseInt(target.dataset.idx));
  }

  if (target.classList.contains('unjumble-reset')) {
    resetUnjumbleQuestion(target.dataset.section, parseInt(target.dataset.idx));
  }
}

function checkUnjumbleAnswer(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.unjumble-word-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.unjumble-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.unjumble-question[data-section="${sectionId}"][data-idx="${idx}"]`);

  // Build user's answer from current word order
  const words = row.querySelectorAll('.unjumble-word');
  const userAnswer = Array.from(words).map(w => w.dataset.word).join(' ');

  // Normalize for comparison (handle punctuation)
  const normalize = (s) => s.replace(/[?!.,]/g, '').toLowerCase().trim();
  const isCorrect = normalize(userAnswer) === normalize(item.answer);

  if (isCorrect) {
    question.classList.add('answered', 'correct');
    row.classList.add('correct');
    words.forEach(w => w.setAttribute('draggable', 'false'));
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;

    feedback.innerHTML = `
      <span class="correct-text">‚úì Correct!</span>
      <span class="translation">${item.translation || ''}</span>
    `;
    feedback.classList.add('show');

    if (state.score === state.total) {
      document.getElementById(sectionId + '-complete').classList.add('show');
    }
  } else {
    question.classList.add('wrong');
    row.classList.add('wrong');

    feedback.innerHTML = `
      <span class="wrong-text">‚úó Try again. Hint: ${item.answer}</span>
    `;
    feedback.classList.add('show');

    setTimeout(() => {
      question.classList.remove('wrong');
      row.classList.remove('wrong');
      feedback.classList.remove('show');
    }, 2000);
  }
}

function resetUnjumbleQuestion(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.unjumble-word-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.unjumble-question[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.unjumble-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);

  if (question.classList.contains('correct')) return;

  // Re-shuffle and rebuild
  const shuffledWords = [...item.words].sort(() => Math.random() - 0.5);
  row.innerHTML = shuffledWords.map(word => `
    <span class="unjumble-word" draggable="true" data-word="${word}">${word}</span>
  `).join('');

  initUnjumbleDragDrop(row);

  question.classList.remove('wrong');
  row.classList.remove('wrong');
  feedback.innerHTML = '';
  feedback.classList.remove('show');
}

// ANAGRAM: Drag-and-drop letters to form a single word
function initAnagram(sectionId, container, data) {
  data.items.forEach((item, idx) => {
    const question = document.createElement('div');
    question.className = 'anagram-question';
    question.dataset.idx = idx;
    question.dataset.section = sectionId;

    // Shuffle letters
    const shuffledLetters = [...item.letters].sort(() => Math.random() - 0.5);

    question.innerHTML = `
      <div class="anagram-number">${idx + 1}.</div>
      <div class="anagram-letter-row" data-idx="${idx}" data-section="${sectionId}">
        ${shuffledLetters.map((letter, i) => `
          <span class="anagram-letter" draggable="true" data-letter="${letter}">${letter}</span>
        `).join('')}
      </div>
      <div class="anagram-actions">
        <button class="btn btn-sm btn-outline anagram-check" data-idx="${idx}" data-section="${sectionId}">Check</button>
        <button class="btn btn-sm btn-outline anagram-reset" data-idx="${idx}" data-section="${sectionId}">Reset</button>
      </div>
      <div class="anagram-feedback" data-idx="${idx}" data-section="${sectionId}"></div>
    `;

    container.appendChild(question);

    // Initialize drag-and-drop for this row
    initAnagramDragDrop(question.querySelector('.anagram-letter-row'));
  });

  // Event delegation for buttons
  container.addEventListener('click', handleAnagramClick);
}

function initAnagramDragDrop(row) {
  let dragItem = null;

  row.querySelectorAll('.anagram-letter').forEach(letter => {
    letter.addEventListener('dragstart', (e) => {
      dragItem = letter;
      letter.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    letter.addEventListener('dragend', () => {
      letter.classList.remove('dragging');
      dragItem = null;
    });

    letter.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === letter) return;

      const rect = letter.getBoundingClientRect();
      const midX = rect.left + rect.width / 2;

      if (e.clientX < midX) {
        row.insertBefore(dragItem, letter);
      } else {
        row.insertBefore(dragItem, letter.nextSibling);
      }
    });
  });

  // Touch support for mobile
  let touchItem = null;
  let touchClone = null;

  row.querySelectorAll('.anagram-letter').forEach(letter => {
    letter.addEventListener('touchstart', (e) => {
      touchItem = letter;
      letter.classList.add('dragging');

      // Create a clone for visual feedback
      touchClone = letter.cloneNode(true);
      touchClone.classList.add('touch-clone');
      document.body.appendChild(touchClone);
      updateAnagramTouchClone(e.touches[0], touchClone);
    });

    letter.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!touchItem) return;
      updateAnagramTouchClone(e.touches[0], touchClone);

      // Find which letter we're over
      const touch = e.touches[0];
      const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
      const targetLetter = elements.find(el => el.classList.contains('anagram-letter') && el !== touchItem);

      if (targetLetter && targetLetter.parentNode === row) {
        const rect = targetLetter.getBoundingClientRect();
        const midX = rect.left + rect.width / 2;
        if (touch.clientX < midX) {
          row.insertBefore(touchItem, targetLetter);
        } else {
          row.insertBefore(touchItem, targetLetter.nextSibling);
        }
      }
    });

    letter.addEventListener('touchend', () => {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
    });
  });

  function updateAnagramTouchClone(touch, clone) {
    if (clone) {
      clone.style.left = (touch.clientX - 20) + 'px';
      clone.style.top = (touch.clientY - 20) + 'px';
    }
  }
}

function handleAnagramClick(e) {
  const target = e.target;

  if (target.classList.contains('anagram-check')) {
    checkAnagramAnswer(target.dataset.section, parseInt(target.dataset.idx));
  }

  if (target.classList.contains('anagram-reset')) {
    resetAnagramQuestion(target.dataset.section, parseInt(target.dataset.idx));
  }
}

function checkAnagramAnswer(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.anagram-letter-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.anagram-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.anagram-question[data-section="${sectionId}"][data-idx="${idx}"]`);

  // Build user's answer from current letter order
  const letters = row.querySelectorAll('.anagram-letter');
  const userAnswer = Array.from(letters).map(l => l.dataset.letter).join('');

  // Compare with correct answer
  const isCorrect = userAnswer.toLowerCase() === item.answer.toLowerCase();

  if (isCorrect) {
    question.classList.add('answered', 'correct');
    row.classList.add('correct');
    letters.forEach(l => l.setAttribute('draggable', 'false'));
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;

    feedback.innerHTML = `
      <span class="correct-text">‚úì Correct!</span>
      <span class="translation">${item.translation || ''}</span>
    `;
    feedback.classList.add('show');

    if (state.score === state.total) {
      document.getElementById(sectionId + '-complete').classList.add('show');
    }
  } else {
    question.classList.add('wrong');
    row.classList.add('wrong');

    feedback.innerHTML = `
      <span class="wrong-text">‚úó Try again. Hint: ${item.answer}</span>
    `;
    feedback.classList.add('show');

    setTimeout(() => {
      question.classList.remove('wrong');
      row.classList.remove('wrong');
      feedback.classList.remove('show');
    }, 2000);
  }
}

function resetAnagramQuestion(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.anagram-letter-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.anagram-question[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.anagram-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);

  if (question.classList.contains('correct')) return;

  // Re-shuffle and rebuild
  const shuffledLetters = [...item.letters].sort(() => Math.random() - 0.5);
  row.innerHTML = shuffledLetters.map(letter => `
    <span class="anagram-letter" draggable="true" data-letter="${letter}">${letter}</span>
  `).join('');

  initAnagramDragDrop(row);

  question.classList.remove('wrong');
  row.classList.remove('wrong');
  feedback.innerHTML = '';
  feedback.classList.remove('show');
}

// CLASSIC ORDER: Drag items into correct sequence
function initClassicOrder(sectionId, container, data) {
  const state = orderState[sectionId];

  // Create array with original indices, then shuffle
  const items = [...data.items].map((item, idx) => ({ text: item, origIdx: idx }));
  // Fisher-Yates shuffle
  for (let i = items.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [items[i], items[j]] = [items[j], items[i]];
  }

  // Create container div for all items
  const wrapper = document.createElement('div');
  wrapper.className = 'order-items-wrapper';
  wrapper.dataset.section = sectionId;

  // Create each sentence as a draggable item
  items.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'order-sentence-card';
    div.draggable = true;
    div.dataset.orig = item.origIdx;
    div.dataset.section = sectionId;
    div.innerHTML = '<span class="order-card-num">' + (i + 1) + '</span><span class="order-card-text">' + item.text + '</span>';
    wrapper.appendChild(div);
  });

  container.appendChild(wrapper);

  // Add buttons
  const btnDiv = document.createElement('div');
  btnDiv.className = 'order-buttons';
  btnDiv.innerHTML = '<button class="btn btn-outline order-check-btn" data-section="' + sectionId + '">Check Order</button>';
  container.appendChild(btnDiv);

  // Add feedback area
  const feedback = document.createElement('div');
  feedback.className = 'order-feedback';
  feedback.dataset.section = sectionId;
  container.appendChild(feedback);

  // Initialize drag-and-drop
  initOrderCardDragDrop(wrapper);

  // Button click handler
  btnDiv.querySelector('.order-check-btn').onclick = function() { checkOrder(sectionId); };
}

function initOrderCardDragDrop(wrapper) {
  let dragItem = null;

  wrapper.querySelectorAll('.order-sentence-card').forEach(function(card) {
    card.addEventListener('dragstart', function(e) {
      dragItem = card;
      card.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    card.addEventListener('dragend', function() {
      card.classList.remove('dragging');
      dragItem = null;
      updateCardNumbers(wrapper);
    });

    card.addEventListener('dragover', function(e) {
      e.preventDefault();
      if (!dragItem || dragItem === card) return;
      const rect = card.getBoundingClientRect();
      const midY = rect.top + rect.height / 2;
      if (e.clientY < midY) {
        wrapper.insertBefore(dragItem, card);
      } else {
        wrapper.insertBefore(dragItem, card.nextSibling);
      }
    });
  });

  // Touch support
  let touchItem = null;
  let touchClone = null;

  wrapper.querySelectorAll('.order-sentence-card').forEach(function(card) {
    card.addEventListener('touchstart', function(e) {
      touchItem = card;
      card.classList.add('dragging');
      touchClone = card.cloneNode(true);
      touchClone.style.position = 'fixed';
      touchClone.style.zIndex = '1000';
      touchClone.style.pointerEvents = 'none';
      touchClone.style.opacity = '0.8';
      touchClone.style.maxWidth = '90vw';
      document.body.appendChild(touchClone);
      moveTouchClone(e.touches[0]);
    });

    card.addEventListener('touchmove', function(e) {
      e.preventDefault();
      if (!touchItem) return;
      moveTouchClone(e.touches[0]);
      const touch = e.touches[0];
      const els = document.elementsFromPoint(touch.clientX, touch.clientY);
      const target = els.find(function(el) { return el.classList.contains('order-sentence-card') && el !== touchItem; });
      if (target && target.parentNode === wrapper) {
        const rect = target.getBoundingClientRect();
        const midY = rect.top + rect.height / 2;
        if (touch.clientY < midY) {
          wrapper.insertBefore(touchItem, target);
        } else {
          wrapper.insertBefore(touchItem, target.nextSibling);
        }
      }
    });

    card.addEventListener('touchend', function() {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
      updateCardNumbers(wrapper);
    });
  });

  function moveTouchClone(touch) {
    if (touchClone) {
      touchClone.style.left = (touch.clientX - 100) + 'px';
      touchClone.style.top = (touch.clientY - 25) + 'px';
    }
  }
}

function updateCardNumbers(wrapper) {
  wrapper.querySelectorAll('.order-sentence-card').forEach(function(card, i) {
    card.querySelector('.order-card-num').textContent = i + 1;
  });
}

function initOrderSentenceDragDrop(row) {
  let dragItem = null;

  row.querySelectorAll('.order-sentence-item').forEach(item => {
    item.addEventListener('dragstart', (e) => {
      dragItem = item;
      item.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    item.addEventListener('dragend', () => {
      item.classList.remove('dragging');
      dragItem = null;
      // Update numbers after drag
      updateOrderNumbers(row);
    });

    item.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === item) return;

      const rect = item.getBoundingClientRect();
      const midY = rect.top + rect.height / 2;

      if (e.clientY < midY) {
        row.insertBefore(dragItem, item);
      } else {
        row.insertBefore(dragItem, item.nextSibling);
      }
    });
  });

  // Touch support
  let touchItem = null;
  let touchClone = null;

  row.querySelectorAll('.order-sentence-item').forEach(item => {
    item.addEventListener('touchstart', (e) => {
      touchItem = item;
      item.classList.add('dragging');
      touchClone = item.cloneNode(true);
      touchClone.classList.add('touch-clone');
      document.body.appendChild(touchClone);
      updateTouchClonePos(e.touches[0], touchClone);
    });

    item.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!touchItem) return;
      updateTouchClonePos(e.touches[0], touchClone);

      const touch = e.touches[0];
      const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
      const target = elements.find(el => el.classList.contains('order-sentence-item') && el !== touchItem);

      if (target && target.parentNode === row) {
        const rect = target.getBoundingClientRect();
        const midY = rect.top + rect.height / 2;
        if (touch.clientY < midY) {
          row.insertBefore(touchItem, target);
        } else {
          row.insertBefore(touchItem, target.nextSibling);
        }
      }
    });

    item.addEventListener('touchend', () => {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
      updateOrderNumbers(row);
    });
  });

  function updateTouchClonePos(touch, clone) {
    if (clone) {
      clone.style.left = (touch.clientX - 100) + 'px';
      clone.style.top = (touch.clientY - 20) + 'px';
    }
  }
}

function updateOrderNumbers(row) {
  row.querySelectorAll('.order-sentence-item').forEach((item, i) => {
    item.querySelector('.order-num').textContent = i + 1;
  });
}

function initDragDrop(container) {
  const items = container.querySelectorAll('.order-item');
  let dragItem = null;

  items.forEach(item => {
    item.addEventListener('dragstart', (e) => {
      dragItem = item;
      item.classList.add('dragging');
    });

    item.addEventListener('dragend', () => {
      item.classList.remove('dragging');
      dragItem = null;
    });

    item.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === item) return;
      const rect = item.getBoundingClientRect();
      const midY = rect.top + rect.height / 2;
      if (e.clientY < midY) {
        container.insertBefore(dragItem, item);
      } else {
        container.insertBefore(dragItem, item.nextSibling);
      }
    });
  });
}

function checkOrder(sectionId) {
  const state = orderState[sectionId];
  const data = state.data;
  // Support multiple class names for order items
  let items = document.querySelectorAll('.order-sentence-card[data-section="' + sectionId + '"]');
  if (!items.length) {
    items = document.querySelectorAll('.order-sentence-item[data-section="' + sectionId + '"]');
  }
  if (!items.length) {
    items = document.querySelectorAll('.order-item[data-section="' + sectionId + '"]');
  }
  const currentOrder = Array.from(items).map(function(item) { return parseInt(item.dataset.orig); });
  const feedback = document.querySelector('.order-feedback[data-section="' + sectionId + '"]');

  let correct = true;
  currentOrder.forEach((val, idx) => {
    const expectedIdx = data.correctOrder && data.correctOrder.length ? data.correctOrder[idx] : idx;
    if (val !== expectedIdx) correct = false;
  });

  items.forEach((item, idx) => {
    const expectedIdx = data.correctOrder && data.correctOrder.length ? data.correctOrder[idx] : idx;
    if (parseInt(item.dataset.orig) === expectedIdx) {
      item.classList.add('correct');
      item.classList.remove('wrong');
    } else {
      item.classList.add('wrong');
      item.classList.remove('correct');
    }
  });

  if (correct) {
    state.score = state.total;
    document.getElementById(sectionId + '-score').textContent = state.score;
    document.getElementById(sectionId + '-complete').classList.add('show');
    if (feedback) {
      feedback.innerHTML = '<span class="correct-text">‚úì Perfect order!</span>';
      feedback.classList.add('show');
    }
  } else {
    if (feedback) {
      feedback.innerHTML = '<span class="wrong-text">‚úó Not quite right. Try again!</span>';
      feedback.classList.add('show');
    }
    setTimeout(function() {
      items.forEach(function(item) { item.classList.remove('wrong'); });
      if (feedback) feedback.classList.remove('show');
    }, 2000);
  }
}

function resetOrder(sectionId) {
  const state = orderState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initOrder(sectionId, state.data);
}


// Select Activity - supports multiple instances
const selectState = {};

function initSelect(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  selectState[sectionId] = { score: 0, answered: 0, total: data.items.length, data: data };
  c.innerHTML = '';

  data.items.forEach((item, idx) => {
    const div = document.createElement('div');
    div.className = 'select-question';
    div.dataset.section = sectionId;
    div.dataset.idx = idx;

    const optionsHtml = item.options.map((opt, oi) =>
      `<label class="select-option" data-correct="${opt.correct}" data-section="${sectionId}" data-idx="${idx}">
        <input type="checkbox" class="select-checkbox" data-oi="${oi}">
        <span class="select-text">${opt.text}</span>
      </label>`
    ).join('');

    div.innerHTML = `
      <div class="select-number">${idx + 1}.</div>
      <div class="select-content">
        <p class="select-prompt">${item.question}</p>
        <div class="select-options">${optionsHtml}</div>
        <button class="btn btn-sm btn-outline select-check" data-section="${sectionId}" data-idx="${idx}">Check</button>
        <div class="select-feedback" id="${sectionId}-fb-${idx}"></div>
      </div>
    `;
    c.appendChild(div);
  });

  // Event delegation for check buttons
  c.addEventListener('click', (e) => {
    if (e.target.classList.contains('select-check')) {
      checkSelectAnswer(e.target.dataset.section, parseInt(e.target.dataset.idx));
    }
  });
}

function checkSelectAnswer(sectionId, idx) {
  const state = selectState[sectionId];
  const item = state.data.items[idx];
  const question = document.querySelector(`.select-question[data-section="${sectionId}"][data-idx="${idx}"]`);
  const fb = document.getElementById(sectionId + '-fb-' + idx);

  if (question.classList.contains('answered')) return;

  const options = question.querySelectorAll('.select-option');
  let allCorrect = true;

  options.forEach(opt => {
    const checkbox = opt.querySelector('.select-checkbox');
    const isChecked = checkbox.checked;
    const shouldBeChecked = opt.dataset.correct === 'true';

    if (isChecked === shouldBeChecked) {
      opt.classList.add(shouldBeChecked ? 'correct' : 'correct-unchecked');
    } else {
      opt.classList.add(shouldBeChecked ? 'missed' : 'wrong');
      allCorrect = false;
    }
    checkbox.disabled = true;
  });

  question.classList.add('answered');

  if (allCorrect) {
    fb.innerHTML = '<span class="correct-text">‚úì Perfect!</span>';
    state.score++;
  } else {
    fb.innerHTML = '<span class="wrong-text">‚úó Some answers were incorrect.</span>';
  }
  fb.classList.add('show');

  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;

  if (state.answered === state.total) {
    document.getElementById(sectionId + '-complete').classList.add('show');
  }
}

function resetSelect(sectionId) {
  const state = selectState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initSelect(sectionId, state.data);
}


// Vocabulary
function initVocab() {
  const grid = document.getElementById('vocab-grid');
  if (!grid) return;
  grid.innerHTML = '';
  vocabData.forEach(v => {
    const card = document.createElement('div');
    card.className = 'vocab-card';
    card.innerHTML = '<div class="uk">' + v.uk + '</div><div class="translit">' + v.translit + '</div><div class="en">' + v.en + '</div>' + (v.note ? '<div class="note">' + v.note + '</div>' : '');
    grid.appendChild(card);
  });
}

  </script>
</body>
</html>