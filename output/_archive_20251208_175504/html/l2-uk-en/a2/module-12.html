<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Module 12: The Completed Past | Ukrainian A2</title>
  <style>
:root { --primary: #1a5fb4; --primary-light: #3584e4; --success: #26a269; --warning: #e5a50a; --danger: #c01c28; --bg: #fafafa; --card-bg: #fff; --text: #1e1e1e; --text-muted: #5e5e5e; --border: #e0e0e0; }
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
.top-nav { background: #2e2e2e; color: white; padding: 0.5rem 2rem; display: flex; justify-content: space-between; align-items: center; font-size: 0.875rem; }
.top-nav a { color: white; text-decoration: none; }
.top-nav a:hover { text-decoration: underline; }
.module-nav { display: flex; gap: 1rem; align-items: center; }
.module-nav-link { color: rgba(255,255,255,0.8); text-decoration: none; padding: 0.25rem 0.5rem; }
.module-nav-link:hover { color: white; }
.module-nav-link.disabled { color: rgba(255,255,255,0.3); pointer-events: none; }
.nav { position: sticky; top: 0; background: var(--primary); color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
.nav h1 { font-size: 1.25rem; }
.nav-tabs { display: flex; gap: 0.5rem; }
.nav-tab { background: rgba(255,255,255,0.2); border: none; color: white; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; }
.nav-tab.active { background: white; color: var(--primary); }
main { max-width: 1000px; margin: 0 auto; padding: 2rem; }
.section { display: none; } .section.active { display: block; }
.lesson-header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, #e8f4fd, #f0e8fd); border-radius: 12px; }
.level-badge { background: var(--primary); color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.875rem; }
.card { background: var(--card-bg); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 1.5rem; margin-bottom: 1.5rem; }
.card h3 { color: var(--primary); margin-bottom: 1rem; }
.section-intro { border-left: 4px solid var(--primary); }
.section-intro h3 { color: var(--primary); }
.section-topic { border-left: 4px solid var(--border); }
.section-summary { background: linear-gradient(135deg, #f0f9ff, #e8f4fd); border-left: 4px solid var(--success); }
.section-summary h3 { color: var(--success); }
.canvas-note { background: #fffbeb; border-left: 4px solid var(--warning); padding: 1rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
.canvas-note h4 { color: var(--warning); margin-bottom: 0.5rem; }
.md-content { line-height: 1.7; }
.md-content p { margin: 0.75rem 0; }
.md-content ul, .md-content ol { margin: 0.75rem 0; padding-left: 1.5rem; }
.md-content li { margin: 0.25rem 0; }
.md-content strong { color: var(--primary); }
.md-content blockquote { background: #e8f4fd; border-left: 4px solid var(--primary); padding: 0.75rem 1rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
.md-content blockquote p { margin: 0.25rem 0; }
.md-content table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.9rem; }
.md-content th, .md-content td { border: 1px solid var(--border); padding: 0.5rem 0.75rem; text-align: left; }
.md-content th { background: #f5f5f5; font-weight: 600; }
.md-content code { background: #f0f0f0; padding: 0.125rem 0.375rem; border-radius: 4px; font-family: monospace; font-size: 0.9em; }
.md-content details { background: #f8f9fa; border: 1px solid var(--border); border-radius: 8px; padding: 0; margin: 1rem 0; }
.md-content details summary { background: linear-gradient(135deg, #e8f4fd, #f0e8fd); padding: 0.75rem 1rem; cursor: pointer; font-weight: 600; color: var(--primary); border-radius: 8px; list-style: none; display: flex; align-items: center; gap: 0.5rem; }
.md-content details summary::-webkit-details-marker { display: none; }
.md-content details summary::before { content: '‚ñ∂'; font-size: 0.75rem; transition: transform 0.2s; }
.md-content details[open] summary::before { transform: rotate(90deg); }
.md-content details[open] summary { border-radius: 8px 8px 0 0; }
.md-content details > *:not(summary) { padding: 0 1rem; }
.md-content details > *:last-child { padding-bottom: 1rem; }
.md-content p > details { margin: 0; }
.md-content p:has(> details) { margin: 1rem 0; }
.inline-answer { background: linear-gradient(135deg, #d4edda, #e8f4fd); padding: 0.125rem 0.5rem; border-radius: 4px; transition: opacity 0.2s; }
.inline-answer.hidden { opacity: 0; user-select: none; }
.answer-toggle-btn { display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #e8f4fd, #f0e8fd); border: 1px solid var(--primary); color: var(--primary); padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-size: 0.875rem; font-weight: 600; margin: 1rem 0; }
.answer-toggle-btn:hover { background: var(--primary); color: white; }
.answer-toggle-btn svg { width: 1rem; height: 1rem; }
.letter-groups { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1.5rem 0; }
.letter-group { border: 2px solid var(--border); border-radius: 8px; padding: 1rem; text-align: center; }
.letter-group.true-friends { border-color: var(--success); } .letter-group.true-friends .letters { color: var(--success); }
.letter-group.false-friends { border-color: var(--danger); } .letter-group.false-friends .letters { color: var(--danger); }
.letter-group.new-letters { border-color: var(--primary); } .letter-group.new-letters .letters { color: var(--primary); }
.letters { font-size: 1.75rem; letter-spacing: 0.3rem; }
.btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; }
.btn-primary { background: var(--primary); color: white; }
.btn-outline { background: transparent; border: 2px solid var(--border); }
.btn-group { display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem; }
.score-display { text-align: center; padding: 1rem; background: linear-gradient(135deg, #e8f8f0, #e8f4fd); border-radius: 8px; margin-bottom: 1rem; }
.score-display .score { font-size: 2rem; font-weight: 700; color: var(--success); }
.completion-message { text-align: center; padding: 2rem; background: linear-gradient(135deg, #d4edda, #e8f4fd); border-radius: 12px; margin-top: 1rem; display: none; }
.completion-message.show { display: block; }
footer { text-align: center; padding: 2rem; color: var(--text-muted); }
@media (max-width: 768px) { .nav { flex-direction: column; gap: 1rem; } .letter-groups, .sort-groups, .quiz-options { grid-template-columns: 1fr; } .match-container { flex-direction: column; } }


/**
 * Layout styles - Navigation, page structure
 */

/* Top Navigation */
.top-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1.5rem;
  background: #f8f8f8;
  border-bottom: 1px solid var(--border);
  font-size: 0.875rem;
}

.top-nav a {
  color: var(--text-muted);
}

.top-nav a:hover {
  color: var(--primary);
}

.module-nav {
  display: flex;
  gap: 1rem;
}

.module-nav-link {
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
}

.module-nav-link:hover {
  background: #e8f4fd;
}

/* Main Navigation */
.nav {
  background: linear-gradient(135deg, #1a5fb4, #613583);
  color: white;
  padding: 1.5rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav h1 {
  font-size: 1.5rem;
}

.nav-tabs {
  display: flex;
  gap: 0.5rem;
}

.nav-tab {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.875rem;
  transition: background 0.2s;
}

.nav-tab:hover {
  background: rgba(255, 255, 255, 0.3);
}

.nav-tab.active {
  background: white;
  color: var(--primary);
}

/* Main Content */
main {
  max-width: 1000px;
  margin: 0 auto;
  padding: 2rem;
}

/* Sections */
.section {
  display: none;
}

.section.active {
  display: block;
}

/* Lesson Header */
.lesson-header {
  text-align: center;
  margin-bottom: 2rem;
  padding: 2rem;
  background: linear-gradient(135deg, #e8f4fd, #f0e8fd);
  border-radius: 12px;
}

.lesson-header h2 {
  font-size: 2rem;
  margin: 0.5rem 0;
}

/* Section Cards */
.section-intro {
  border-left: 4px solid var(--primary);
}

.section-intro h3 {
  color: var(--primary);
}

.section-topic {
  border-left: 4px solid var(--border);
}

.section-summary {
  background: linear-gradient(135deg, #f0f9ff, #e8f4fd);
  border-left: 4px solid var(--success);
}

.section-summary h3 {
  color: var(--success);
}

/* Canvas Notes */
.canvas-note {
  background: #fffbeb;
  border-left: 4px solid var(--warning);
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 0 8px 8px 0;
}

.canvas-note h4 {
  color: var(--warning);
  margin-bottom: 0.5rem;
}

/* Footer */
footer {
  text-align: center;
  padding: 2rem;
  color: var(--text-muted);
}

/* Responsive Layout */
@media (max-width: 768px) {
  .nav {
    flex-direction: column;
    gap: 1rem;
  }

  .nav h1 {
    font-size: 1.25rem;
    text-align: center;
  }

  .nav-tabs {
    flex-wrap: wrap;
    justify-content: center;
  }

  main {
    padding: 1rem;
  }

  .top-nav {
    flex-direction: column;
    gap: 0.5rem;
  }
}


/* Match Activity */
.match-container { display: flex; gap: 3rem; padding: 1rem; position: relative; }
.match-column { flex: 1; display: flex; flex-direction: column; gap: 0.75rem; }
.match-item { background: var(--card-bg); border: 2px solid var(--border); border-radius: 8px; padding: 1rem; text-align: center; font-size: 1.25rem; cursor: pointer; }
.match-item.selected { border-color: var(--primary); background: #e8f4fd; }
.match-item.matched { border-color: var(--success); background: #e8f8f0; }
.match-item.wrong { border-color: var(--danger); background: #fde8e8; }
.match-lines { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }

/* Quiz Activity */
.quiz-question { border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
.quiz-question.answered { pointer-events: none; }
.quiz-question .cyrillic { font-size: 1.5rem; color: var(--primary); font-weight: 600; }
.quiz-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; margin-top: 1rem; }
.quiz-option { background: #f5f5f5; border: 2px solid var(--border); border-radius: 8px; padding: 1rem; cursor: pointer; text-align: center; }
.quiz-option.correct { border-color: var(--success); background: #d4edda; }
.quiz-option.wrong { border-color: var(--danger); background: #f8d7da; }
.quiz-explanation { margin-top: 1rem; padding: 1rem; background: #e8f4fd; border-radius: 8px; display: none; }
.quiz-explanation.show { display: block; }

/* True/False Activity */
.tf-statement { border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
.tf-statement.answered { pointer-events: none; }
.tf-text { font-size: 1.15rem; margin-bottom: 1rem; }
.tf-buttons { display: flex; gap: 1rem; }
.tf-btn { flex: 1; background: #f5f5f5; border: 2px solid var(--border); border-radius: 8px; padding: 0.75rem 1rem; cursor: pointer; font-size: 1rem; font-weight: 500; }
.tf-btn:hover { background: #e8f4fd; border-color: var(--primary); }
.tf-btn.correct { border-color: var(--success); background: #d4edda; color: var(--success); }
.tf-btn.wrong { border-color: var(--danger); background: #f8d7da; color: var(--danger); }
.tf-explanation { margin-top: 1rem; padding: 1rem; background: #e8f4fd; border-radius: 8px; display: none; }
.tf-explanation.show { display: block; }

/* Sort Activity */
.sort-pool { background: #f5f5f5; border: 2px dashed var(--border); border-radius: 12px; padding: 1.5rem; min-height: 80px; margin-bottom: 1rem; }
.sort-items { display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; }
.sort-item { background: var(--card-bg); border: 2px solid var(--border); border-radius: 8px; padding: 0.75rem 1.25rem; font-size: 1.5rem; cursor: grab; }
.sort-item.correct { border-color: var(--success); background: #e8f8f0; }
.sort-item.wrong { border-color: var(--danger); background: #fde8e8; }
.sort-groups { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
.sort-group { border: 2px solid var(--border); border-radius: 12px; padding: 1rem; min-height: 150px; }
.sort-group.drag-over { border-color: var(--primary); background: #e8f4fd; }
.sort-group h4 { font-size: 0.875rem; text-align: center; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--border); }
.sort-group.true-friends h4 { color: var(--success); border-color: var(--success); }
.sort-group.false-friends h4 { color: var(--danger); border-color: var(--danger); }
.sort-group.new-letters h4 { color: var(--primary); border-color: var(--primary); }

/* Vocabulary Grid (legacy) */
.vocab-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 1rem; }
.vocab-card { border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; text-align: center; }
.vocab-card .uk { font-size: 1.75rem; font-weight: 600; color: var(--primary); }
.vocab-card .translit { color: var(--text-muted); font-style: italic; }
.vocab-card .en { font-weight: 500; margin: 0.25rem 0; }
.vocab-card .note { font-size: 0.75rem; color: #613583; background: #f0e8fd; padding: 0.25rem 0.5rem; border-radius: 4px; }

/* Vocabulary Table (book-style) */
.vocab-table-container { overflow-x: auto; }
.vocab-table { width: 100%; border-collapse: collapse; font-size: 1rem; }
.vocab-table thead { background: var(--card-bg); border-bottom: 2px solid var(--border); }
.vocab-table th { padding: 0.75rem 1rem; text-align: left; font-weight: 600; color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.5px; }
.vocab-table td { padding: 0.75rem 1rem; border-bottom: 1px solid var(--border); }
.vocab-table tbody tr:hover { background: #f8f9fa; }
.vocab-table .vocab-uk { font-size: 1.25rem; font-weight: 600; color: var(--primary); }
.vocab-table .vocab-translit { color: var(--text-muted); font-style: italic; }
.vocab-table .vocab-ipa { font-family: monospace; color: var(--text-muted); font-size: 0.9rem; }
.vocab-table .vocab-en { font-weight: 500; }
.vocab-table .vocab-note { font-size: 0.85rem; color: #613583; }

/* Answer Callout Blocks */
.callout { padding: 0.5rem 1rem; margin: 0.25rem 0; border-radius: 4px; }
.callout-answer { background: #e8f8f0; border-left: 3px solid var(--success); }
.callout-explanation { background: #e8f4fd; border-left: 3px solid var(--primary); color: var(--text-muted); font-style: italic; }
.callout-alt { background: #f5f5f5; border-left: 3px solid var(--border); color: var(--text-muted); }

/* Answer Block Toggle */
.answer-block { display: none; }
.answer-block.show { display: block; }
.show-answer-btn { background: #f0f0f0; border: 1px solid var(--border); border-radius: 6px; padding: 0.25rem 0.75rem; font-size: 0.8rem; cursor: pointer; color: var(--text-muted); margin: 0.25rem 0; }
.show-answer-btn:hover { background: #e5e5e5; }
.show-answer-btn.revealed { background: #e8f8f0; border-color: var(--success); color: var(--success); }

/* Fill-in Activity - Dropdown in Sentence */
.fill-container { display: flex; flex-direction: column; gap: 0.75rem; }
.fill-question { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; }

.fill-number { font-weight: 600; color: var(--text-muted); margin-right: 0.5rem; }
.fill-sentence { font-size: 1.15rem; line-height: 1.8; }

.fill-dropdown { font-size: 1rem; padding: 0.4rem 0.6rem; border: 2px solid var(--primary); border-radius: 6px; background: #fff; color: var(--primary); font-weight: 500; cursor: pointer; min-width: 120px; }
.fill-dropdown:focus { outline: none; box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2); }
.fill-dropdown.correct { border-color: var(--success); background: #e8f8f0; color: var(--success); }
.fill-dropdown.wrong { border-color: var(--danger); background: #fde8e8; color: var(--danger); }

.fill-feedback { margin-top: 0.5rem; font-weight: 500; }
.fill-feedback .correct-text { color: var(--success); }
.fill-feedback .wrong-text { color: var(--danger); }
.btn-sm { padding: 0.5rem 1rem; font-size: 0.875rem; }

/* Order/Unjumble Activity */
.order-container { display: flex; flex-direction: column; gap: 1rem; }
.order-items { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem; }
.order-item { background: var(--card-bg); border: 2px solid var(--border); border-radius: 8px; padding: 1rem; display: flex; align-items: center; gap: 1rem; cursor: grab; user-select: none; }
.order-item:active { cursor: grabbing; }
.order-item.dragging { opacity: 0.5; }
.order-item.correct { border-color: var(--success); background: #e8f8f0; }
.order-item.wrong { border-color: var(--danger); background: #fde8e8; }
.order-handle { color: var(--text-muted); font-size: 1.25rem; }
.order-text { font-size: 1.1rem; }

/* Unjumble Activity - Drag and Drop */
.unjumble-question { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 0.75rem; display: flex; flex-wrap: wrap; align-items: center; gap: 0.75rem; }
.unjumble-question.answered .unjumble-word { cursor: default; }
.unjumble-question.correct { border-color: var(--success); background: #f8fff8; }
.unjumble-question.wrong { border-color: var(--danger); background: #fff8f8; }

.unjumble-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }

.unjumble-word-row { display: flex; flex-wrap: wrap; gap: 0.5rem; flex: 1; min-height: 42px; padding: 0.25rem; border-radius: 8px; background: #f8f9fa; }
.unjumble-word-row.correct { background: #e8f8f0; }
.unjumble-word-row.wrong { background: #fde8e8; }

.unjumble-word { background: var(--primary); color: white; border-radius: 6px; padding: 0.5rem 0.75rem; font-size: 1rem; cursor: grab; user-select: none; transition: transform 0.1s, box-shadow 0.1s; }
.unjumble-word:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.unjumble-word:active { cursor: grabbing; }
.unjumble-word.dragging { opacity: 0.5; transform: scale(1.05); }

.unjumble-word.touch-clone { position: fixed; z-index: 1000; pointer-events: none; box-shadow: 0 8px 16px rgba(0,0,0,0.2); }

.unjumble-actions { display: flex; gap: 0.5rem; }
.unjumble-feedback { width: 100%; padding: 0.5rem 0 0 2.5rem; display: none; }
.unjumble-feedback.show { display: block; }
.unjumble-feedback .correct-text { color: var(--success); font-weight: 600; }
.unjumble-feedback .wrong-text { color: var(--danger); }
.unjumble-feedback .translation { color: var(--text-muted); font-style: italic; margin-left: 0.5rem; }

/* Order Sentence Activity - Sentence reordering with unjumble-style UI */
.order-sequence { display: flex; flex-direction: column; align-items: stretch; }
.order-sentence-row { display: flex; flex-direction: column; flex-wrap: nowrap; gap: 0.5rem; min-height: auto; padding: 0.5rem; flex: none; width: 100%; }
.order-sentence-item { background: var(--primary); color: white; border-radius: 8px; padding: 0.75rem 1rem; font-size: 1rem; cursor: grab; user-select: none; display: flex; align-items: center; gap: 0.75rem; transition: transform 0.1s, box-shadow 0.1s; }
.order-sentence-item:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.order-sentence-item:active { cursor: grabbing; }
.order-sentence-item.dragging { opacity: 0.5; transform: scale(1.02); }
.order-sentence-item.correct { background: var(--success); }
.order-sentence-item.wrong { background: var(--danger); }
.order-sentence-item.touch-clone { position: fixed; z-index: 1000; pointer-events: none; box-shadow: 0 8px 16px rgba(0,0,0,0.2); max-width: 90vw; }
.order-num { background: rgba(255,255,255,0.3); padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: 600; min-width: 1.5rem; text-align: center; }
.order-sentence-text { flex: 1; }
.order-feedback { width: 100%; padding: 0.5rem 0; display: none; }
.order-feedback.show { display: block; }
.order-feedback .correct-text { color: var(--success); font-weight: 600; }
.order-feedback .wrong-text { color: var(--danger); }

/* Order Card Activity - New class names for classic order */
.order-items-wrapper { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem; }
.order-sentence-card { background: var(--primary); color: white; border-radius: 8px; padding: 0.75rem 1rem; font-size: 1rem; cursor: grab; user-select: none; display: flex; align-items: center; gap: 0.75rem; transition: transform 0.1s, box-shadow 0.1s; }
.order-sentence-card:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.order-sentence-card:active { cursor: grabbing; }
.order-sentence-card.dragging { opacity: 0.5; transform: scale(1.02); }
.order-sentence-card.correct { background: var(--success); }
.order-sentence-card.wrong { background: var(--danger); }
.order-card-num { background: rgba(255,255,255,0.3); padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: 600; min-width: 1.5rem; text-align: center; }
.order-card-text { flex: 1; }
.order-buttons { margin-top: 0.5rem; }

/* Select Activity - Multi-choice checkboxes */
.select-container { display: flex; flex-direction: column; gap: 1rem; }
.select-question { border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; display: flex; gap: 0.75rem; }
.select-question.answered .select-checkbox { pointer-events: none; }
.select-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }
.select-content { flex: 1; }
.select-prompt { font-size: 1.1rem; font-weight: 500; margin-bottom: 0.75rem; }
.select-options { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem; }
.select-option { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0.75rem; border-radius: 6px; cursor: pointer; transition: background 0.15s; }
.select-option:hover { background: #f5f5f5; }
.select-option.correct { background: #d4edda; }
.select-option.correct-unchecked { background: #f8f9fa; }
.select-option.wrong { background: #f8d7da; }
.select-option.missed { background: #fff3cd; border: 1px dashed var(--warning); }
.select-checkbox { width: 1.25rem; height: 1.25rem; cursor: pointer; }
.select-text { font-size: 1rem; }
.select-check { margin-top: 0.5rem; }
.select-feedback { margin-top: 0.75rem; display: none; }
.select-feedback.show { display: block; }
.select-feedback .correct-text { color: var(--success); font-weight: 600; }
.select-feedback .wrong-text { color: var(--danger); }

/* Anagram Activity - Letter reordering to form words */
.anagram-question { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 0.75rem; display: flex; flex-wrap: wrap; align-items: center; gap: 0.75rem; }
.anagram-question.answered .anagram-letter { cursor: default; }
.anagram-question.correct { border-color: var(--success); background: #f8fff8; }
.anagram-question.wrong { border-color: var(--danger); background: #fff8f8; }

.anagram-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }

.anagram-letter-row { display: flex; flex-wrap: wrap; gap: 0.35rem; flex: 1; min-height: 52px; padding: 0.25rem; border-radius: 8px; background: #f8f9fa; }
.anagram-letter-row.correct { background: #e8f8f0; }
.anagram-letter-row.wrong { background: #fde8e8; }

.anagram-letter { background: var(--primary); color: white; border-radius: 8px; padding: 0.6rem 0.9rem; font-size: 1.5rem; font-weight: 600; cursor: grab; user-select: none; transition: transform 0.1s, box-shadow 0.1s; min-width: 2.5rem; text-align: center; }
.anagram-letter:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
.anagram-letter:active { cursor: grabbing; }
.anagram-letter.dragging { opacity: 0.5; transform: scale(1.05); }

.anagram-letter.touch-clone { position: fixed; z-index: 1000; pointer-events: none; box-shadow: 0 8px 16px rgba(0,0,0,0.2); }

.anagram-actions { display: flex; gap: 0.5rem; }
.anagram-feedback { width: 100%; padding: 0.5rem 0 0 2.5rem; display: none; }
.anagram-feedback.show { display: block; }
.anagram-feedback .correct-text { color: var(--success); font-weight: 600; }
.anagram-feedback .wrong-text { color: var(--danger); }
.anagram-feedback .translation { color: var(--text-muted); font-style: italic; margin-left: 0.5rem; }

/* Error-Correction Activity - Identify and fix errors */
.error-correction-container { display: flex; flex-direction: column; gap: 0.75rem; }
.error-item { border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 0.5rem; }
.error-item.completed { opacity: 0.85; }
.error-item.step2 .error-words { background: #f0f9ff; }

.error-sentence { display: flex; align-items: baseline; gap: 0.5rem; font-size: 1.15rem; line-height: 1.8; flex-wrap: wrap; }
.error-number { font-weight: 600; color: var(--text-muted); min-width: 2rem; }
.error-words { display: inline; }

.error-word { cursor: pointer; padding: 0.15rem 0.25rem; border-radius: 4px; transition: background 0.15s, color 0.15s; }
.error-word:hover { background: #e8f4fd; }
.error-word.selected { background: var(--primary); color: white; }
.error-word.found { background: var(--success); color: white; cursor: default; }
.error-word.wrong-selection { background: var(--danger); color: white; animation: shake 0.3s; }
.error-item.completed .error-word { cursor: default; }
.error-item.completed .error-word:hover { background: transparent; }
.error-item.completed .error-word.found { background: var(--success); color: white; }

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  75% { transform: translateX(4px); }
}

.error-no-error-btn { margin-top: 0.75rem; }
.error-options { margin-top: 0.75rem; }
.error-prompt { font-weight: 500; color: var(--text-muted); display: block; margin-bottom: 0.5rem; }
.error-option-btns { display: flex; flex-wrap: wrap; gap: 0.5rem; }
.error-option { background: #f5f5f5; border: 2px solid var(--border); border-radius: 8px; padding: 0.5rem 1rem; cursor: pointer; font-size: 1rem; }
.error-option:hover { border-color: var(--primary); background: #e8f4fd; }
.error-option:disabled { cursor: default; }
.error-option.correct { border-color: var(--success); background: #d4edda; color: var(--success); }
.error-option.wrong { border-color: var(--danger); background: #f8d7da; color: var(--danger); }

.error-feedback { margin-top: 0.75rem; padding: 0.75rem 1rem; border-radius: 8px; background: #f8f9fa; }
.error-feedback .correct-text { color: var(--success); font-weight: 600; }
.error-feedback .wrong-text { color: var(--danger); }
.error-explanation { margin-top: 0.5rem; color: var(--text-muted); font-style: italic; font-size: 0.95rem; }

  </style>
</head>
<body>
  
  <div class="top-nav">
    <a href="../index.html">‚Üê l2-uk-en Curriculum</a>
    <div class="module-nav">
      <a href="module-11.html" class="module-nav-link">‚Üê Module 11</a>
      <a href="index.html" class="module-nav-link">A2 Index</a>
      <a href="module-13.html" class="module-nav-link">Module 13 ‚Üí</a>
    </div>
  </div>
  <nav class="nav">
    <h1>Module 12: The Completed Past</h1>
    <div class="nav-tabs">
      <button class="nav-tab active" data-section="lesson">Lesson</button>
      <button class="nav-tab" data-section="activity-0">1. Fill</button>
      <button class="nav-tab" data-section="activity-1">2. Match</button>
      <button class="nav-tab" data-section="activity-2">3. Order</button>
      <button class="nav-tab" data-section="activity-3">4. Quiz</button>
      <button class="nav-tab" data-section="activity-4">5. T/F</button>
      <button class="nav-tab" data-section="activity-5">6. Sort</button>
      <button class="nav-tab" data-section="activity-6">7. Fill</button>
      <button class="nav-tab" data-section="activity-7">8. Select</button>
      <button class="nav-tab" data-section="activity-8">9. Fix</button>
      <button class="nav-tab" data-section="activity-9">10. Order</button>
      <button class="nav-tab" data-section="activity-10">11. Quiz</button>
      <button class="nav-tab" data-section="vocab">Vocab</button>
    </div>
  </nav>
  <main>
    
    <section id="lesson" class="section active">
      <div class="lesson-header">
        <span class="level-badge">A2 ¬∑ A2.2</span>
        <h2 style="font-size:2rem;margin:0.5rem 0">The Completed Past</h2>
        <p style="color:var(--text-muted)">Perfective Verbs in Past Tense</p>
      </div>
      
    <div class="card section-intro">
      <h3>üìñ Introduction</h3>
      <div class="md-content"><p>Why is "I read the book" such a boring sentence in English? Because you can't tell if the speaker was curled up reading all afternoon, or triumphantly closed the final page. Ukrainian doesn't have this problem.</p>
<p>When you want to express "I did it!" ‚Äî that satisfying moment of completion ‚Äî Ukrainian gives you a dedicated verb form: the <strong>perfective past</strong>. It's the grammatical equivalent of checking off a to-do list item. ‚úì</p>
<p>Think about how often you talk about completed actions: "I called mom." "We finished the project." "She found her keys." All these natural, everyday statements need perfective verbs in Ukrainian. This module teaches you to express finished tasks, single events, and that triumphant "done!" feeling naturally.</p>
<blockquote>
  <p>üí° <strong>Did You Know?</strong></p>
  <p>The satisfaction of crossing items off a list has a name: the <strong>Zeigarnik Effect</strong> tells us uncompleted tasks linger in our minds. Perhaps that's why perfective verbs feel so satisfying ‚Äî <em>–∑—Ä–æ–±–∏–≤!</em> (done!) provides grammatical closure!</p>
</blockquote>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Perfective vs Imperfective in Past</h3>
      <div class="md-content"><p>Both aspects use the same past tense endings, but the meaning differs:</p>
<table>
<thead>
<tr>
<th>Imperfective Past</th>
<th>Perfective Past</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Process/Duration</strong></td>
<td><strong>Completion/Result</strong></td>
</tr>
<tr>
<td>–í—ñ–Ω <strong>—á–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É.</td>
<td>–í—ñ–Ω <strong>–ø—Ä–æ—á–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É.</td>
</tr>
<tr>
<td>(He was reading‚Ä¶)</td>
<td>(He read/finished‚Ä¶)</td>
</tr>
</tbody>
</table>
<div class="callout callout-tip" data-callout="tip">üí° Did You Know?</div>
<blockquote>
  <p>Think of imperfective as a "video" (showing the action happening) and perfective as a "photo" (showing the result).</p>
</blockquote>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Past Tense Formation Reminder</h3>
      <div class="md-content"><p>Both aspects conjugate the same way in past tense:</p>
<table>
<thead>
<tr>
<th>Subject</th>
<th>Ending</th>
<th>Impf Example</th>
<th>Perf Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>–≤—ñ–Ω</td>
<td>-–≤/-‚àÖ</td>
<td>—á–∏—Ç–∞–≤</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–≤</td>
</tr>
<tr>
<td>–≤–æ–Ω–∞</td>
<td>-–ª–∞</td>
<td>—á–∏—Ç–∞–ª–∞</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–ª–∞</td>
</tr>
<tr>
<td>–≤–æ–Ω–æ</td>
<td>-–ª–æ</td>
<td>—á–∏—Ç–∞–ª–æ</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–ª–æ</td>
</tr>
<tr>
<td>–≤–æ–Ω–∏</td>
<td>-–ª–∏</td>
<td>—á–∏—Ç–∞–ª–∏</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–ª–∏</td>
</tr>
</tbody>
</table>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>When to Use Perfective Past</h3>
      <div class="md-content"><h2 id="1singlecompletedevent">1. Single Completed Event</h2>
<ul>
<li>–Ø <strong>–ø—Ä–æ—á–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É –≤—á–æ—Ä–∞. (I read/finished the book yesterday.)</li>
<li>–í–æ–Ω–∞ <strong>–Ω–∞–ø–∏—Å–∞–ª–∞</strong> –ª–∏—Å—Ç–∞. (She wrote the letter.)</li>
<li>–í—ñ–Ω <strong>–∑—Ä–æ–±–∏–≤</strong> –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è. (He did/finished the homework.)</li>
</ul>
<h2 id="2resultisimportant">2. Result is Important</h2>
<ul>
<li>–ú–∏ <strong>–≤–∏–≤—á–∏–ª–∏</strong> —Ü–µ–π —É—Ä–æ–∫. (We learned this lesson ‚Äî we know it now!)</li>
<li>–í–æ–Ω–∏ <strong>–∫—É–ø–∏–ª–∏</strong> –Ω–æ–≤—É –º–∞—à–∏–Ω—É. (They bought a new car ‚Äî they have it now!)</li>
</ul>
<h2 id="3quicksuddenaction">3. Quick/Sudden Action</h2>
<ul>
<li>–í—ñ–Ω <strong>–ø–æ–±–∞—á–∏–≤</strong> —ó—ó. (He saw her ‚Äî suddenly, momentarily.)</li>
<li>–í–æ–Ω–∞ <strong>–ø–æ—á—É–ª–∞</strong> —à—É–º. (She heard a noise.)</li>
</ul>
<blockquote>
  <p>üé¨ <strong>Pop Culture Moment: The Matrix Moment</strong></p>
  <p>Ukrainian films love dramatic reveals: <em>–Ø –≤—Å–µ –∑—Ä–æ–∑—É–º—ñ–≤!</em> (I understood everything!) ‚Äî perfective for the moment of realization! It's like Neo's "I know kung fu" ‚Äî a single instant of completed understanding. In Ukrainian dubbed movies, this is always perfective: <em>–ó—Ä–æ–∑—É–º—ñ–≤!</em></p>
</blockquote>
<p><strong>üé≠ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π –¥–µ–Ω—å (Productive Day)</strong></p>
<p>‚Äî –ü—Ä–∏–≤—ñ—Ç! –Ø–∫ —Å–ø—Ä–∞–≤–∏? –©–æ <strong>–∑—Ä–æ–±–∏–≤</strong> —Å—å–æ–≥–æ–¥–Ω—ñ?<br />
‚Äî –û, –±–∞–≥–∞—Ç–æ! <strong>–ù–∞–ø–∏—Å–∞–≤</strong> –∑–≤—ñ—Ç, <strong>–≤—ñ–¥–ø—Ä–∞–≤–∏–≤</strong> –ª–∏—Å—Ç–∏, <strong>–∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤</strong> –∫–ª—ñ—î–Ω—Ç–∞–º.<br />
‚Äî –û–≥–æ! –ê –æ–±—ñ–¥–∞–≤?<br />
‚Äî –¢–∞–∫, <strong>–ø–æ—ó–≤</strong> —à–≤–∏–¥–∫–æ —ñ –∑–Ω–æ–≤—É –ø—Ä–∞—Ü—é–≤–∞–≤.<br />
‚Äî –Ü –≤—Å–µ <strong>–∑–∞–∫—ñ–Ω—á–∏–≤</strong>?<br />
‚Äî –ú–∞–π–∂–µ! –©–µ –æ–¥–∏–Ω –¥–∑–≤—ñ–Ω–æ–∫ ‚Äî —ñ –≥–æ—Ç–æ–≤–æ!</p>
<p><em>Notice how every completed item uses perfective ‚Äî it's a verbal checklist!</em></p>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>When to Use Imperfective Past</h3>
      <div class="md-content"><h2 id="1durationofaction">1. Duration of Action</h2>
<ul>
<li>–Ø <strong>—á–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏. (I was reading for 3 hours.)</li>
<li>–í—ñ–Ω <strong>–ø–∏—Å–∞–≤</strong> –ª–∏—Å—Ç–∞ –≤–µ—Å—å –¥–µ–Ω—å. (He was writing all day.)</li>
</ul>
<h2 id="2repeatedactions">2. Repeated Actions</h2>
<ul>
<li>–Ø <strong>—á–∏—Ç–∞–≤</strong> —Ü—é –∫–Ω–∏–≥—É –±–∞–≥–∞—Ç–æ —Ä–∞–∑—ñ–≤. (I read this book many times.)</li>
<li>–í–æ–Ω–∞ <strong>—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞</strong> –π–æ–º—É —â–æ–¥–Ω—è. (She called him every day.)</li>
</ul>
<h2 id="3processwithoutfocusonresult">3. Process Without Focus on Result</h2>
<ul>
<li>–©–æ —Ç–∏ <strong>—Ä–æ–±–∏–≤</strong> –≤—á–æ—Ä–∞? (What were you doing yesterday?)</li>
<li>–ú–∏ <strong>–≥—É–ª—è–ª–∏</strong> –≤ –ø–∞—Ä–∫—É. (We were walking in the park.)</li>
</ul>
<p><strong>üé≠ –°–ø–æ–∫—ñ–π–Ω–∏–π –≤–µ—á—ñ—Ä (Quiet Evening)</strong></p>
<p>‚Äî –©–æ —Ç–∏ <strong>—Ä–æ–±–∏–≤</strong> —É—á–æ—Ä–∞ –≤–≤–µ—á–µ—Ä—ñ?<br />
‚Äî <strong>–î–∏–≤–∏–≤—Å—è</strong> —Ç–µ–ª–µ–≤—ñ–∑–æ—Ä, <strong>—Å–ª—É—Ö–∞–≤</strong> –º—É–∑–∏–∫—É‚Ä¶<br />
‚Äî –ù—ñ—á–æ–≥–æ –Ω–µ <strong>–∑—Ä–æ–±–∏–≤</strong>?<br />
‚Äî –ù—É, <strong>–≤—ñ–¥–ø–æ—á–∏–≤–∞–≤</strong>! –¶–µ —Ç–µ–∂ –≤–∞–∂–ª–∏–≤–æ!<br />
‚Äî –ü—Ä–∞–≤–¥–∞. –ê —è –≤–µ—Å—å –≤–µ—á—ñ—Ä <strong>—á–∏—Ç–∞–ª–∞</strong>‚Ä¶<br />
‚Äî <strong>–ü—Ä–æ—á–∏—Ç–∞–ª–∞</strong> —â–æ—Å—å —Ü—ñ–∫–∞–≤–µ?<br />
‚Äî –ù—ñ, —Ç—ñ–ª—å–∫–∏ <strong>—á–∏—Ç–∞–ª–∞</strong>. –ö–Ω–∏–≥–∞ –¥–æ–≤–≥–∞!</p>
<p><em>Notice the contrast: imperfective —Ä–æ–±–∏–≤/—á–∏—Ç–∞–ª–∞ for ongoing activities, perfective –ø—Ä–æ—á–∏—Ç–∞–ª–∞ for asking about completion.</em></p>
<blockquote>
  <p>üìú <strong>History Bite: Aspect in Old Slavic</strong></p>
  <p>The aspect system is over 1,500 years old! Proto-Slavic speakers already distinguished between "doing" and "done." This isn't a quirk of modern Ukrainian ‚Äî it's ancient grammatical DNA shared by all Slavic languages.</p>
</blockquote>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Common Perfective Past Forms</h3>
      <div class="md-content"><table>
<thead>
<tr>
<th>Infinitive</th>
<th>–≤—ñ–Ω</th>
<th>–≤–æ–Ω–∞</th>
<th>–≤–æ–Ω–∏</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>–∑—Ä–æ–±–∏—Ç–∏</td>
<td>–∑—Ä–æ–±–∏–≤</td>
<td>–∑—Ä–æ–±–∏–ª–∞</td>
<td>–∑—Ä–æ–±–∏–ª–∏</td>
<td>did/made</td>
</tr>
<tr>
<td>–Ω–∞–ø–∏—Å–∞—Ç–∏</td>
<td>–Ω–∞–ø–∏—Å–∞–≤</td>
<td>–Ω–∞–ø–∏—Å–∞–ª–∞</td>
<td>–Ω–∞–ø–∏—Å–∞–ª–∏</td>
<td>wrote</td>
</tr>
<tr>
<td>–ø—Ä–æ—á–∏—Ç–∞—Ç–∏</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–≤</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–ª–∞</td>
<td>–ø—Ä–æ—á–∏—Ç–∞–ª–∏</td>
<td>read</td>
</tr>
<tr>
<td>—Å–∫–∞–∑–∞—Ç–∏</td>
<td>—Å–∫–∞–∑–∞–≤</td>
<td>—Å–∫–∞–∑–∞–ª–∞</td>
<td>—Å–∫–∞–∑–∞–ª–∏</td>
<td>said</td>
</tr>
<tr>
<td>–ø–æ–±–∞—á–∏—Ç–∏</td>
<td>–ø–æ–±–∞—á–∏–≤</td>
<td>–ø–æ–±–∞—á–∏–ª–∞</td>
<td>–ø–æ–±–∞—á–∏–ª–∏</td>
<td>saw</td>
</tr>
<tr>
<td>–ø–æ—á—É—Ç–∏</td>
<td>–ø–æ—á—É–≤</td>
<td>–ø–æ—á—É–ª–∞</td>
<td>–ø–æ—á—É–ª–∏</td>
<td>heard</td>
</tr>
<tr>
<td>–≤–∑—è—Ç–∏</td>
<td>–≤–∑—è–≤</td>
<td>–≤–∑—è–ª–∞</td>
<td>–≤–∑—è–ª–∏</td>
<td>took</td>
</tr>
<tr>
<td>–¥–∞—Ç–∏</td>
<td>–¥–∞–≤</td>
<td>–¥–∞–ª–∞</td>
<td>–¥–∞–ª–∏</td>
<td>gave</td>
</tr>
<tr>
<td>–ø—ñ—Ç–∏</td>
<td>–ø—ñ—à–æ–≤</td>
<td>–ø—ñ—à–ª–∞</td>
<td>–ø—ñ—à–ª–∏</td>
<td>went</td>
</tr>
<tr>
<td>–ø—Ä–∏–π—Ç–∏</td>
<td>–ø—Ä–∏–π—à–æ–≤</td>
<td>–ø—Ä–∏–π—à–ª–∞</td>
<td>–ø—Ä–∏–π—à–ª–∏</td>
<td>came</td>
</tr>
</tbody>
</table>
<blockquote>
  <p>üåç <strong>Real World: Decision Moments</strong></p>
  <p>At restaurants, when you've decided: <em>–Ø –≤–∏–±—Ä–∞–≤</em> (I chose/decided). When you're still thinking: <em>–Ø –≤–∏–±–∏—Ä–∞—é</em> (I'm choosing). The waiter knows immediately whether to take your order!</p>
  <p>üéÆ <strong>Gamer's Corner: Achievement Unlocked</strong></p>
  <p>In video games, achievements use perfective: <em>–ó–∞–≤–µ—Ä—à–∏–≤ —Ä—ñ–≤–µ–Ω—å</em> (Completed the level), <em>–ó–Ω–∞–π—à–æ–≤ —Å–∫–∞—Ä–±</em> (Found the treasure), <em>–ü–µ—Ä–µ–º—ñ–≥ –±–æ—Å–∞</em> (Defeated the boss). Each achievement is a completed action ‚Äî grammatically and gamefully satisfying!</p>
</blockquote>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Time Expressions</h3>
      <div class="md-content"><p>Certain time words typically pair with perfective:</p>
<table>
<thead>
<tr>
<th>Word</th>
<th>Meaning</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>–≤–∂–µ</strong></td>
<td>already</td>
<td>–Ø –≤–∂–µ –ø—Ä–æ—á–∏—Ç–∞–≤.</td>
</tr>
<tr>
<td><strong>–Ω–∞—Ä–µ—à—Ç—ñ</strong></td>
<td>finally</td>
<td>–í—ñ–Ω –Ω–∞—Ä–µ—à—Ç—ñ –∑—Ä–æ–±–∏–≤ —Ü–µ.</td>
</tr>
<tr>
<td><strong>—Ä–∞–ø—Ç–æ–º</strong></td>
<td>suddenly</td>
<td>–†–∞–ø—Ç–æ–º –≤–æ–Ω–∞ –ø–æ–±–∞—á–∏–ª–∞ –π–æ–≥–æ.</td>
</tr>
<tr>
<td><strong>–æ–¥—Ä–∞–∑—É</strong></td>
<td>immediately</td>
<td>–Ø –æ–¥—Ä–∞–∑—É –∑—Ä–æ–∑—É–º—ñ–≤.</td>
</tr>
<tr>
<td><strong>—à–≤–∏–¥–∫–æ</strong></td>
<td>quickly</td>
<td>–í—ñ–Ω —à–≤–∏–¥–∫–æ –Ω–∞–ø–∏—Å–∞–≤ –ª–∏—Å—Ç–∞.</td>
</tr>
</tbody>
</table>
<hr /></div>
    </div>
  
    <div class="card section-practice">
      <h3>Practice</h3>
      <div class="md-content"><table>
<thead>
<tr>
<th>Imperfective</th>
<th>Perfective</th>
</tr>
</thead>
<tbody>
<tr>
<td>–Ø <strong>—á–∏—Ç–∞–≤</strong> –≤–µ—Å—å –≤–µ—á—ñ—Ä.</td>
<td>–Ø <strong>–ø—Ä–æ—á–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É.</td>
</tr>
<tr>
<td>(I was reading all evening.)</td>
<td>(I finished the book.)</td>
</tr>
<tr>
<td>–í–æ–Ω–∞ <strong>–ø–∏—Å–∞–ª–∞</strong> —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏.</td>
<td>–í–æ–Ω–∞ <strong>–Ω–∞–ø–∏—Å–∞–ª–∞</strong> –ª–∏—Å—Ç–∞.</td>
</tr>
<tr>
<td>(She was writing for 3 hours.)</td>
<td>(She wrote/finished the letter.)</td>
</tr>
<tr>
<td>–©–æ –≤–∏ <strong>—Ä–æ–±–∏–ª–∏</strong>?</td>
<td>–©–æ –≤–∏ <strong>–∑—Ä–æ–±–∏–ª–∏</strong>?</td>
</tr>
<tr>
<td>(What were you doing?)</td>
<td>(What did you do/accomplish?)</td>
</tr>
</tbody>
</table>
<hr /></div>
    </div>
  
    <div class="card section-content">
      <h3>Choosing the Right Aspect: Decision Guide</h3>
      <div class="md-content"><p>When talking about the past, ask yourself these questions:</p>
<h2 id="question1amiaskingaboutprocessorresult">Question 1: Am I asking about process or result?</h2>
<table>
<thead>
<tr>
<th>If you want to know‚Ä¶</th>
<th>Use</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>How they spent time</td>
<td>Imperfective</td>
<td>–©–æ —Ç–∏ <strong>—Ä–æ–±–∏–≤</strong> –≤—á–æ—Ä–∞?</td>
</tr>
<tr>
<td>What they accomplished</td>
<td>Perfective</td>
<td>–©–æ —Ç–∏ <strong>–∑—Ä–æ–±–∏–≤</strong> –≤—á–æ—Ä–∞?</td>
</tr>
</tbody>
</table>
<h2 id="question2didtheactioncomplete">Question 2: Did the action complete?</h2>
<table>
<thead>
<tr>
<th>Situation</th>
<th>Aspect</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Finished the book</td>
<td>Perfective</td>
<td><strong>–ü—Ä–æ—á–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É</td>
</tr>
<tr>
<td>Read (for a while)</td>
<td>Imperfective</td>
<td><strong>–ß–∏—Ç–∞–≤</strong> –∫–Ω–∏–≥—É</td>
</tr>
<tr>
<td>Made a call</td>
<td>Perfective</td>
<td><strong>–ó–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤</strong></td>
</tr>
<tr>
<td>Was on the phone</td>
<td>Imperfective</td>
<td><strong>–¢–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤</strong></td>
</tr>
</tbody>
</table>
<h2 id="question3isthereatimeword">Question 3: Is there a time word?</h2>
<table>
<thead>
<tr>
<th>Time word suggests‚Ä¶</th>
<th>Aspect</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>Duration (—Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏, –≤–µ—Å—å –¥–µ–Ω—å)</td>
<td>Imperfective</td>
<td>–ß–∏—Ç–∞–≤ <strong>—Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏</strong></td>
</tr>
<tr>
<td>Completion (–≤–∂–µ, –Ω–∞—Ä–µ—à—Ç—ñ)</td>
<td>Perfective</td>
<td><strong>–í–∂–µ</strong> –ø—Ä–æ—á–∏—Ç–∞–≤</td>
</tr>
<tr>
<td>Suddenness (—Ä–∞–ø—Ç–æ–º)</td>
<td>Perfective</td>
<td><strong>–†–∞–ø—Ç–æ–º</strong> –ø–æ–±–∞—á–∏–≤</td>
</tr>
<tr>
<td>Repetition (–∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è)</td>
<td>Imperfective</td>
<td>–¢–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤ <strong>–∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è</strong></td>
</tr>
</tbody>
</table>
<h2 id="commonmistakestoavoid">Common Mistakes to Avoid</h2>
<p><strong>‚ùå Wrong:</strong> –Ø –ø—Ä–æ—á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏.<br />
<strong>‚úì Right:</strong> –Ø —á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏.<br />
<em>Duration = imperfective</em></p>
<p><strong>‚ùå Wrong:</strong> –í–æ–Ω–∞ –≤–∂–µ –ø–∏—Å–∞–ª–∞ –ª–∏—Å—Ç–∞.<br />
<strong>‚úì Right:</strong> –í–æ–Ω–∞ –≤–∂–µ –Ω–∞–ø–∏—Å–∞–ª–∞ –ª–∏—Å—Ç–∞.<br />
<em>"Already" + completion = perfective</em></p>
<p><strong>‚ùå Wrong:</strong> –†–∞–ø—Ç–æ–º –≤—ñ–Ω –±–∞—á–∏–≤ –∫–æ—Ç–∞.<br />
<strong>‚úì Right:</strong> –†–∞–ø—Ç–æ–º –≤—ñ–Ω –ø–æ–±–∞—á–∏–≤ –∫–æ—Ç–∞.<br />
<em>"Suddenly" = perfective</em></p>
<blockquote>
  <p>‚ö° <strong>Pro Tip: The "Done" Test</strong></p>
  <p>If you can add "and it's done/finished" to your sentence in English, use perfective in Ukrainian. "I read the book (and finished it)" = <em>–ü—Ä–æ—á–∏—Ç–∞–≤</em>. "I was reading the book (process)" = <em>–ß–∏—Ç–∞–≤</em>.</p>
</blockquote>
<hr />
<hr />
<hr /></div>
    </div>
  
      
    <div class="card section-summary">
      <h3>üìã Summary</h3>
      <div class="md-content"><p>Excellent work! You've learned:</p>
<ul>
<li><strong>Perfective past</strong> for completed actions: –ø—Ä–æ—á–∏—Ç–∞–≤, –Ω–∞–ø–∏—Å–∞–≤, –∑—Ä–æ–±–∏–≤</li>
<li><strong>Imperfective past</strong> for duration/process: —á–∏—Ç–∞–≤, –ø–∏—Å–∞–≤, —Ä–æ–±–∏–≤</li>
<li><strong>Time words</strong> that suggest perfective: –≤–∂–µ, –Ω–∞—Ä–µ—à—Ç—ñ, —Ä–∞–ø—Ç–æ–º, –æ–¥—Ä–∞–∑—É</li>
<li><strong>Time words</strong> that suggest imperfective: —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏, –≤–µ—Å—å –¥–µ–Ω—å, –¥–æ–≤–≥–æ</li>
<li>How to choose between "I was doing" vs "I did"</li>
</ul>
<p><strong>Coming up next</strong>: Future Plans &amp; Promises ‚Äî using perfective for definite future actions!</p></div>
    </div>
  
      <div class="btn-group">
        <button class="btn btn-primary" onclick="showSection('activity-0')">Activities ‚Üí</button>
      </div>
    </section>
  
    
    <section id="activity-0" class="section"><div class="card"><h3>Choose the Correct Aspect</h3>
      <div class="score-display"><span class="score"><span id="activity-0-score">0</span>/12</span></div>
      <div id="activity-0-container" class="fill-container"></div>
      <div class="completion-message" id="activity-0-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-0')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-1')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-1" class="section"><div class="card"><h3>Infinitive to Past Form</h3>
      <div class="score-display"><span class="score"><span id="activity-1-score">0</span>/12</span></div>
      <div class="match-container" id="activity-1-container"><svg class="match-lines" id="activity-1-lines"></svg>
        <div class="match-column" id="activity-1-left"></div>
        <div class="match-column" id="activity-1-right"></div>
      </div>
      <div class="completion-message" id="activity-1-complete"><h3>Perfect!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-1')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-2')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-2" class="section"><div class="card"><h3>Word Order</h3>
      <div class="score-display"><span class="score"><span id="activity-2-score">0</span>/12</span></div>
      <div id="activity-2-container" class="order-container"></div>
      <div class="completion-message" id="activity-2-complete"><h3>Perfect Order!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-2')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-3')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-3" class="section"><div class="card"><h3>Completed or Ongoing?</h3>
      <div class="score-display"><span class="score"><span id="activity-3-score">0</span>/12</span></div>
      <div id="activity-3-container"></div>
      <div class="completion-message" id="activity-3-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-3')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-4')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-4" class="section"><div class="card"><h3>Perfective Past Facts</h3>
      <div class="score-display"><span class="score"><span id="activity-4-score">0</span>/12</span></div>
      <div id="activity-4-container"></div>
      <div class="completion-message" id="activity-4-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-4')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-5')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-5" class="section"><div class="card"><h3>Aspect Usage</h3>
      <div class="score-display"><span class="score"><span id="activity-5-score">0</span>/12</span></div>
      <div class="sort-pool" id="activity-5-pool"><div class="sort-items" id="activity-5-items"></div></div>
      <div class="sort-groups" id="activity-5-groups"></div>
      <div class="completion-message" id="activity-5-complete"><h3>All Sorted!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-5')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-6')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-6" class="section"><div class="card"><h3>Time Expressions and Aspect</h3>
      <div class="score-display"><span class="score"><span id="activity-6-score">0</span>/12</span></div>
      <div id="activity-6-container" class="fill-container"></div>
      <div class="completion-message" id="activity-6-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-6')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-7')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-7" class="section"><div class="card"><h3>Perfective or Imperfective Past</h3>
      <div class="score-display"><span class="score"><span id="activity-7-score">0</span>/12</span></div>
      <div id="activity-7-container" class="select-container"></div>
      <div class="completion-message" id="activity-7-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-7')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-8')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-8" class="section"><div class="card"><h3>Correct the Aspect Error</h3>
      <div class="score-display"><span class="score"><span id="activity-8-score">0</span>/24</span></div>
      <div id="activity-8-container" class="error-correction-container"></div>
      <div class="completion-message" id="activity-8-complete"><h3>All Corrected!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-8')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-9')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-9" class="section"><div class="card"><h3>Yesterday&#039;s Events</h3>
      <div class="score-display"><span class="score"><span id="activity-9-score">0</span>/12</span></div>
      <div id="activity-9-container" class="order-container"></div>
      <div class="completion-message" id="activity-9-complete"><h3>Perfect Order!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-9')">Reset</button><button class="btn btn-primary" onclick="showSection('activity-10')">Next ‚Üí</button></div>
    </div></section>

    <section id="activity-10" class="section"><div class="card"><h3>Aspect in Past Tense Mastery</h3>
      <div class="score-display"><span class="score"><span id="activity-10-score">0</span>/12</span></div>
      <div id="activity-10-container"></div>
      <div class="completion-message" id="activity-10-complete"><h3>Complete!</h3></div>
      <div class="btn-group"><button class="btn btn-outline" onclick="resetActivity('activity-10')">Reset</button><button class="btn btn-primary" onclick="showSection('vocab')">Next ‚Üí</button></div>
    </div></section>
    
    <section id="vocab" class="section">
      <div class="card">
        <h3>–°–ª–æ–≤–Ω–∏–∫ (48)</h3>
        <div class="vocab-table-container">
          <table class="vocab-table">
            <thead><tr>
    <th>–°–ª–æ–≤–æ</th>
    
    <th>IPA</th>
    <th>–ü–µ—Ä–µ–∫–ª–∞–¥</th>
    <th>–ü—Ä–∏–º—ñ—Ç–∫–∞</th>
  </tr></thead>
            <tbody><tr><td class="vocab-uk">–∑—Ä–æ–±–∏–≤</td><td class="vocab-ipa">/zroÀàb…™w/</td><td class="vocab-en">did, made (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–Ω–∞–ø–∏—Å–∞–≤</td><td class="vocab-ipa">/nap…™Ààsaw/</td><td class="vocab-en">wrote (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø—Ä–æ—á–∏—Ç–∞–≤</td><td class="vocab-ipa">/prot É…™Ààtaw/</td><td class="vocab-en">read (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">—Å–∫–∞–∑–∞–≤</td><td class="vocab-ipa">/skaÀàzaw/</td><td class="vocab-en">said (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø–æ–±–∞—á–∏–≤</td><td class="vocab-ipa">/poÀàbat É…™w/</td><td class="vocab-en">saw (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø–æ—á—É–≤</td><td class="vocab-ipa">/poÀàt Éuw/</td><td class="vocab-en">heard (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–≤–∑—è–≤</td><td class="vocab-ipa">/wz ≤aw/</td><td class="vocab-en">took (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–¥–∞–≤</td><td class="vocab-ipa">/daw/</td><td class="vocab-en">gave (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø—ñ—à–æ–≤</td><td class="vocab-ipa">/piÀà Éow/</td><td class="vocab-en">went (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø—Ä–∏–π—à–æ–≤</td><td class="vocab-ipa">/pr…™jÀà Éow/</td><td class="vocab-en">came (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø—Ä–∏—ó—Ö–∞–≤</td><td class="vocab-ipa">/pr…™Ààjixaw/</td><td class="vocab-en">arrived (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑—Ä–æ–∑—É–º—ñ–≤</td><td class="vocab-ipa">/zrozuÀàmiw/</td><td class="vocab-en">understood (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–∞–±—É–≤</td><td class="vocab-ipa">/zaÀàbuw/</td><td class="vocab-en">forgot (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–Ω–∞–π—à–æ–≤</td><td class="vocab-ipa">/znajÀà Éow/</td><td class="vocab-en">found (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–∞–≥—É–±–∏–≤</td><td class="vocab-ipa">/za…¶uÀàb…™w/</td><td class="vocab-en">lost (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–≤–∂–µ</td><td class="vocab-ipa">/w í…õ/</td><td class="vocab-en">already</td><td class="vocab-note"></td></tr><tr><td class="vocab-uk">–Ω–∞—Ä–µ—à—Ç—ñ</td><td class="vocab-ipa">/naÀàr…õ Éti/</td><td class="vocab-en">finally</td><td class="vocab-note"></td></tr><tr><td class="vocab-uk">—Ä–∞–ø—Ç–æ–º</td><td class="vocab-ipa">/Ààraptom/</td><td class="vocab-en">suddenly</td><td class="vocab-note"></td></tr><tr><td class="vocab-uk">–æ–¥—Ä–∞–∑—É</td><td class="vocab-ipa">/oÀàdrazu/</td><td class="vocab-en">immediately</td><td class="vocab-note"></td></tr><tr><td class="vocab-uk">—à–≤–∏–¥–∫–æ</td><td class="vocab-ipa">/Àà Éw…™dko/</td><td class="vocab-en">quickly</td><td class="vocab-note"></td></tr><tr><td class="vocab-uk">—á–∏—Ç–∞–≤</td><td class="vocab-ipa">/t É…™Ààtaw/</td><td class="vocab-en">was reading (m)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–±–∞—á–∏–ª–∞</td><td class="vocab-ipa">/Ààbat É…™la/</td><td class="vocab-en">saw (f)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">—Å–ª—É—Ö–∞–ª–∞</td><td class="vocab-ipa">/sluÀàxala/</td><td class="vocab-en">was listening (f)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–¥–∏–≤–∏–ª–∏—Å—è</td><td class="vocab-ipa">/d…™w…™Ààl…™s ≤a/</td><td class="vocab-en">were watching</td><td class="vocab-note">impf past pl</td></tr><tr><td class="vocab-uk">–≥—Ä–∞–ª–∏</td><td class="vocab-ipa">/Àà…¶ral…™/</td><td class="vocab-en">were playing</td><td class="vocab-note">impf past pl</td></tr><tr><td class="vocab-uk">–≥–æ–≤–æ—Ä–∏–ª–∏</td><td class="vocab-ipa">/…¶owoÀàr…™l…™/</td><td class="vocab-en">were talking</td><td class="vocab-note">impf past pl</td></tr><tr><td class="vocab-uk">—Ä–æ–±–∏–≤</td><td class="vocab-ipa">/roÀàb…™w/</td><td class="vocab-en">was doing (m)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">—à—É–∫–∞–ª–∞</td><td class="vocab-ipa">/ ÉuÀàkala/</td><td class="vocab-en">was looking for (f)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–≤—ñ–¥—á–∏–Ω–∏–≤</td><td class="vocab-ipa">/widt É…™Ààn…™w/</td><td class="vocab-en">opened (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑—Ä–æ–∑—É–º—ñ–ª–∞</td><td class="vocab-ipa">/zrozuÀàmila/</td><td class="vocab-en">understood (f)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–∞–∫—ñ–Ω—á–∏–ª–∞</td><td class="vocab-ipa">/zaÀàkint É…™la/</td><td class="vocab-en">finished (f)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–Ω–∞–π—à–ª–∞</td><td class="vocab-ipa">/znajÀà Éla/</td><td class="vocab-en">found (f)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–∞–±—É–ª–∞</td><td class="vocab-ipa">/zaÀàbula/</td><td class="vocab-en">forgot (f)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–≤—ñ–¥–ø—Ä–∞–≤–∏–≤</td><td class="vocab-ipa">/widÀàpraw…™w/</td><td class="vocab-en">sent (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤</td><td class="vocab-ipa">/zat…õl…õfonuÀàwaw/</td><td class="vocab-en">called (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞</td><td class="vocab-ipa">/t…õl…õfonuÀàwala/</td><td class="vocab-en">was calling (f)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–ø–æ—ó–≤</td><td class="vocab-ipa">/poÀàjiw/</td><td class="vocab-en">ate (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–∑–∞–∫—ñ–Ω—á–∏–≤</td><td class="vocab-ipa">/zaÀàkint É…™w/</td><td class="vocab-en">finished (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–≤—ñ–¥–ø–æ—á–∏–≤–∞–≤</td><td class="vocab-ipa">/widpot É…™Ààwaw/</td><td class="vocab-en">was resting (m)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–¥–∏–≤–∏–≤—Å—è</td><td class="vocab-ipa">/d…™w…™wÀàs ≤a/</td><td class="vocab-en">was watching (m)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–ø–æ–¥–∏–≤–∏–≤—Å—è</td><td class="vocab-ipa">/pod…™w…™wÀàs ≤a/</td><td class="vocab-en">watched (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–≥—Ä–∞–ª–∏—Å—è</td><td class="vocab-ipa">/Àà…¶ral…™s ≤a/</td><td class="vocab-en">were playing (pl)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">—Ä–æ–∑–ø–æ–≤—ñ–¥–∞–ª–∞</td><td class="vocab-ipa">/rozpowiÀàdala/</td><td class="vocab-en">was telling (f)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–≤—Å—Ç–∞–≤</td><td class="vocab-ipa">/wstaw/</td><td class="vocab-en">got up (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">—Å–Ω—ñ–¥–∞–≤</td><td class="vocab-ipa">/sniÀàdaw/</td><td class="vocab-en">was having breakfast (m)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–ø–æ—ó—Ö–∞–≤</td><td class="vocab-ipa">/poÀàjixaw/</td><td class="vocab-en">went (by transport) (m)</td><td class="vocab-note">pf past</td></tr><tr><td class="vocab-uk">–ø—Ä–∞—Ü—é–≤–∞–≤</td><td class="vocab-ipa">/prats ≤uÀàwaw/</td><td class="vocab-en">was working (m)</td><td class="vocab-note">impf past</td></tr><tr><td class="vocab-uk">–ø—Ä–∏–≥–æ—Ç—É–≤–∞–≤</td><td class="vocab-ipa">/pr…™…¶otuÀàwaw/</td><td class="vocab-en">prepared (m)</td><td class="vocab-note">pf past</td></tr></tbody>
          </table>
        </div>
      </div>
      
      <div class="btn-group">
        <button class="btn btn-primary" onclick="showSection('lesson')">‚Üê Back to Lesson</button>
      </div>
    </section>
  </main><footer>Module 12 ¬∑ curricula-opus</footer>
  <script>

    const activitiesData = [{"id":"activity-0","type":"fill-blank","title":"Choose the Correct Aspect","data":{"type":"fill-blank","items":[{"prompt":"–í—ñ–Ω ___ –∫–Ω–∏–≥—É —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏. (was reading)","answer":"—á–∏—Ç–∞–≤"},{"prompt":"–í—ñ–Ω ___ –∫–Ω–∏–≥—É –≤—á–æ—Ä–∞. (finished reading)","answer":"–ø—Ä–æ—á–∏—Ç–∞–≤"},{"prompt":"–í–æ–Ω–∞ –≤–∂–µ ___ –ª–∏—Å—Ç–∞. (finished writing)","answer":"–Ω–∞–ø–∏—Å–∞–ª–∞"},{"prompt":"–í–æ–Ω–∏ ___ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –≤–µ—Å—å –¥–µ–Ω—å. (were doing)","answer":"—Ä–æ–±–∏–ª–∏"},{"prompt":"–Ø –Ω–∞—Ä–µ—à—Ç—ñ ___ —Ü—é —Ä–æ–±–æ—Ç—É! (finished)","answer":"–∑—Ä–æ–±–∏–≤"},{"prompt":"–©–æ —Ç–∏ ___ –≤—á–æ—Ä–∞ —É–≤–µ—á–µ—Ä—ñ? (were doing)","answer":"—Ä–æ–±–∏–≤"},{"prompt":"–í—ñ–Ω —Ä–∞–ø—Ç–æ–º ___ —ó—ó —É –Ω–∞—Ç–æ–≤–ø—ñ. (saw suddenly)","answer":"–ø–æ–±–∞—á–∏–≤"},{"prompt":"–í–æ–Ω–∞ ___ –π–æ–≥–æ –∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è. (used to see)","answer":"–±–∞—á–∏–ª–∞"},{"prompt":"–ú–∏ –≤–∂–µ ___ –æ–±—ñ–¥. (finished making)","answer":"–∑—Ä–æ–±–∏–ª–∏"},{"prompt":"–í—ñ–Ω ___ —â–æ—Å—å —ñ –∑–∞—Å–º—ñ—è–≤—Å—è. (said)","answer":"—Å–∫–∞–∑–∞–≤"},{"prompt":"–í–æ–Ω–∞ ___ –º—É–∑–∏–∫—É, –∫–æ–ª–∏ —è —É–≤—ñ–π—à–æ–≤. (was listening)","answer":"—Å–ª—É—Ö–∞–ª–∞"},{"prompt":"–Ø ___ –π–æ–≥–æ —Å–ª–æ–≤–∞ –æ–¥—Ä–∞–∑—É. (understood)","answer":"–∑—Ä–æ–∑—É–º—ñ–≤"}]}},{"id":"activity-1","type":"match-up","title":"Infinitive to Past Form","data":{"type":"match-up","pairs":[{"left":"–∑—Ä–æ–±–∏—Ç–∏","right":"–∑—Ä–æ–±–∏–≤"},{"left":"–Ω–∞–ø–∏—Å–∞—Ç–∏","right":"–Ω–∞–ø–∏—Å–∞–≤"},{"left":"–ø—Ä–æ—á–∏—Ç–∞—Ç–∏","right":"–ø—Ä–æ—á–∏—Ç–∞–≤"},{"left":"—Å–∫–∞–∑–∞—Ç–∏","right":"—Å–∫–∞–∑–∞–≤"},{"left":"–ø–æ–±–∞—á–∏—Ç–∏","right":"–ø–æ–±–∞—á–∏–≤"},{"left":"–ø–æ—á—É—Ç–∏","right":"–ø–æ—á—É–≤"},{"left":"–≤–∑—è—Ç–∏","right":"–≤–∑—è–≤"},{"left":"–¥–∞—Ç–∏","right":"–¥–∞–≤"},{"left":"–ø—ñ—Ç–∏","right":"–ø—ñ—à–æ–≤"},{"left":"–ø—Ä–∏–π—Ç–∏","right":"–ø—Ä–∏–π—à–æ–≤"},{"left":"–∑—Ä–æ–∑—É–º—ñ—Ç–∏","right":"–∑—Ä–æ–∑—É–º—ñ–≤"},{"left":"–∑–Ω–∞–π—Ç–∏","right":"–∑–Ω–∞–π—à–æ–≤"}],"shuffleRight":true}},{"id":"activity-2","type":"unjumble","title":"Word Order","data":{"type":"unjumble","isUnjumble":true,"items":[{"words":["—Ü—ñ–∫–∞–≤—É","–∫–Ω–∏–≥—É","–ø—Ä–æ—á–∏—Ç–∞–≤","–Ø","–≤—á–æ—Ä–∞","—É–≤–µ—á–µ—Ä—ñ","–¥—É–∂–µ","—à–≤–∏–¥–∫–æ"],"answer":"–Ø –≤—á–æ—Ä–∞ —É–≤–µ—á–µ—Ä—ñ –¥—É–∂–µ —à–≤–∏–¥–∫–æ –ø—Ä–æ—á–∏—Ç–∞–≤ —Ü—ñ–∫–∞–≤—É –∫–Ω–∏–≥—É.","translation":"I read an interesting book very quickly yesterday evening."},{"words":["–≤–∂–µ","–¥–æ–≤–≥–æ–≥–æ","–ª–∏—Å—Ç–∞","–í–æ–Ω–∞","–Ω–∞–ø–∏—Å–∞–ª–∞","—Å–≤–æ—ó–π","–º–∞–º—ñ","—Å—å–æ–≥–æ–¥–Ω—ñ"],"answer":"–í–æ–Ω–∞ –≤–∂–µ —Å—å–æ–≥–æ–¥–Ω—ñ –Ω–∞–ø–∏—Å–∞–ª–∞ –¥–æ–≤–≥–æ–≥–æ –ª–∏—Å—Ç–∞ —Å–≤–æ—ó–π –º–∞–º—ñ.","translation":"She already wrote a long letter to her mom today."},{"words":["–Ω–∞—Ä–µ—à—Ç—ñ","–≤–∞–∂–ª–∏–≤—É","—Ä–æ–±–æ—Ç—É","–∑—Ä–æ–±–∏–ª–∏","–ú–∏","—Å—å–æ–≥–æ–¥–Ω—ñ","–ø—ñ—Å–ª—è","–æ–±—ñ–¥—É"],"answer":"–ú–∏ –Ω–∞—Ä–µ—à—Ç—ñ –∑—Ä–æ–±–∏–ª–∏ –≤–∞–∂–ª–∏–≤—É —Ä–æ–±–æ—Ç—É —Å—å–æ–≥–æ–¥–Ω—ñ –ø—ñ—Å–ª—è –æ–±—ñ–¥—É.","translation":"We finally did the important work today after lunch."},{"words":["–ø–æ–±–∞—á–∏–≤","—Ä–∞–ø—Ç–æ–º","—Å–≤–æ–≥–æ","–¥—Ä—É–≥–∞","–í—ñ–Ω","—ó—ó","–±—ñ–ª—è","–∫–∞—Ñ–µ"],"answer":"–í—ñ–Ω —Ä–∞–ø—Ç–æ–º –ø–æ–±–∞—á–∏–≤ —ó—ó –±—ñ–ª—è –∫–∞—Ñ–µ —Å–≤–æ–≥–æ –¥—Ä—É–≥–∞.","translation":"He suddenly saw her near his friend's cafe."},{"words":["—â–æ","—Å–∞–º–µ","—Ü—ñ–∫–∞–≤–æ–≥–æ","—Å–∫–∞–∑–∞–≤","—Ç–æ–±—ñ","–í—ñ–Ω","—É—á–æ—Ä–∞","—É–≤–µ—á–µ—Ä—ñ"],"answer":"–©–æ —Å–∞–º–µ —Ü—ñ–∫–∞–≤–æ–≥–æ –≤—ñ–Ω —Å–∫–∞–∑–∞–≤ —Ç–æ–±—ñ –≤—á–æ—Ä–∞ —É–≤–µ—á–µ—Ä—ñ?","translation":"What exactly interesting did he tell you yesterday evening?"},{"words":["–ø—Ä–∏–π—à–ª–∞","–ø—ñ–∑–Ω–æ","–¥–æ–¥–æ–º—É","–í–æ–Ω–∞","–ø—ñ—Å–ª—è","–¥–æ–≤–≥–æ—ó","—Ä–æ–±–æ—Ç–∏","–≤—Ç–æ–º–ª–µ–Ω–∞"],"answer":"–í–æ–Ω–∞ –≤—Ç–æ–º–ª–µ–Ω–∞ –ø—Ä–∏–π—à–ª–∞ –ø—ñ–∑–Ω–æ –¥–æ–¥–æ–º—É –ø—ñ—Å–ª—è –¥–æ–≤–≥–æ—ó —Ä–æ–±–æ—Ç–∏.","translation":"She came home late tired after a long day of work."},{"words":["–≤–∑—è–≤","–Ω–æ–≤—É","–∫–Ω–∏–≥—É","–Ø","–∑—ñ","—Å—Ç–æ–ª—É","–≤","–±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ"],"answer":"–Ø –≤–∑—è–≤ –Ω–æ–≤—É –∫–Ω–∏–≥—É –∑—ñ —Å—Ç–æ–ª—É –≤ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ.","translation":"I took a new book from the table in the library."},{"words":["–¥–∞–≤","–º–µ–Ω—ñ","—Å–≤–æ—ó","—Å—Ç–∞—Ä—ñ","–≥—Ä–æ—à—ñ","–í—ñ–Ω","–Ω–∞","–∫–∞–≤—É"],"answer":"–í—ñ–Ω –¥–∞–≤ –º–µ–Ω—ñ —Å–≤–æ—ó —Å—Ç–∞—Ä—ñ –≥—Ä–æ—à—ñ –Ω–∞ –∫–∞–≤—É.","translation":"He gave me his old money for coffee."},{"words":["–ø—ñ—à–æ–≤","—Ä–∞–Ω–æ","–í—ñ–Ω","–Ω–∞","–≤–∞–∂–ª–∏–≤—É","—Ä–æ–±–æ—Ç—É","—Å—å–æ–≥–æ–¥–Ω—ñ","–≤—Ä–∞–Ω—Ü—ñ"],"answer":"–í—ñ–Ω —Å—å–æ–≥–æ–¥–Ω—ñ –≤—Ä–∞–Ω—Ü—ñ —Ä–∞–Ω–æ –ø—ñ—à–æ–≤ –Ω–∞ –≤–∞–∂–ª–∏–≤—É —Ä–æ–±–æ—Ç—É.","translation":"He went to important work early this morning."},{"words":["–∑—Ä–æ–∑—É–º—ñ–≤","—Å–∫–ª–∞–¥–Ω—É","–∑–∞–¥–∞—á—É","–≤—Å–µ","–Ø","–æ–¥—Ä–∞–∑—É","–±–µ–∑","–ø–æ—è—Å–Ω–µ–Ω—å"],"answer":"–Ø –æ–¥—Ä–∞–∑—É –≤—Å–µ –∑—Ä–æ–∑—É–º—ñ–≤ –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω—å —Å–∫–ª–∞–¥–Ω—É –∑–∞–¥–∞—á—É.","translation":"I immediately understood everything about the difficult problem without explanations."},{"words":["–∑–∞–±—É–ª–∞","–ø—Ä–æ","–≤–∞–∂–ª–∏–≤—É","–∑—É—Å—Ç—Ä—ñ—á","–í–æ–Ω–∞","—Å—å–æ–≥–æ–¥–Ω—ñ","–Ω–∞","—Ä–æ–±–æ—Ç—ñ"],"answer":"–í–æ–Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ –∑–∞–±—É–ª–∞ –ø—Ä–æ –≤–∞–∂–ª–∏–≤—É –∑—É—Å—Ç—Ä—ñ—á –Ω–∞ —Ä–æ–±–æ—Ç—ñ.","translation":"She forgot about an important meeting at work today."},{"words":["–∑–Ω–∞–π—à–æ–≤","—Å–≤–æ—ó","—Å—Ç–∞—Ä—ñ","–∫–ª—é—á—ñ","–í—ñ–Ω","–Ω–∞—Ä–µ—à—Ç—ñ","–ø—ñ–¥","–¥–∏–≤–∞–Ω–æ–º"],"answer":"–í—ñ–Ω –Ω–∞—Ä–µ—à—Ç—ñ –∑–Ω–∞–π—à–æ–≤ —Å–≤–æ—ó —Å—Ç–∞—Ä—ñ –∫–ª—é—á—ñ –ø—ñ–¥ –¥–∏–≤–∞–Ω–æ–º.","translation":"He finally found his old keys under the sofa."}]}},{"id":"activity-3","type":"quiz","title":"Completed or Ongoing?","data":{"type":"quiz","questions":[{"question":"\"–í—ñ–Ω –ø—Ä–æ—á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É\" means:","options":["He was reading a book","He finished reading the book","He reads books often","He will read a book"],"correctIndex":1,"explanation":""},{"question":"\"–í–æ–Ω–∞ –Ω–∞–ø–∏—Å–∞–ª–∞ –ª–∏—Å—Ç–∞\" indicates:","options":["The letter is finished","She was writing","She writes letters often","She will write"],"correctIndex":0,"explanation":""},{"question":"\"–Ø —Ä–æ–±–∏–≤ —Ü–µ —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏\" focuses on:","options":["Duration of the action","Completion of the action","The result","A single event"],"correctIndex":0,"explanation":""},{"question":"\"–©–æ –≤—ñ–Ω —Å–∫–∞–∑–∞–≤?\" asks about:","options":["What words were uttered","What he was saying","What he usually says","What he will say"],"correctIndex":0,"explanation":""},{"question":"Which time word suggests perfective?","options":["–¥–æ–≤–≥–æ (long time)","–≤–∂–µ (already)","—Ü—ñ–ª–∏–π –¥–µ–Ω—å (all day)","–∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è (every day)"],"correctIndex":1,"explanation":""},{"question":"\"–†–∞–ø—Ç–æ–º –≤—ñ–Ω –ø–æ–±–∞—á–∏–≤ —ó—ó\" ‚Äî \"—Ä–∞–ø—Ç–æ–º\" suggests:","options":["Sudden single event (perfective)","Long process","Repeated action","Ongoing action"],"correctIndex":0,"explanation":""},{"question":"\"–í—ñ–Ω –ø—ñ—à–æ–≤ –Ω–∞ —Ä–æ–±–æ—Ç—É\" means:","options":["He left for work (completed departure)","He was going to work","He goes to work regularly","He will go to work"],"correctIndex":0,"explanation":""},{"question":"\"–ú–∏ –∑—Ä–æ–±–∏–ª–∏ —Ü–µ\" focuses on:","options":["The completed result","The process of doing","How long it took","Regular activity"],"correctIndex":0,"explanation":""},{"question":"Imperfective past is best for:","options":["Single completed events","Duration and process","Quick sudden actions","Results"],"correctIndex":1,"explanation":""},{"question":"\"–í–æ–Ω–∞ –∑—Ä–æ–∑—É–º—ñ–ª–∞\" means:","options":["She understood (got it)","She was understanding","She understands usually","She will understand"],"correctIndex":0,"explanation":""},{"question":"\"–í—ñ–Ω —á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É –≤–µ—Å—å –¥–µ–Ω—å\" uses imperfective because:","options":["Focus is on duration","The action was completed","It was a single event","It's about the result"],"correctIndex":0,"explanation":""},{"question":"\"–ù–∞—Ä–µ—à—Ç—ñ –≤—ñ–Ω –∑—Ä–æ–±–∏–≤ —Ü–µ\" ‚Äî why perfective?","options":["Finally completed the task","Was doing it for a while","Does it regularly","Will do it"],"correctIndex":0,"explanation":""}],"shuffleQuestions":true,"shuffleOptions":true,"showCorrectAnswers":true}},{"id":"activity-4","type":"true-false","title":"Perfective Past Facts","data":{"type":"true-false","statements":[{"statement":"Perfective past focuses on completed actions.","isTrue":true,"explanation":""},{"statement":"Imperfective past focuses on duration and process.","isTrue":true,"explanation":""},{"statement":"\"–í–∂–µ\" (already) typically pairs with perfective.","isTrue":true,"explanation":""},{"statement":"\"–¢—Ä–∏ –≥–æ–¥–∏–Ω–∏\" typically pairs with perfective.","isTrue":false,"explanation":""},{"statement":"Both aspects use the same past tense endings.","isTrue":true,"explanation":""},{"statement":"\"–í—ñ–Ω –ø—ñ—à–æ–≤\" means he was going.","isTrue":false,"explanation":""},{"statement":"\"–†–∞–ø—Ç–æ–º\" (suddenly) suggests perfective.","isTrue":true,"explanation":""},{"statement":"To ask \"what were you doing?\", use imperfective.","isTrue":true,"explanation":""},{"statement":"\"–ù–∞—Ä–µ—à—Ç—ñ\" (finally) suggests imperfective.","isTrue":false,"explanation":""},{"statement":"Perfective past answers \"did you finish?\"","isTrue":true,"explanation":""},{"statement":"Imperfective past can show repeated actions.","isTrue":true,"explanation":""},{"statement":"\"–ó—Ä–æ–∑—É–º—ñ–≤\" shows the moment of understanding.","isTrue":true,"explanation":""}]}},{"id":"activity-5","type":"group-sort","title":"Aspect Usage","data":{"type":"group-sort","groups":[{"id":"perfective","name":"Perfective","items":["–Ø –ø—Ä–æ—á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É –≤—á–æ—Ä–∞","–í–æ–Ω–∞ –Ω–∞–ø–∏—Å–∞–ª–∞ –ª–∏—Å—Ç–∞","–í—ñ–Ω –≤–∂–µ –∑—Ä–æ–±–∏–≤ —Ü–µ","–†–∞–ø—Ç–æ–º –≤—ñ–Ω –ø–æ–±–∞—á–∏–≤ —ó—ó","–Ø –Ω–∞—Ä–µ—à—Ç—ñ –∑—Ä–æ–∑—É–º—ñ–≤","–í–æ–Ω–∞ —Å–∫–∞–∑–∞–ª–∞ \"—Ç–∞–∫\""],"nameUk":"completed"},{"id":"imperfective","name":"Imperfective","items":["–í—ñ–Ω —á–∏—Ç–∞–≤ —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏","–ú–∏ —Ä–æ–±–∏–ª–∏ —Ü–µ –≤–µ—Å—å –¥–µ–Ω—å","–©–æ —Ç–∏ —Ä–æ–±–∏–≤ —É—á–æ—Ä–∞?","–í–æ–Ω–∞ –¥–∏–≤–∏–ª–∞—Å—è —Ç–µ–ª–µ–≤—ñ–∑–æ—Ä","–í—ñ–Ω –≥–æ–≤–æ—Ä–∏–≤ –ø—Ä–æ —Ü–µ –¥–æ–≤–≥–æ","–î—ñ—Ç–∏ –≥—Ä–∞–ª–∏—Å—è –≤ –ø–∞—Ä–∫—É"],"nameUk":"process"}],"shuffleItems":true}},{"id":"activity-6","type":"fill-blank","title":"Time Expressions and Aspect","data":{"type":"fill-blank","items":[{"prompt":"–í—ñ–Ω ___ –ª–∏—Å—Ç–∞ –∑–∞ –¥–≤—ñ –≥–æ–¥–∏–Ω–∏. (wrote/finished)","answer":"–Ω–∞–ø–∏—Å–∞–≤"},{"prompt":"–í–æ–Ω–∞ ___ –º—É–∑–∏–∫—É, –∫–æ–ª–∏ —è —É–≤—ñ–π—à–æ–≤. (was listening)","answer":"—Å–ª—É—Ö–∞–ª–∞"},{"prompt":"–ú–∏ ___ —Ü–µ–π —Ñ—ñ–ª—å–º —Ç—Ä–∏ —Ä–∞–∑–∏. (have watched)","answer":"–¥–∏–≤–∏–ª–∏—Å—è"},{"prompt":"–í—ñ–Ω —Ä–∞–ø—Ç–æ–º ___ –≤–∞–∂–ª–∏–≤—É –Ω–æ–≤–∏–Ω—É –ø–æ —Ä–∞–¥—ñ–æ. (heard)","answer":"–ø–æ—á—É–≤"},{"prompt":"–í–æ–Ω–∞ –≤–∂–µ ___ —Å–≤–æ—é –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—é –¥–æ –æ–±—ñ–¥—É. (finished)","answer":"–∑–∞–∫—ñ–Ω—á–∏–ª–∞"},{"prompt":"–î—ñ—Ç–∏ ___ –Ω–∞ –≤—É–ª–∏—Ü—ñ —Ü—ñ–ª–∏–π –¥–µ–Ω—å —É—á–æ—Ä–∞. (were playing)","answer":"–≥—Ä–∞–ª–∏"},{"prompt":"–°—Ç—É–¥–µ–Ω—Ç –Ω–∞—Ä–µ—à—Ç—ñ ___ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Å–∫–ª–∞–¥–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è. (found)","answer":"–∑–Ω–∞–π—à–æ–≤"},{"prompt":"–ë–∞–±—É—Å—è ___ –Ω–∞–º —ñ—Å—Ç–æ—Ä—ñ—ó –∫–æ–∂–Ω–æ–≥–æ –≤–µ—á–æ—Ä–∞. (used to tell)","answer":"—Ä–æ–∑–ø–æ–≤—ñ–¥–∞–ª–∞"},{"prompt":"–í—ñ–Ω –æ–¥—Ä–∞–∑—É ___ —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º–∏. (understood)","answer":"–∑—Ä–æ–∑—É–º—ñ–≤"},{"prompt":"–í–æ–Ω–∏ ___ –ø—Ä–æ —Ü–µ –¥–æ–≤–≥–æ —ñ –≤—Ä–µ—à—Ç—ñ –≤–∏—Ä—ñ—à–∏–ª–∏. (were discussing)","answer":"–≥–æ–≤–æ—Ä–∏–ª–∏"},{"prompt":"–Ø ___ –∫–ª—é—á—ñ –ø—ñ–¥ –¥–∏–≤–∞–Ω–æ–º. (found)","answer":"–∑–Ω–∞–π—à–æ–≤"},{"prompt":"–í—ñ–Ω ___ –ø—Ä–æ –∑—É—Å—Ç—Ä—ñ—á —ñ –Ω–µ –ø—Ä–∏–π—à–æ–≤. (forgot)","answer":"–∑–∞–±—É–≤"}]}},{"id":"activity-7","type":"select","title":"Perfective or Imperfective Past","data":{"type":"select","items":[{"question":"–£—á–æ—Ä–∞ —è ... —Ü—ñ–ª—É –∫–Ω–∏–≥—É.","options":[{"text":"–ø—Ä–æ—á–∏—Ç–∞–≤","correct":true},{"text":"—á–∏—Ç–∞–≤","correct":false}]},{"question":"–í—ñ–Ω ... —Ç–µ–ª–µ–≤—ñ–∑–æ—Ä, –∫–æ–ª–∏ –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∏.","options":[{"text":"–ø–æ–¥–∏–≤–∏–≤—Å—è","correct":false},{"text":"–¥–∏–≤–∏–≤—Å—è","correct":true}]},{"question":"–í–æ–Ω–∞ ... –ª–∏—Å—Ç–∞ –º–∞–º—ñ –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–∂–Ω—è.","options":[{"text":"–Ω–∞–ø–∏—Å–∞–ª–∞","correct":false},{"text":"–ø–∏—Å–∞–ª–∞","correct":true}]},{"question":"–í—ñ–Ω —à–≤–∏–¥–∫–æ ... –¥–≤–µ—Ä—ñ —ñ –≤–∏–π—à–æ–≤.","options":[{"text":"–≤—ñ–¥—á–∏–Ω–∏–≤","correct":true},{"text":"–≤—ñ–¥—á–∏–Ω—è–≤","correct":false}]},{"question":"–ú–∏ ... –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏.","options":[{"text":"–∑—Ä–æ–±–∏–ª–∏","correct":false},{"text":"—Ä–æ–±–∏–ª–∏","correct":true}]},{"question":"–ù–∞—Ä–µ—à—Ç—ñ –≤–æ–Ω–∞ ... –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å.","options":[{"text":"–∑–Ω–∞–π—à–ª–∞","correct":true},{"text":"—à—É–∫–∞–ª–∞","correct":false}]},{"question":"–í—ñ–Ω ... –ø—Ä–æ —Ü–µ –≤–µ—Å—å –≤–µ—á—ñ—Ä.","options":[{"text":"–ø–æ–≥–æ–≤–æ—Ä–∏–≤","correct":false},{"text":"–≥–æ–≤–æ—Ä–∏–≤","correct":true}]},{"question":"–†–∞–ø—Ç–æ–º –≤—ñ–Ω ... –¥–∏–≤–Ω–∏–π –∑–≤—É–∫.","options":[{"text":"–ø–æ—á—É–≤","correct":true},{"text":"—á—É–≤","correct":false}]},{"question":"–Ø ... —Ü–µ–π —Ñ—ñ–ª—å–º —É—á–æ—Ä–∞ –≤–≤–µ—á–µ—Ä—ñ.","options":[{"text":"–ø–æ–¥–∏–≤–∏–≤—Å—è","correct":true},{"text":"–¥–∏–≤–∏–≤—Å—è","correct":false}]},{"question":"–ë–∞–±—É—Å—è ... –Ω–∞–º –∫–∞–∑–∫–∏ –∫–æ–∂–Ω–æ–≥–æ –≤–µ—á–æ—Ä–∞.","options":[{"text":"—Ä–æ–∑–ø–æ–≤—ñ–ª–∞","correct":false},{"text":"—Ä–æ–∑–ø–æ–≤—ñ–¥–∞–ª–∞","correct":true}]},{"question":"–í–æ–Ω–∞ ... –ø—Ä–æ –∑—É—Å—Ç—Ä—ñ—á —ñ –ø—Ä–∏–π—à–ª–∞ –ø—ñ–∑–Ω–æ.","options":[{"text":"–∑–∞–±—É–ª–∞","correct":true},{"text":"–∑–∞–±—É–≤–∞–ª–∞","correct":false}]},{"question":"–í—ñ–Ω ... –∫–Ω–∏–≥—É –∑—ñ —Å—Ç–æ–ª—É —ñ –ø—ñ—à–æ–≤.","options":[{"text":"–≤–∑—è–≤","correct":true},{"text":"–±—Ä–∞–≤","correct":false}]}]}},{"id":"activity-8","type":"error-correction","title":"Correct the Aspect Error","data":{"type":"error-correction","items":[{"sentence":"–í—ñ–Ω –ø—Ä–æ—á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏, –∞–ª–µ –Ω–µ –∑–∞–∫—ñ–Ω—á–∏–≤.","errorWord":"–ø—Ä–æ—á–∏—Ç–∞–≤","correctForm":"—á–∏—Ç–∞–≤","options":["–ø—Ä–æ—á–∏—Ç–∞–≤","—á–∏—Ç–∞–≤","—á–∏—Ç–∞—î","–ø—Ä–æ—á–∏—Ç–∞—î"],"explanation":"Imperfective for duration, especially with \"not finished\""},{"sentence":"–í–æ–Ω–∞ –≤–∂–µ –ø–∏—Å–∞–ª–∞ –ª–∏—Å—Ç–∞ —ñ –≤—ñ–¥–ø—Ä–∞–≤–∏–ª–∞ –π–æ–≥–æ.","errorWord":"–ø–∏—Å–∞–ª–∞","correctForm":"–Ω–∞–ø–∏—Å–∞–ª–∞","options":["–ø–∏—Å–∞–ª–∞","–Ω–∞–ø–∏—Å–∞–ª–∞","–ø–∏—à–µ","–Ω–∞–ø–∏—à–µ"],"explanation":"Perfective with \"–≤–∂–µ\" when action is completed"},{"sentence":"–†–∞–ø—Ç–æ–º –≤—ñ–Ω –±–∞—á–∏–≤ —Å–≤–æ–≥–æ –¥—Ä—É–≥–∞ –Ω–∞ –≤—É–ª–∏—Ü—ñ.","errorWord":"–±–∞—á–∏–≤","correctForm":"–ø–æ–±–∞—á–∏–≤","options":["–±–∞—á–∏–≤","–ø–æ–±–∞—á–∏–≤","–±–∞—á–∏—Ç—å","–ø–æ–±–∞—á–∏—Ç—å"],"explanation":"Perfective with \"—Ä–∞–ø—Ç–æ–º\" for sudden events"},{"sentence":"–Ø —Ä–æ–±–∏–≤ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è —ñ –ø—ñ—à–æ–≤ –≥—É–ª—è—Ç–∏.","errorWord":"—Ä–æ–±–∏–≤","correctForm":"–∑—Ä–æ–±–∏–≤","options":["—Ä–æ–±–∏–≤","–∑—Ä–æ–±–∏–≤","—Ä–æ–±–ª—é","–∑—Ä–æ–±–ª—é"],"explanation":"Perfective for completed action in sequence"},{"sentence":"–í–æ–Ω–∞ –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞ –π–æ–º—É –∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è –º–∏–Ω—É–ª–æ–≥–æ —Ç–∏–∂–Ω—è.","errorWord":"–∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞","correctForm":"—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞","options":["–∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞","—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞","—Ç–µ–ª–µ—Ñ–æ–Ω—É—î","–∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É—î"],"explanation":"Imperfective for repeated daily actions"},{"sentence":"–í—ñ–Ω –Ω–∞—Ä–µ—à—Ç—ñ —à—É–∫–∞–≤ —Å–≤–æ—ó –∫–ª—é—á—ñ –ø—ñ–¥ –¥–∏–≤–∞–Ω–æ–º.","errorWord":"—à—É–∫–∞–≤","correctForm":"–∑–Ω–∞–π—à–æ–≤","options":["—à—É–∫–∞–≤","–∑–Ω–∞–π—à–æ–≤","—à—É–∫–∞—î","–∑–Ω–∞–π–¥–µ"],"explanation":"Perfective with \"–Ω–∞—Ä–µ—à—Ç—ñ\" for achieved goal"},{"sentence":"–Ø –ø–æ–¥–∏–≤–∏–≤—Å—è —Ç–µ–ª–µ–≤—ñ–∑–æ—Ä –≤–µ—Å—å –≤–µ—á—ñ—Ä —É—á–æ—Ä–∞.","errorWord":"–ø–æ–¥–∏–≤–∏–≤—Å—è","correctForm":"–¥–∏–≤–∏–≤—Å—è","options":["–ø–æ–¥–∏–≤–∏–≤—Å—è","–¥–∏–≤–∏–≤—Å—è","–¥–∏–≤–ª—é—Å—è","–ø–æ–¥–∏–≤–ª—é—Å—è"],"explanation":"Imperfective for \"all evening\" duration"},{"sentence":"–ö–æ–ª–∏ –º–∞–º–∞ –∑—Ä–æ–±–∏–ª–∞ –≤–µ—á–µ—Ä—é, –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤ —Ç–∞—Ç–æ.","errorWord":"–∑—Ä–æ–±–∏–ª–∞","correctForm":"—Ä–æ–±–∏–ª–∞","options":["–∑—Ä–æ–±–∏–ª–∞","—Ä–æ–±–∏–ª–∞","—Ä–æ–±–∏—Ç—å","–∑—Ä–æ–±–∏—Ç—å"],"explanation":"Imperfective for action interrupted by another event"},{"sentence":"–í—ñ–Ω –æ–¥—Ä–∞–∑—É —Ä–æ–∑—É–º—ñ–≤, —É —á–æ–º—É –ø—Ä–æ–±–ª–µ–º–∞.","errorWord":"—Ä–æ–∑—É–º—ñ–≤","correctForm":"–∑—Ä–æ–∑—É–º—ñ–≤","options":["—Ä–æ–∑—É–º—ñ–≤","–∑—Ä–æ–∑—É–º—ñ–≤","—Ä–æ–∑—É–º—ñ—î","–∑—Ä–æ–∑—É–º—ñ—î"],"explanation":"Perfective with \"–æ–¥—Ä–∞–∑—É\" for instant understanding"},{"sentence":"–î—ñ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–ª–∏—Å—è –≤ –ø–∞—Ä–∫—É —Ü—ñ–ª–∏–π –¥–µ–Ω—å.","errorWord":"–ø—Ä–æ–≥—Ä–∞–ª–∏—Å—è","correctForm":"–≥—Ä–∞–ª–∏—Å—è","options":["–ø—Ä–æ–≥—Ä–∞–ª–∏—Å—è","–≥—Ä–∞–ª–∏—Å—è","–≥—Ä–∞—é—Ç—å—Å—è","–ø–æ–≥—Ä–∞—é—Ç—å—Å—è"],"explanation":"Imperfective for \"all day\" duration"},{"sentence":"–í—á–æ—Ä–∞ —è —à–≤–∏–¥–∫–æ –ø–∏—Å–∞–≤ —Ü–µ–π –ª–∏—Å—Ç —ñ –≤—ñ–¥–ø—Ä–∞–≤–∏–≤ –π–æ–≥–æ.","errorWord":"–ø–∏—Å–∞–≤","correctForm":"–Ω–∞–ø–∏—Å–∞–≤","options":["–ø–∏—Å–∞–≤","–Ω–∞–ø–∏—Å–∞–≤","–ø–∏—à—É","–Ω–∞–ø–∏—à—É"],"explanation":"Perfective for completed action before next one"},{"sentence":"–í–æ–Ω–∞ –∑–∞–±—É–≤–∞–ª–∞ –ø—Ä–æ –∑—É—Å—Ç—Ä—ñ—á —ñ –Ω–µ –ø—Ä–∏–π—à–ª–∞.","errorWord":"–∑–∞–±—É–≤–∞–ª–∞","correctForm":"–∑–∞–±—É–ª–∞","options":["–∑–∞–±—É–≤–∞–ª–∞","–∑–∞–±—É–ª–∞","–∑–∞–±—É–≤–∞—î","–∑–∞–±—É–¥–µ"],"explanation":"Perfective for single completed forgetting"}]}},{"id":"activity-9","type":"unjumble","title":"Yesterday's Events","data":{"type":"unjumble","isUnjumble":true,"items":[{"words":["–æ","–í—Ä–∞–Ω—Ü—ñ","—è","—Å—å–æ–º—ñ–π","–≥–æ–¥–∏–Ω—ñ","—Ä–∞–Ω–æ","–≤—Å—Ç–∞–≤","—à–≤–∏–¥–∫–æ"],"answer":"–í—Ä–∞–Ω—Ü—ñ —è —Ä–∞–Ω–æ —à–≤–∏–¥–∫–æ –≤—Å—Ç–∞–≤ –æ —Å—å–æ–º—ñ–π –≥–æ–¥–∏–Ω—ñ.","translation":"In the morning I quickly got up at seven."},{"words":["—ñ","–Ø","—Å–Ω—ñ–¥–∞–≤","—á–∏—Ç–∞–≤","—Å–º–∞—á–Ω–æ","–Ω–æ–≤–∏–Ω–∏","–≤","—Ç–µ–ª–µ—Ñ–æ–Ω—ñ"],"answer":"–Ø —Å–º–∞—á–Ω–æ —Å–Ω—ñ–¥–∞–≤ —ñ —á–∏—Ç–∞–≤ –Ω–æ–≤–∏–Ω–∏ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ.","translation":"I ate breakfast and read news on my phone."},{"words":["–Ω–∞","–ü–æ—Ç—ñ–º","—è","—Ä–æ–±–æ—Ç—É","–ø–æ—ó—Ö–∞–≤","—à–≤–∏–¥–∫–∏–º","–∞–≤—Ç–æ–±—É—Å–æ–º","–Ω–æ–≤–∏–º"],"answer":"–ü–æ—Ç—ñ–º —è –ø–æ—ó—Ö–∞–≤ –Ω–∞ —Ä–æ–±–æ—Ç—É –Ω–æ–≤–∏–º —à–≤–∏–¥–∫–∏–º –∞–≤—Ç–æ–±—É—Å–æ–º.","translation":"Then I went to work by new fast bus."},{"words":["–æ—Ñ—ñ—Å—ñ","–Ø","—É","–ø—Ä–∞—Ü—é–≤–∞–≤","—Ü—ñ–ª–∏–π","–¥–µ–Ω—å","–≤–µ–ª–∏–∫–æ–º—É","–Ω–∞—à–æ–º—É"],"answer":"–Ø –ø—Ä–∞—Ü—é–≤–∞–≤ —É –Ω–∞—à–æ–º—É –≤–µ–ª–∏–∫–æ–º—É –æ—Ñ—ñ—Å—ñ —Ü—ñ–ª–∏–π –¥–µ–Ω—å.","translation":"I worked in our big office all day."},{"words":["—à–æ—Å—Ç—ñ–π","–û","—è","—Ä–æ–±–æ—Ç—É","–∑–∞–∫—ñ–Ω—á–∏–≤","—ñ","–ø—ñ—à–æ–≤","—à–≤–∏–¥–∫–æ","–¥–æ–¥–æ–º—É"],"answer":"–û —à–æ—Å—Ç—ñ–π —è –∑–∞–∫—ñ–Ω—á–∏–≤ —Ä–æ–±–æ—Ç—É —ñ —à–≤–∏–¥–∫–æ –ø—ñ—à–æ–≤ –¥–æ–¥–æ–º—É.","translation":"At six I finished work and quickly went home."},{"words":["–£–≤–µ—á–µ—Ä—ñ","–≤–µ—á–µ—Ä—é","—è","–ø—Ä–∏–≥–æ—Ç—É–≤–∞–≤","—Å–º–∞—á–Ω—É","—ñ","—Ñ—ñ–ª—å–º","–ø–æ–¥–∏–≤–∏–≤—Å—è","–Ω–æ–≤–∏–π"],"answer":"–£–≤–µ—á–µ—Ä—ñ —è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–≤ —Å–º–∞—á–Ω—É –≤–µ—á–µ—Ä—é —ñ –ø–æ–¥–∏–≤–∏–≤—Å—è –Ω–æ–≤–∏–π —Ñ—ñ–ª—å–º.","translation":"In the evening I prepared dinner and watched a new film."},{"words":["–∫–Ω–∏–≥—É","–ü–µ—Ä–µ–¥","—Å–Ω–æ–º","—è","—á–∏—Ç–∞–≤","—Ü—ñ–∫–∞–≤—É","–¥–æ–≤–≥–æ","—É–∫—Ä–∞—ó–Ω—Å—å–∫—É"],"answer":"–ü–µ—Ä–µ–¥ —Å–Ω–æ–º —è –¥–æ–≤–≥–æ —á–∏—Ç–∞–≤ —Ü—ñ–∫–∞–≤—É —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –∫–Ω–∏–≥—É.","translation":"Before bed I read an interesting Ukrainian book for a long time."},{"words":["–≤—Ä–∞–Ω—Ü—ñ","–ù–∞—Å—Ç—É–ø–Ω–æ–≥–æ","—è","–∑–Ω–æ–≤—É","–ø—Ä–æ–∫–∏–Ω—É–≤—Å—è","—Ä–∞–Ω–æ","–æ","—Å—å–æ–º—ñ–π"],"answer":"–ù–∞—Å—Ç—É–ø–Ω–æ–≥–æ –≤—Ä–∞–Ω—Ü—ñ —è –∑–Ω–æ–≤—É –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è —Ä–∞–Ω–æ –æ —Å—å–æ–º—ñ–π.","translation":"The next morning I woke up early again at seven."},{"words":["–¥–µ–Ω—å","–¶–µ–π","–±—É–≤","–¥—É–∂–µ","—Ä–æ–±–æ—á–∏–π","—Ç–∏–ø–æ–≤–∏–π","–∑–≤–∏—á–∞–π–Ω–∏–π","–º—ñ–π"],"answer":"–¶–µ–π —Ä–æ–±–æ—á–∏–π –¥–µ–Ω—å –±—É–≤ –º—ñ–π –¥—É–∂–µ —Ç–∏–ø–æ–≤–∏–π –∑–≤–∏—á–∞–π–Ω–∏–π.","translation":"This work day was my very typical ordinary."},{"words":["–ª—é–±–ª—é","–Ø","—Ç–∞–∫—ñ","–¥–Ω—ñ","—Å–ø–æ–∫—ñ–π–Ω—ñ","–ø—Ä–æ—Å—Ç—ñ","–∑–≤–∏—á–∞–π–Ω—ñ","–¥—É–∂–µ"],"answer":"–Ø –¥—É–∂–µ –ª—é–±–ª—é —Ç–∞–∫—ñ —Å–ø–æ–∫—ñ–π–Ω—ñ –ø—Ä–æ—Å—Ç—ñ –∑–≤–∏—á–∞–π–Ω—ñ –¥–Ω—ñ.","translation":"I really love such calm simple ordinary days."},{"words":["–∑–∞–≤–∂–¥–∏","–†–æ–±–æ—Ç–∞","–¥–æ–±—Ä–µ","–º–æ—è","–∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è","–≤—á–∞—Å–Ω–æ","–∫–æ–∂–Ω–æ–≥–æ","–¥–Ω—è"],"answer":"–ú–æ—è —Ä–æ–±–æ—Ç–∞ –∑–∞–≤–∂–¥–∏ –¥–æ–±—Ä–µ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –≤—á–∞—Å–Ω–æ –∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è.","translation":"My work always ends well on time every day."},{"words":["—Å–ø–∞—Ç–∏","–£–≤–µ—á–µ—Ä—ñ","—è","–ª—è–≥–∞—é","–∑–∞–≤–∂–¥–∏","–æ","–¥–µ—Å—è—Ç—ñ–π","–≥–æ–¥–∏–Ω—ñ","—Ä—ñ–≤–Ω–æ"],"answer":"–£–≤–µ—á–µ—Ä—ñ —è –∑–∞–≤–∂–¥–∏ –ª—è–≥–∞—é —Å–ø–∞—Ç–∏ —Ä—ñ–≤–Ω–æ –æ –¥–µ—Å—è—Ç—ñ–π –≥–æ–¥–∏–Ω—ñ.","translation":"In the evening I always go to bed exactly at ten."}]}},{"id":"activity-10","type":"quiz","title":"Aspect in Past Tense Mastery","data":{"type":"quiz","questions":[{"question":"\"–í—á–æ—Ä–∞ —è –ø—Ä–æ—á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É\" ‚Äî —Ñ–æ–∫—É—Å –Ω–∞:","options":["–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –∫–Ω–∏–≥–∏","–ü—Ä–æ—Ü–µ—Å—ñ —á–∏—Ç–∞–Ω–Ω—è","–¢—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ","–ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—ñ"],"correctIndex":0,"explanation":""},{"question":"\"–í—ñ–Ω –ø–∏—Å–∞–≤ –ª–∏—Å—Ç–∞ —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏\" –ø–æ–∫–∞–∑—É—î:","options":["–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ª–∏—Å—Ç–∞","–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—É","–û–¥–Ω–æ—Ä–∞–∑–æ–≤—É –¥—ñ—é","–†–µ–∑—É–ª—å—Ç–∞—Ç"],"correctIndex":1,"explanation":""},{"question":"–°–ª–æ–≤–æ \"—Ä–∞–ø—Ç–æ–º\" –∑–∞–∑–≤–∏—á–∞–π –∑'—è–≤–ª—è—î—Ç—å—Å—è –∑:","options":["–î–æ–∫–æ–Ω–∞–Ω–∏–º –≤–∏–¥–æ–º","–ù–µ–¥–æ–∫–æ–Ω–∞–Ω–∏–º –≤–∏–¥–æ–º","–û–±–æ–º–∞ –≤–∏–¥–∞–º–∏","–ú–∞–π–±—É—Ç–Ω—ñ–º —á–∞—Å–æ–º"],"correctIndex":0,"explanation":""},{"question":"\"–ù–∞—Ä–µ—à—Ç—ñ\" –≤–∫–∞–∑—É—î –Ω–∞:","options":["–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è (–¥–æ–∫–æ–Ω–∞–Ω–∏–π –≤–∏–¥)","–ü—Ä–æ—Ü–µ—Å (–Ω–µ–¥–æ–∫–æ–Ω–∞–Ω–∏–π –≤–∏–¥)","–ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è","–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å"],"correctIndex":0,"explanation":""},{"question":"\"–í–æ–Ω–∞ —Å–ª—É—Ö–∞–ª–∞ –º—É–∑–∏–∫—É, –∫–æ–ª–∏...\" ‚Äî —â–æ —Ç—Ä–∞–ø–∏–ª–æ—Å—å?","options":["–î—ñ—é –±—É–ª–æ –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ","–î—ñ—é –±—É–ª–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ","–ù—ñ—á–æ–≥–æ –Ω–µ —Ç—Ä–∞–ø–∏–ª–æ—Å—å","–ü–æ—á–∞–ª–∞—Å—è –Ω–æ–≤–∞ –ø—ñ—Å–Ω—è"],"correctIndex":0,"explanation":""},{"question":"–Ø–∫–µ —Ä–µ—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–µ –¥–ª—è \"I was cooking when...\"?","options":["–Ø –≥–æ—Ç—É–≤–∞–ª–∞, –∫–æ–ª–∏...","–Ø –ø—Ä–∏–≥–æ—Ç—É–≤–∞–ª–∞, –∫–æ–ª–∏...","–Ø –≥–æ—Ç—É—é, –∫–æ–ª–∏...","–Ø –ø—Ä–∏–≥–æ—Ç—É—é, –∫–æ–ª–∏..."],"correctIndex":0,"explanation":""},{"question":"\"–í—ñ–Ω —á–∏—Ç–∞–≤ –∫–Ω–∏–≥—É –±–∞–≥–∞—Ç–æ —Ä–∞–∑—ñ–≤\" ‚Äî —è–∫–∏–π –≤–∏–¥?","options":["–î–æ–∫–æ–Ω–∞–Ω–∏–π","–ù–µ–¥–æ–∫–æ–Ω–∞–Ω–∏–π","–û–±–∏–¥–≤–∞","–ñ–æ–¥–µ–Ω"],"correctIndex":1,"explanation":""},{"question":"\"–Ø –∑—Ä–æ–±–∏–≤ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è\" –æ–∑–Ω–∞—á–∞—î:","options":["–ó–∞–≤–¥–∞–Ω–Ω—è –∑–∞–∫—ñ–Ω—á–µ–Ω–µ","–ü—Ä–æ—Ü–µ—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è","–ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏","–†–µ–≥—É–ª—è—Ä–Ω–∞ –¥—ñ—è"],"correctIndex":0,"explanation":""},{"question":"–Ø–∫–µ —Å–ª–æ–≤–æ –ù–ï –≤–∫–∞–∑—É—î –Ω–∞ –¥–æ–∫–æ–Ω–∞–Ω–∏–π –≤–∏–¥?","options":["–≤–∂–µ","–Ω–∞—Ä–µ—à—Ç—ñ","–¥–æ–≤–≥–æ","—Ä–∞–ø—Ç–æ–º"],"correctIndex":2,"explanation":""},{"question":"\"–ü—ñ—à–æ–≤\" ‚Äî —Ü–µ –º–∏–Ω—É–ª–∏–π —á–∞—Å –≤—ñ–¥:","options":["—Ö–æ–¥–∏—Ç–∏","–ø—ñ—Ç–∏","–π—Ç–∏","–ø—ñ—à–∫–∏"],"correctIndex":1,"explanation":""},{"question":"–†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ \"–¥–∏–≤–∏–≤—Å—è\" —ñ \"–ø–æ–¥–∏–≤–∏–≤—Å—è\":","options":["–ü—Ä–æ—Ü–µ—Å vs –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥","–¢–µ–ø–µ—Ä—ñ—à–Ω—ñ–π vs –º–∏–Ω—É–ª–∏–π —á–∞—Å","–û–¥–Ω–∏–Ω–∞ vs –º–Ω–æ–∂–∏–Ω–∞","–ß–æ–ª–æ–≤—ñ—á–∏–π vs –∂—ñ–Ω–æ—á–∏–π —Ä—ñ–¥"],"correctIndex":0,"explanation":""},{"question":"\"–¢—Ä–∏ –≥–æ–¥–∏–Ω–∏\" –∑–∞–∑–≤–∏—á–∞–π –≤–∂–∏–≤–∞—î—Ç—å—Å—è –∑:","options":["–î–æ–∫–æ–Ω–∞–Ω–∏–º –≤–∏–¥–æ–º","–ù–µ–¥–æ–∫–æ–Ω–∞–Ω–∏–º –≤–∏–¥–æ–º","–û–±–æ–º–∞ –æ–¥–Ω–∞–∫–æ–≤–æ","–ú–∞–π–±—É—Ç–Ω—ñ–º —á–∞—Å–æ–º"],"correctIndex":1,"explanation":""}],"shuffleQuestions":true,"shuffleOptions":true,"showCorrectAnswers":true}}];
    const vocabData = [{"uk":"–∑—Ä–æ–±–∏–≤","translit":"","en":"did, made (m)","note":"pf past"},{"uk":"–Ω–∞–ø–∏—Å–∞–≤","translit":"","en":"wrote (m)","note":"pf past"},{"uk":"–ø—Ä–æ—á–∏—Ç–∞–≤","translit":"","en":"read (m)","note":"pf past"},{"uk":"—Å–∫–∞–∑–∞–≤","translit":"","en":"said (m)","note":"pf past"},{"uk":"–ø–æ–±–∞—á–∏–≤","translit":"","en":"saw (m)","note":"pf past"},{"uk":"–ø–æ—á—É–≤","translit":"","en":"heard (m)","note":"pf past"},{"uk":"–≤–∑—è–≤","translit":"","en":"took (m)","note":"pf past"},{"uk":"–¥–∞–≤","translit":"","en":"gave (m)","note":"pf past"},{"uk":"–ø—ñ—à–æ–≤","translit":"","en":"went (m)","note":"pf past"},{"uk":"–ø—Ä–∏–π—à–æ–≤","translit":"","en":"came (m)","note":"pf past"},{"uk":"–ø—Ä–∏—ó—Ö–∞–≤","translit":"","en":"arrived (m)","note":"pf past"},{"uk":"–∑—Ä–æ–∑—É–º—ñ–≤","translit":"","en":"understood (m)","note":"pf past"},{"uk":"–∑–∞–±—É–≤","translit":"","en":"forgot (m)","note":"pf past"},{"uk":"–∑–Ω–∞–π—à–æ–≤","translit":"","en":"found (m)","note":"pf past"},{"uk":"–∑–∞–≥—É–±–∏–≤","translit":"","en":"lost (m)","note":"pf past"},{"uk":"–≤–∂–µ","translit":"","en":"already","note":""},{"uk":"–Ω–∞—Ä–µ—à—Ç—ñ","translit":"","en":"finally","note":""},{"uk":"—Ä–∞–ø—Ç–æ–º","translit":"","en":"suddenly","note":""},{"uk":"–æ–¥—Ä–∞–∑—É","translit":"","en":"immediately","note":""},{"uk":"—à–≤–∏–¥–∫–æ","translit":"","en":"quickly","note":""},{"uk":"—á–∏—Ç–∞–≤","translit":"","en":"was reading (m)","note":"impf past"},{"uk":"–±–∞—á–∏–ª–∞","translit":"","en":"saw (f)","note":"impf past"},{"uk":"—Å–ª—É—Ö–∞–ª–∞","translit":"","en":"was listening (f)","note":"impf past"},{"uk":"–¥–∏–≤–∏–ª–∏—Å—è","translit":"","en":"were watching","note":"impf past pl"},{"uk":"–≥—Ä–∞–ª–∏","translit":"","en":"were playing","note":"impf past pl"},{"uk":"–≥–æ–≤–æ—Ä–∏–ª–∏","translit":"","en":"were talking","note":"impf past pl"},{"uk":"—Ä–æ–±–∏–≤","translit":"","en":"was doing (m)","note":"impf past"},{"uk":"—à—É–∫–∞–ª–∞","translit":"","en":"was looking for (f)","note":"impf past"},{"uk":"–≤—ñ–¥—á–∏–Ω–∏–≤","translit":"","en":"opened (m)","note":"pf past"},{"uk":"–∑—Ä–æ–∑—É–º—ñ–ª–∞","translit":"","en":"understood (f)","note":"pf past"},{"uk":"–∑–∞–∫—ñ–Ω—á–∏–ª–∞","translit":"","en":"finished (f)","note":"pf past"},{"uk":"–∑–Ω–∞–π—à–ª–∞","translit":"","en":"found (f)","note":"pf past"},{"uk":"–∑–∞–±—É–ª–∞","translit":"","en":"forgot (f)","note":"pf past"},{"uk":"–≤—ñ–¥–ø—Ä–∞–≤–∏–≤","translit":"","en":"sent (m)","note":"pf past"},{"uk":"–∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–≤","translit":"","en":"called (m)","note":"pf past"},{"uk":"—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞–ª–∞","translit":"","en":"was calling (f)","note":"impf past"},{"uk":"–ø–æ—ó–≤","translit":"","en":"ate (m)","note":"pf past"},{"uk":"–∑–∞–∫—ñ–Ω—á–∏–≤","translit":"","en":"finished (m)","note":"pf past"},{"uk":"–≤—ñ–¥–ø–æ—á–∏–≤–∞–≤","translit":"","en":"was resting (m)","note":"impf past"},{"uk":"–¥–∏–≤–∏–≤—Å—è","translit":"","en":"was watching (m)","note":"impf past"},{"uk":"–ø–æ–¥–∏–≤–∏–≤—Å—è","translit":"","en":"watched (m)","note":"pf past"},{"uk":"–≥—Ä–∞–ª–∏—Å—è","translit":"","en":"were playing (pl)","note":"impf past"},{"uk":"—Ä–æ–∑–ø–æ–≤—ñ–¥–∞–ª–∞","translit":"","en":"was telling (f)","note":"impf past"},{"uk":"–≤—Å—Ç–∞–≤","translit":"","en":"got up (m)","note":"pf past"},{"uk":"—Å–Ω—ñ–¥–∞–≤","translit":"","en":"was having breakfast (m)","note":"impf past"},{"uk":"–ø–æ—ó—Ö–∞–≤","translit":"","en":"went (by transport) (m)","note":"pf past"},{"uk":"–ø—Ä–∞—Ü—é–≤–∞–≤","translit":"","en":"was working (m)","note":"impf past"},{"uk":"–ø—Ä–∏–≥–æ—Ç—É–≤–∞–≤","translit":"","en":"prepared (m)","note":"pf past"}];
  
// Answer callout toggle (for new > [!answer] syntax)
function toggleAnswer(id, btn) {
  const el = document.getElementById(id);
  if (!el) return;
  const isUkrainian = document.querySelector('.level-badge')?.textContent.match(/B[12]|C[12]/);
  const showText = isUkrainian ? '–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å' : 'Show Answer';
  const hideText = isUkrainian ? '–°—Ö–æ–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å' : 'Hide Answer';
  const show = !el.classList.contains('show');
  if (show) {
    el.classList.add('show');
    btn.textContent = hideText;
    btn.classList.add('revealed');
  } else {
    el.classList.remove('show');
    btn.textContent = showText;
    btn.classList.remove('revealed');
  }
}

// Section navigation
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
  document.getElementById(id)?.classList.add('active');
  document.querySelector('[data-section="' + id + '"]')?.classList.add('active');
}
document.querySelectorAll('.nav-tab').forEach(t => t.addEventListener('click', () => showSection(t.dataset.section)));

// Activity reset dispatcher
function resetActivity(sectionId) {
  const activity = activitiesData.find(a => a.id === sectionId);
  if (!activity) return;

  switch (activity.type) {
    case 'match-up':
      resetMatch(sectionId);
      break;
    case 'quiz':
      resetQuiz(sectionId);
      break;
    case 'true-false':
      resetTf(sectionId);
      break;
    case 'group-sort':
      resetSort(sectionId);
      break;
    case 'fill-blank':
    case 'gap-fill':
      resetFill(sectionId);
      break;
    case 'unjumble':
    case 'anagram':
      resetOrder(sectionId);
      break;
    case 'select':
      resetSelect(sectionId);
      break;
  }
}

// Initialize all activities from activitiesData array
document.addEventListener('DOMContentLoaded', () => {
  if (typeof activitiesData === 'undefined') return;

  activitiesData.forEach(activity => {
    switch (activity.type) {
      case 'match-up':
        initMatch(activity.id, activity.data);
        break;
      case 'quiz':
        initQuiz(activity.id, activity.data);
        break;
      case 'true-false':
        initTf(activity.id, activity.data);
        break;
      case 'group-sort':
        initSort(activity.id, activity.data);
        break;
      case 'fill-blank':
      case 'gap-fill':
        initFill(activity.id, activity.data);
        break;
      case 'unjumble':
      case 'anagram':
        initOrder(activity.id, activity.data);
        break;
      case 'select':
        initSelect(activity.id, activity.data);
        break;
    }
  });

  // Initialize vocabulary
  if (typeof initVocab === 'function') initVocab();
});


// Quiz Activity - supports multiple instances
const quizState = {};

function initQuiz(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.questions || !data.questions.length) return;

  quizState[sectionId] = { score: 0, answered: 0, total: data.questions.length, data: data };

  c.innerHTML = '';
  data.questions.forEach((q, i) => {
    const sh = [...q.options].sort(() => Math.random() - 0.5);
    const cor = sh.indexOf(q.options[q.correctIndex]);
    const div = document.createElement('div');
    div.className = 'quiz-question';
    div.dataset.section = sectionId;
    div.innerHTML = '<h4>Q' + (i + 1) + ': ' + q.question + '</h4><div class="quiz-options">' + sh.map((o, j) => '<div class="quiz-option" data-c="' + (j === cor) + '" data-q="' + i + '" data-section="' + sectionId + '">' + o + '</div>').join('') + '</div><div class="quiz-explanation" id="' + sectionId + '-exp-' + i + '">' + (q.explanation || '') + '</div>';
    c.appendChild(div);
  });
  c.querySelectorAll('.quiz-option').forEach(o => o.addEventListener('click', handleQuiz));
}

function handleQuiz(e) {
  const opt = e.target, q = opt.closest('.quiz-question');
  const sectionId = opt.dataset.section;
  if (q.classList.contains('answered')) return;
  q.classList.add('answered');

  const state = quizState[sectionId];
  if (opt.dataset.c === 'true') {
    opt.classList.add('correct');
    state.score++;
  } else {
    opt.classList.add('wrong');
    q.querySelector('[data-c="true"]').classList.add('correct');
  }
  document.getElementById(sectionId + '-exp-' + opt.dataset.q)?.classList.add('show');
  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;
  if (state.answered === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
}

function resetQuiz(sectionId) {
  const state = quizState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initQuiz(sectionId, state.data);
}


// True/False Activity - supports multiple instances
const tfState = {};

function initTf(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.statements || !data.statements.length) return;

  tfState[sectionId] = { score: 0, answered: 0, total: data.statements.length, data: data };

  c.innerHTML = '';
  data.statements.forEach((s, i) => {
    const div = document.createElement('div');
    div.className = 'tf-statement';
    div.dataset.section = sectionId;
    div.innerHTML = '<p class="tf-text">' + s.statement + '</p>' +
      '<div class="tf-buttons">' +
      '<button class="tf-btn" data-value="true" data-idx="' + i + '" data-section="' + sectionId + '">True</button>' +
      '<button class="tf-btn" data-value="false" data-idx="' + i + '" data-section="' + sectionId + '">False</button>' +
      '</div>' +
      '<div class="tf-explanation" id="' + sectionId + '-exp-' + i + '">' + (s.explanation || '') + '</div>';
    div.dataset.correct = s.isTrue;
    c.appendChild(div);
  });
  c.querySelectorAll('.tf-btn').forEach(b => b.addEventListener('click', handleTf));
}

function handleTf(e) {
  const btn = e.target;
  const sectionId = btn.dataset.section;
  const idx = parseInt(btn.dataset.idx);
  const statement = btn.closest('.tf-statement');
  const state = tfState[sectionId];
  if (statement.classList.contains('answered')) return;

  statement.classList.add('answered');
  const correct = state.data.statements[idx].isTrue;
  const clicked = btn.dataset.value === 'true';

  if (clicked === correct) {
    btn.classList.add('correct');
    state.score++;
  } else {
    btn.classList.add('wrong');
    // Highlight the correct answer
    statement.querySelector('[data-value="' + correct + '"]').classList.add('correct');
  }

  const exp = document.getElementById(sectionId + '-exp-' + idx);
  if (exp && exp.textContent) exp.classList.add('show');

  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;
  if (state.answered === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
}

function resetTf(sectionId) {
  const state = tfState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initTf(sectionId, state.data);
}


// Match Activity - supports multiple instances
const matchState = {};

function initMatch(sectionId, data) {
  const container = document.getElementById(sectionId + '-container');
  const leftCol = document.getElementById(sectionId + '-left');
  const rightCol = document.getElementById(sectionId + '-right');
  if (!container || !leftCol || !rightCol || !data.pairs || !data.pairs.length) return;

  const pairs = data.pairs;
  matchState[sectionId] = { selected: null, score: 0, matched: [], total: pairs.length, data: data };

  // Create left column items
  const shuffledLeft = pairs.map((p, i) => ({ text: p.left, idx: i })).sort(() => Math.random() - 0.5);
  leftCol.innerHTML = shuffledLeft.map(p => '<div class="match-item" data-pair="' + p.idx + '" data-section="' + sectionId + '" data-side="left">' + p.text + '</div>').join('');

  // Create right column items
  const shuffledRight = pairs.map((p, i) => ({ text: p.right, idx: i })).sort(() => Math.random() - 0.5);
  rightCol.innerHTML = shuffledRight.map(p => '<div class="match-item" data-pair="' + p.idx + '" data-section="' + sectionId + '" data-side="right">' + p.text + '</div>').join('');

  // Attach click handlers
  leftCol.querySelectorAll('.match-item').forEach(item => {
    item.addEventListener('click', () => handleMatchLeft(item));
  });
  rightCol.querySelectorAll('.match-item').forEach(item => {
    item.addEventListener('click', () => handleMatchRight(item));
  });
}

function handleMatchLeft(item) {
  const sectionId = item.dataset.section;
  const state = matchState[sectionId];
  if (item.classList.contains('matched')) return;

  const leftCol = document.getElementById(sectionId + '-left');
  leftCol.querySelectorAll('.match-item').forEach(i => i.classList.remove('selected'));
  item.classList.add('selected');
  state.selected = { el: item, pair: item.dataset.pair };
}

function handleMatchRight(item) {
  const sectionId = item.dataset.section;
  const state = matchState[sectionId];
  if (item.classList.contains('matched') || !state.selected) return;

  if (state.selected.pair === item.dataset.pair) {
    state.selected.el.classList.remove('selected');
    state.selected.el.classList.add('matched');
    item.classList.add('matched');
    state.matched.push({ left: state.selected.el, right: item });
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;
    drawMatchLines(sectionId);
    if (state.score === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
  } else {
    item.classList.add('wrong');
    setTimeout(() => item.classList.remove('wrong'), 300);
  }
  state.selected = null;
}

function drawMatchLines(sectionId) {
  const svg = document.getElementById(sectionId + '-lines');
  const container = document.getElementById(sectionId + '-container');
  const state = matchState[sectionId];
  if (!svg || !container || !state) return;

  const r = container.getBoundingClientRect();
  svg.innerHTML = '';
  svg.setAttribute('viewBox', '0 0 ' + r.width + ' ' + r.height);
  state.matched.forEach(p => {
    const lr = p.left.getBoundingClientRect(), rr = p.right.getBoundingClientRect();
    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    line.setAttribute('x1', lr.right - r.left);
    line.setAttribute('y1', lr.top + lr.height / 2 - r.top);
    line.setAttribute('x2', rr.left - r.left);
    line.setAttribute('y2', rr.top + rr.height / 2 - r.top);
    line.setAttribute('stroke', '#26a269');
    line.setAttribute('stroke-width', '2');
    svg.appendChild(line);
  });
}

function resetMatch(sectionId) {
  const state = matchState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  document.getElementById(sectionId + '-lines').innerHTML = '';
  initMatch(sectionId, state.data);
}

// Redraw lines on resize for all match activities
window.addEventListener('resize', () => {
  Object.keys(matchState).forEach(sectionId => drawMatchLines(sectionId));
});


// Sort Activity - supports multiple instances
const sortState = {};

function initSort(sectionId, data) {
  const pool = document.getElementById(sectionId + '-items');
  const groupsContainer = document.getElementById(sectionId + '-groups');
  if (!pool || !groupsContainer || !data.groups || !data.groups.length) return;

  const groups = data.groups;
  const totalItems = groups.reduce((sum, g) => sum + g.items.length, 0);
  sortState[sectionId] = { score: 0, total: totalItems, dragItem: null, data: data };

  // Create group containers
  groupsContainer.innerHTML = groups.map((g, i) =>
    '<div class="sort-group" data-group="' + i + '" data-section="' + sectionId + '"><h4>' + g.name + '</h4><div class="sort-items"></div></div>'
  ).join('');

  // Flatten and shuffle all items
  const allItems = groups.flatMap((g, gi) => g.items.map(item => ({ text: item, group: gi })));
  allItems.sort(() => Math.random() - 0.5);

  // Create draggable items
  pool.innerHTML = '';
  allItems.forEach(item => {
    const el = document.createElement('div');
    el.className = 'sort-item';
    el.textContent = item.text;
    el.draggable = true;
    el.dataset.group = item.group;
    el.dataset.section = sectionId;
    el.addEventListener('dragstart', () => {
      sortState[sectionId].dragItem = el;
      el.classList.add('dragging');
    });
    el.addEventListener('dragend', () => {
      el.classList.remove('dragging');
      sortState[sectionId].dragItem = null;
    });
    pool.appendChild(el);
  });

  // Setup drop zones
  groupsContainer.querySelectorAll('.sort-group').forEach(g => {
    g.addEventListener('dragover', e => {
      e.preventDefault();
      g.classList.add('drag-over');
    });
    g.addEventListener('dragleave', () => g.classList.remove('drag-over'));
    g.addEventListener('drop', e => handleSortDrop(e, g));
  });
}

function handleSortDrop(e, groupEl) {
  e.preventDefault();
  groupEl.classList.remove('drag-over');
  const sectionId = groupEl.dataset.section;
  const state = sortState[sectionId];
  const dragItem = state.dragItem;
  if (!dragItem) return;

  if (groupEl.dataset.group === dragItem.dataset.group) {
    dragItem.classList.add('correct');
    groupEl.querySelector('.sort-items').appendChild(dragItem);
    dragItem.draggable = false;
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;
    if (state.score === state.total) document.getElementById(sectionId + '-complete').classList.add('show');
  } else {
    dragItem.classList.add('wrong');
    setTimeout(() => dragItem.classList.remove('wrong'), 300);
  }
}

function resetSort(sectionId) {
  const state = sortState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initSort(sectionId, state.data);
}


// Fill-in Activity - supports multiple instances
const fillState = {};

function initFill(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  fillState[sectionId] = { score: 0, answered: 0, total: data.items.length, data: data };
  c.innerHTML = '';

  data.items.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'fill-question';
    div.dataset.section = sectionId;

    // Generate options: correct answer + 3 distractors
    let options = [];
    if (item.options && item.options.length >= 4) {
      options = item.options;
    } else {
      // Fallback: generate distractors from other items' answers
      options = [item.answer];
      const otherAnswers = data.items
        .filter((_, idx) => idx !== i)
        .map(it => it.answer)
        .filter(a => a && a !== item.answer);

      const shuffled = otherAnswers.sort(() => Math.random() - 0.5);
      options.push(...shuffled.slice(0, 3));

      while (options.length < 4) {
        options.push('‚Äî');
      }
    }

    // Shuffle options
    const shuffledOptions = [...options].sort(() => Math.random() - 0.5);

    // Replace ___ in the sentence with a dropdown
    const sentence = (item.prompt || item.sentence || '').replace(/___/g,
      `<select class="fill-dropdown" data-idx="${i}" data-answer="${item.answer}" data-section="${sectionId}">
        <option value="" disabled selected>‚Äî</option>
        ${shuffledOptions.map(opt => `<option value="${opt}">${opt}</option>`).join('')}
      </select>`
    );

    div.innerHTML = `
      <div class="fill-sentence">
        <span class="fill-number">${i + 1}.</span>
        ${sentence}
      </div>
      <div class="fill-feedback" id="${sectionId}-fb-${i}"></div>
    `;
    c.appendChild(div);
  });

  // Event delegation for dropdown changes
  c.addEventListener('change', (e) => {
    if (e.target.classList.contains('fill-dropdown')) {
      handleFillChoice(e.target);
    }
  });
}

function handleFillChoice(dropdown) {
  const q = dropdown.closest('.fill-question');
  const sectionId = dropdown.dataset.section;
  const state = fillState[sectionId];
  if (q.classList.contains('answered')) return;

  const idx = dropdown.dataset.idx;
  const userAnswer = dropdown.value;
  const correctAnswer = dropdown.dataset.answer;
  const fb = document.getElementById(sectionId + '-fb-' + idx);

  q.classList.add('answered');
  dropdown.disabled = true;

  if (userAnswer === correctAnswer) {
    dropdown.classList.add('correct');
    fb.innerHTML = '<span class="correct-text">‚úì Correct!</span>';
    state.score++;
  } else {
    dropdown.classList.add('wrong');
    fb.innerHTML = `<span class="wrong-text">‚úó Answer: ${correctAnswer}</span>`;
  }

  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;
  if (state.answered === state.total) {
    document.getElementById(sectionId + '-complete').classList.add('show');
  }
}

function resetFill(sectionId) {
  const state = fillState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initFill(sectionId, state.data);
}


// Order/Unjumble/Anagram Activity - supports multiple instances
const orderState = {};

function initOrder(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  orderState[sectionId] = { score: 0, total: data.items.length, data: data };
  c.innerHTML = '';

  if (data.isAnagram) {
    initAnagram(sectionId, c, data);
  } else if (data.isUnjumble) {
    initUnjumble(sectionId, c, data);
  } else {
    initClassicOrder(sectionId, c, data);
  }
}

// UNJUMBLE: Drag-and-drop words to form sentences
function initUnjumble(sectionId, container, data) {
  data.items.forEach((item, idx) => {
    const question = document.createElement('div');
    question.className = 'unjumble-question';
    question.dataset.idx = idx;
    question.dataset.section = sectionId;

    // Shuffle words
    const shuffledWords = [...item.words].sort(() => Math.random() - 0.5);

    question.innerHTML = `
      <div class="unjumble-number">${idx + 1}.</div>
      <div class="unjumble-word-row" data-idx="${idx}" data-section="${sectionId}">
        ${shuffledWords.map((word, i) => `
          <span class="unjumble-word" draggable="true" data-word="${word}">${word}</span>
        `).join('')}
      </div>
      <div class="unjumble-actions">
        <button class="btn btn-sm btn-outline unjumble-check" data-idx="${idx}" data-section="${sectionId}">Check</button>
        <button class="btn btn-sm btn-outline unjumble-reset" data-idx="${idx}" data-section="${sectionId}">Reset</button>
      </div>
      <div class="unjumble-feedback" data-idx="${idx}" data-section="${sectionId}"></div>
    `;

    container.appendChild(question);

    // Initialize drag-and-drop for this row
    initUnjumbleDragDrop(question.querySelector('.unjumble-word-row'));
  });

  // Event delegation for buttons
  container.addEventListener('click', handleUnjumbleClick);
}

function initUnjumbleDragDrop(row) {
  let dragItem = null;

  row.querySelectorAll('.unjumble-word').forEach(word => {
    word.addEventListener('dragstart', (e) => {
      dragItem = word;
      word.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    word.addEventListener('dragend', () => {
      word.classList.remove('dragging');
      dragItem = null;
    });

    word.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === word) return;

      const rect = word.getBoundingClientRect();
      const midX = rect.left + rect.width / 2;

      if (e.clientX < midX) {
        row.insertBefore(dragItem, word);
      } else {
        row.insertBefore(dragItem, word.nextSibling);
      }
    });
  });

  // Touch support for mobile
  let touchItem = null;
  let touchClone = null;

  row.querySelectorAll('.unjumble-word').forEach(word => {
    word.addEventListener('touchstart', (e) => {
      touchItem = word;
      word.classList.add('dragging');

      // Create a clone for visual feedback
      touchClone = word.cloneNode(true);
      touchClone.classList.add('touch-clone');
      document.body.appendChild(touchClone);
      updateTouchClone(e.touches[0]);
    });

    word.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!touchItem) return;
      updateTouchClone(e.touches[0]);

      // Find which word we're over
      const touch = e.touches[0];
      const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
      const targetWord = elements.find(el => el.classList.contains('unjumble-word') && el !== touchItem);

      if (targetWord && targetWord.parentNode === row) {
        const rect = targetWord.getBoundingClientRect();
        const midX = rect.left + rect.width / 2;
        if (touch.clientX < midX) {
          row.insertBefore(touchItem, targetWord);
        } else {
          row.insertBefore(touchItem, targetWord.nextSibling);
        }
      }
    });

    word.addEventListener('touchend', () => {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
    });
  });

  function updateTouchClone(touch) {
    if (touchClone) {
      touchClone.style.left = (touch.clientX - 40) + 'px';
      touchClone.style.top = (touch.clientY - 20) + 'px';
    }
  }
}

function handleUnjumbleClick(e) {
  const target = e.target;

  if (target.classList.contains('unjumble-check')) {
    checkUnjumbleAnswer(target.dataset.section, parseInt(target.dataset.idx));
  }

  if (target.classList.contains('unjumble-reset')) {
    resetUnjumbleQuestion(target.dataset.section, parseInt(target.dataset.idx));
  }
}

function checkUnjumbleAnswer(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.unjumble-word-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.unjumble-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.unjumble-question[data-section="${sectionId}"][data-idx="${idx}"]`);

  // Build user's answer from current word order
  const words = row.querySelectorAll('.unjumble-word');
  const userAnswer = Array.from(words).map(w => w.dataset.word).join(' ');

  // Normalize for comparison (handle punctuation)
  const normalize = (s) => s.replace(/[?!.,]/g, '').toLowerCase().trim();
  const isCorrect = normalize(userAnswer) === normalize(item.answer);

  if (isCorrect) {
    question.classList.add('answered', 'correct');
    row.classList.add('correct');
    words.forEach(w => w.setAttribute('draggable', 'false'));
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;

    feedback.innerHTML = `
      <span class="correct-text">‚úì Correct!</span>
      <span class="translation">${item.translation || ''}</span>
    `;
    feedback.classList.add('show');

    if (state.score === state.total) {
      document.getElementById(sectionId + '-complete').classList.add('show');
    }
  } else {
    question.classList.add('wrong');
    row.classList.add('wrong');

    feedback.innerHTML = `
      <span class="wrong-text">‚úó Try again. Hint: ${item.answer}</span>
    `;
    feedback.classList.add('show');

    setTimeout(() => {
      question.classList.remove('wrong');
      row.classList.remove('wrong');
      feedback.classList.remove('show');
    }, 2000);
  }
}

function resetUnjumbleQuestion(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.unjumble-word-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.unjumble-question[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.unjumble-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);

  if (question.classList.contains('correct')) return;

  // Re-shuffle and rebuild
  const shuffledWords = [...item.words].sort(() => Math.random() - 0.5);
  row.innerHTML = shuffledWords.map(word => `
    <span class="unjumble-word" draggable="true" data-word="${word}">${word}</span>
  `).join('');

  initUnjumbleDragDrop(row);

  question.classList.remove('wrong');
  row.classList.remove('wrong');
  feedback.innerHTML = '';
  feedback.classList.remove('show');
}

// ANAGRAM: Drag-and-drop letters to form a single word
function initAnagram(sectionId, container, data) {
  data.items.forEach((item, idx) => {
    const question = document.createElement('div');
    question.className = 'anagram-question';
    question.dataset.idx = idx;
    question.dataset.section = sectionId;

    // Shuffle letters
    const shuffledLetters = [...item.letters].sort(() => Math.random() - 0.5);

    question.innerHTML = `
      <div class="anagram-number">${idx + 1}.</div>
      <div class="anagram-letter-row" data-idx="${idx}" data-section="${sectionId}">
        ${shuffledLetters.map((letter, i) => `
          <span class="anagram-letter" draggable="true" data-letter="${letter}">${letter}</span>
        `).join('')}
      </div>
      <div class="anagram-actions">
        <button class="btn btn-sm btn-outline anagram-check" data-idx="${idx}" data-section="${sectionId}">Check</button>
        <button class="btn btn-sm btn-outline anagram-reset" data-idx="${idx}" data-section="${sectionId}">Reset</button>
      </div>
      <div class="anagram-feedback" data-idx="${idx}" data-section="${sectionId}"></div>
    `;

    container.appendChild(question);

    // Initialize drag-and-drop for this row
    initAnagramDragDrop(question.querySelector('.anagram-letter-row'));
  });

  // Event delegation for buttons
  container.addEventListener('click', handleAnagramClick);
}

function initAnagramDragDrop(row) {
  let dragItem = null;

  row.querySelectorAll('.anagram-letter').forEach(letter => {
    letter.addEventListener('dragstart', (e) => {
      dragItem = letter;
      letter.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    letter.addEventListener('dragend', () => {
      letter.classList.remove('dragging');
      dragItem = null;
    });

    letter.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === letter) return;

      const rect = letter.getBoundingClientRect();
      const midX = rect.left + rect.width / 2;

      if (e.clientX < midX) {
        row.insertBefore(dragItem, letter);
      } else {
        row.insertBefore(dragItem, letter.nextSibling);
      }
    });
  });

  // Touch support for mobile
  let touchItem = null;
  let touchClone = null;

  row.querySelectorAll('.anagram-letter').forEach(letter => {
    letter.addEventListener('touchstart', (e) => {
      touchItem = letter;
      letter.classList.add('dragging');

      // Create a clone for visual feedback
      touchClone = letter.cloneNode(true);
      touchClone.classList.add('touch-clone');
      document.body.appendChild(touchClone);
      updateAnagramTouchClone(e.touches[0], touchClone);
    });

    letter.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!touchItem) return;
      updateAnagramTouchClone(e.touches[0], touchClone);

      // Find which letter we're over
      const touch = e.touches[0];
      const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
      const targetLetter = elements.find(el => el.classList.contains('anagram-letter') && el !== touchItem);

      if (targetLetter && targetLetter.parentNode === row) {
        const rect = targetLetter.getBoundingClientRect();
        const midX = rect.left + rect.width / 2;
        if (touch.clientX < midX) {
          row.insertBefore(touchItem, targetLetter);
        } else {
          row.insertBefore(touchItem, targetLetter.nextSibling);
        }
      }
    });

    letter.addEventListener('touchend', () => {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
    });
  });

  function updateAnagramTouchClone(touch, clone) {
    if (clone) {
      clone.style.left = (touch.clientX - 20) + 'px';
      clone.style.top = (touch.clientY - 20) + 'px';
    }
  }
}

function handleAnagramClick(e) {
  const target = e.target;

  if (target.classList.contains('anagram-check')) {
    checkAnagramAnswer(target.dataset.section, parseInt(target.dataset.idx));
  }

  if (target.classList.contains('anagram-reset')) {
    resetAnagramQuestion(target.dataset.section, parseInt(target.dataset.idx));
  }
}

function checkAnagramAnswer(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.anagram-letter-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.anagram-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.anagram-question[data-section="${sectionId}"][data-idx="${idx}"]`);

  // Build user's answer from current letter order
  const letters = row.querySelectorAll('.anagram-letter');
  const userAnswer = Array.from(letters).map(l => l.dataset.letter).join('');

  // Compare with correct answer
  const isCorrect = userAnswer.toLowerCase() === item.answer.toLowerCase();

  if (isCorrect) {
    question.classList.add('answered', 'correct');
    row.classList.add('correct');
    letters.forEach(l => l.setAttribute('draggable', 'false'));
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;

    feedback.innerHTML = `
      <span class="correct-text">‚úì Correct!</span>
      <span class="translation">${item.translation || ''}</span>
    `;
    feedback.classList.add('show');

    if (state.score === state.total) {
      document.getElementById(sectionId + '-complete').classList.add('show');
    }
  } else {
    question.classList.add('wrong');
    row.classList.add('wrong');

    feedback.innerHTML = `
      <span class="wrong-text">‚úó Try again. Hint: ${item.answer}</span>
    `;
    feedback.classList.add('show');

    setTimeout(() => {
      question.classList.remove('wrong');
      row.classList.remove('wrong');
      feedback.classList.remove('show');
    }, 2000);
  }
}

function resetAnagramQuestion(sectionId, idx) {
  const state = orderState[sectionId];
  const item = state.data.items[idx];
  const row = document.querySelector(`.anagram-letter-row[data-section="${sectionId}"][data-idx="${idx}"]`);
  const question = document.querySelector(`.anagram-question[data-section="${sectionId}"][data-idx="${idx}"]`);
  const feedback = document.querySelector(`.anagram-feedback[data-section="${sectionId}"][data-idx="${idx}"]`);

  if (question.classList.contains('correct')) return;

  // Re-shuffle and rebuild
  const shuffledLetters = [...item.letters].sort(() => Math.random() - 0.5);
  row.innerHTML = shuffledLetters.map(letter => `
    <span class="anagram-letter" draggable="true" data-letter="${letter}">${letter}</span>
  `).join('');

  initAnagramDragDrop(row);

  question.classList.remove('wrong');
  row.classList.remove('wrong');
  feedback.innerHTML = '';
  feedback.classList.remove('show');
}

// CLASSIC ORDER: Drag items into correct sequence
function initClassicOrder(sectionId, container, data) {
  const state = orderState[sectionId];

  // Create array with original indices, then shuffle
  const items = [...data.items].map((item, idx) => ({ text: item, origIdx: idx }));
  // Fisher-Yates shuffle
  for (let i = items.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [items[i], items[j]] = [items[j], items[i]];
  }

  // Create container div for all items
  const wrapper = document.createElement('div');
  wrapper.className = 'order-items-wrapper';
  wrapper.dataset.section = sectionId;

  // Create each sentence as a draggable item
  items.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'order-sentence-card';
    div.draggable = true;
    div.dataset.orig = item.origIdx;
    div.dataset.section = sectionId;
    div.innerHTML = '<span class="order-card-num">' + (i + 1) + '</span><span class="order-card-text">' + item.text + '</span>';
    wrapper.appendChild(div);
  });

  container.appendChild(wrapper);

  // Add buttons
  const btnDiv = document.createElement('div');
  btnDiv.className = 'order-buttons';
  btnDiv.innerHTML = '<button class="btn btn-outline order-check-btn" data-section="' + sectionId + '">Check Order</button>';
  container.appendChild(btnDiv);

  // Add feedback area
  const feedback = document.createElement('div');
  feedback.className = 'order-feedback';
  feedback.dataset.section = sectionId;
  container.appendChild(feedback);

  // Initialize drag-and-drop
  initOrderCardDragDrop(wrapper);

  // Button click handler
  btnDiv.querySelector('.order-check-btn').onclick = function() { checkOrder(sectionId); };
}

function initOrderCardDragDrop(wrapper) {
  let dragItem = null;

  wrapper.querySelectorAll('.order-sentence-card').forEach(function(card) {
    card.addEventListener('dragstart', function(e) {
      dragItem = card;
      card.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    card.addEventListener('dragend', function() {
      card.classList.remove('dragging');
      dragItem = null;
      updateCardNumbers(wrapper);
    });

    card.addEventListener('dragover', function(e) {
      e.preventDefault();
      if (!dragItem || dragItem === card) return;
      const rect = card.getBoundingClientRect();
      const midY = rect.top + rect.height / 2;
      if (e.clientY < midY) {
        wrapper.insertBefore(dragItem, card);
      } else {
        wrapper.insertBefore(dragItem, card.nextSibling);
      }
    });
  });

  // Touch support
  let touchItem = null;
  let touchClone = null;

  wrapper.querySelectorAll('.order-sentence-card').forEach(function(card) {
    card.addEventListener('touchstart', function(e) {
      touchItem = card;
      card.classList.add('dragging');
      touchClone = card.cloneNode(true);
      touchClone.style.position = 'fixed';
      touchClone.style.zIndex = '1000';
      touchClone.style.pointerEvents = 'none';
      touchClone.style.opacity = '0.8';
      touchClone.style.maxWidth = '90vw';
      document.body.appendChild(touchClone);
      moveTouchClone(e.touches[0]);
    });

    card.addEventListener('touchmove', function(e) {
      e.preventDefault();
      if (!touchItem) return;
      moveTouchClone(e.touches[0]);
      const touch = e.touches[0];
      const els = document.elementsFromPoint(touch.clientX, touch.clientY);
      const target = els.find(function(el) { return el.classList.contains('order-sentence-card') && el !== touchItem; });
      if (target && target.parentNode === wrapper) {
        const rect = target.getBoundingClientRect();
        const midY = rect.top + rect.height / 2;
        if (touch.clientY < midY) {
          wrapper.insertBefore(touchItem, target);
        } else {
          wrapper.insertBefore(touchItem, target.nextSibling);
        }
      }
    });

    card.addEventListener('touchend', function() {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
      updateCardNumbers(wrapper);
    });
  });

  function moveTouchClone(touch) {
    if (touchClone) {
      touchClone.style.left = (touch.clientX - 100) + 'px';
      touchClone.style.top = (touch.clientY - 25) + 'px';
    }
  }
}

function updateCardNumbers(wrapper) {
  wrapper.querySelectorAll('.order-sentence-card').forEach(function(card, i) {
    card.querySelector('.order-card-num').textContent = i + 1;
  });
}

function initOrderSentenceDragDrop(row) {
  let dragItem = null;

  row.querySelectorAll('.order-sentence-item').forEach(item => {
    item.addEventListener('dragstart', (e) => {
      dragItem = item;
      item.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });

    item.addEventListener('dragend', () => {
      item.classList.remove('dragging');
      dragItem = null;
      // Update numbers after drag
      updateOrderNumbers(row);
    });

    item.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === item) return;

      const rect = item.getBoundingClientRect();
      const midY = rect.top + rect.height / 2;

      if (e.clientY < midY) {
        row.insertBefore(dragItem, item);
      } else {
        row.insertBefore(dragItem, item.nextSibling);
      }
    });
  });

  // Touch support
  let touchItem = null;
  let touchClone = null;

  row.querySelectorAll('.order-sentence-item').forEach(item => {
    item.addEventListener('touchstart', (e) => {
      touchItem = item;
      item.classList.add('dragging');
      touchClone = item.cloneNode(true);
      touchClone.classList.add('touch-clone');
      document.body.appendChild(touchClone);
      updateTouchClonePos(e.touches[0], touchClone);
    });

    item.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!touchItem) return;
      updateTouchClonePos(e.touches[0], touchClone);

      const touch = e.touches[0];
      const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
      const target = elements.find(el => el.classList.contains('order-sentence-item') && el !== touchItem);

      if (target && target.parentNode === row) {
        const rect = target.getBoundingClientRect();
        const midY = rect.top + rect.height / 2;
        if (touch.clientY < midY) {
          row.insertBefore(touchItem, target);
        } else {
          row.insertBefore(touchItem, target.nextSibling);
        }
      }
    });

    item.addEventListener('touchend', () => {
      if (touchItem) touchItem.classList.remove('dragging');
      if (touchClone) touchClone.remove();
      touchItem = null;
      touchClone = null;
      updateOrderNumbers(row);
    });
  });

  function updateTouchClonePos(touch, clone) {
    if (clone) {
      clone.style.left = (touch.clientX - 100) + 'px';
      clone.style.top = (touch.clientY - 20) + 'px';
    }
  }
}

function updateOrderNumbers(row) {
  row.querySelectorAll('.order-sentence-item').forEach((item, i) => {
    item.querySelector('.order-num').textContent = i + 1;
  });
}

function initDragDrop(container) {
  const items = container.querySelectorAll('.order-item');
  let dragItem = null;

  items.forEach(item => {
    item.addEventListener('dragstart', (e) => {
      dragItem = item;
      item.classList.add('dragging');
    });

    item.addEventListener('dragend', () => {
      item.classList.remove('dragging');
      dragItem = null;
    });

    item.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!dragItem || dragItem === item) return;
      const rect = item.getBoundingClientRect();
      const midY = rect.top + rect.height / 2;
      if (e.clientY < midY) {
        container.insertBefore(dragItem, item);
      } else {
        container.insertBefore(dragItem, item.nextSibling);
      }
    });
  });
}

function checkOrder(sectionId) {
  const state = orderState[sectionId];
  const data = state.data;
  // Support multiple class names for order items
  let items = document.querySelectorAll('.order-sentence-card[data-section="' + sectionId + '"]');
  if (!items.length) {
    items = document.querySelectorAll('.order-sentence-item[data-section="' + sectionId + '"]');
  }
  if (!items.length) {
    items = document.querySelectorAll('.order-item[data-section="' + sectionId + '"]');
  }
  const currentOrder = Array.from(items).map(function(item) { return parseInt(item.dataset.orig); });
  const feedback = document.querySelector('.order-feedback[data-section="' + sectionId + '"]');

  let correct = true;
  currentOrder.forEach((val, idx) => {
    const expectedIdx = data.correctOrder && data.correctOrder.length ? data.correctOrder[idx] : idx;
    if (val !== expectedIdx) correct = false;
  });

  items.forEach((item, idx) => {
    const expectedIdx = data.correctOrder && data.correctOrder.length ? data.correctOrder[idx] : idx;
    if (parseInt(item.dataset.orig) === expectedIdx) {
      item.classList.add('correct');
      item.classList.remove('wrong');
    } else {
      item.classList.add('wrong');
      item.classList.remove('correct');
    }
  });

  if (correct) {
    state.score = state.total;
    document.getElementById(sectionId + '-score').textContent = state.score;
    document.getElementById(sectionId + '-complete').classList.add('show');
    if (feedback) {
      feedback.innerHTML = '<span class="correct-text">‚úì Perfect order!</span>';
      feedback.classList.add('show');
    }
  } else {
    if (feedback) {
      feedback.innerHTML = '<span class="wrong-text">‚úó Not quite right. Try again!</span>';
      feedback.classList.add('show');
    }
    setTimeout(function() {
      items.forEach(function(item) { item.classList.remove('wrong'); });
      if (feedback) feedback.classList.remove('show');
    }, 2000);
  }
}

function resetOrder(sectionId) {
  const state = orderState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initOrder(sectionId, state.data);
}


// Select Activity - supports multiple instances
const selectState = {};

function initSelect(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  selectState[sectionId] = { score: 0, answered: 0, total: data.items.length, data: data };
  c.innerHTML = '';

  data.items.forEach((item, idx) => {
    const div = document.createElement('div');
    div.className = 'select-question';
    div.dataset.section = sectionId;
    div.dataset.idx = idx;

    const optionsHtml = item.options.map((opt, oi) =>
      `<label class="select-option" data-correct="${opt.correct}" data-section="${sectionId}" data-idx="${idx}">
        <input type="checkbox" class="select-checkbox" data-oi="${oi}">
        <span class="select-text">${opt.text}</span>
      </label>`
    ).join('');

    div.innerHTML = `
      <div class="select-number">${idx + 1}.</div>
      <div class="select-content">
        <p class="select-prompt">${item.question}</p>
        <div class="select-options">${optionsHtml}</div>
        <button class="btn btn-sm btn-outline select-check" data-section="${sectionId}" data-idx="${idx}">Check</button>
        <div class="select-feedback" id="${sectionId}-fb-${idx}"></div>
      </div>
    `;
    c.appendChild(div);
  });

  // Event delegation for check buttons
  c.addEventListener('click', (e) => {
    if (e.target.classList.contains('select-check')) {
      checkSelectAnswer(e.target.dataset.section, parseInt(e.target.dataset.idx));
    }
  });
}

function checkSelectAnswer(sectionId, idx) {
  const state = selectState[sectionId];
  const item = state.data.items[idx];
  const question = document.querySelector(`.select-question[data-section="${sectionId}"][data-idx="${idx}"]`);
  const fb = document.getElementById(sectionId + '-fb-' + idx);

  if (question.classList.contains('answered')) return;

  const options = question.querySelectorAll('.select-option');
  let allCorrect = true;

  options.forEach(opt => {
    const checkbox = opt.querySelector('.select-checkbox');
    const isChecked = checkbox.checked;
    const shouldBeChecked = opt.dataset.correct === 'true';

    if (isChecked === shouldBeChecked) {
      opt.classList.add(shouldBeChecked ? 'correct' : 'correct-unchecked');
    } else {
      opt.classList.add(shouldBeChecked ? 'missed' : 'wrong');
      allCorrect = false;
    }
    checkbox.disabled = true;
  });

  question.classList.add('answered');

  if (allCorrect) {
    fb.innerHTML = '<span class="correct-text">‚úì Perfect!</span>';
    state.score++;
  } else {
    fb.innerHTML = '<span class="wrong-text">‚úó Some answers were incorrect.</span>';
  }
  fb.classList.add('show');

  document.getElementById(sectionId + '-score').textContent = state.score;
  state.answered++;

  if (state.answered === state.total) {
    document.getElementById(sectionId + '-complete').classList.add('show');
  }
}

function resetSelect(sectionId) {
  const state = selectState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initSelect(sectionId, state.data);
}


// Error-Correction Activity
// Two-step interaction: 1) Click wrong word, 2) Select correct form
const errorState = {};

function initErrorCorrection(sectionId, data) {
  const c = document.getElementById(sectionId + '-container');
  if (!c || !data.items || !data.items.length) return;

  errorState[sectionId] = {
    score: 0,
    completed: 0,
    total: data.items.length,
    data: data
  };
  c.innerHTML = '';

  data.items.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'error-item';
    div.dataset.section = sectionId;
    div.dataset.idx = i;

    // Parse sentence into clickable words
    const words = item.sentence.split(/(\s+)/);
    const wordsHtml = words.map((word, wi) => {
      if (/^\s+$/.test(word)) return word; // preserve whitespace
      const isError = item.errorWord && word.replace(/[.,!?;:]/g, '') === item.errorWord;
      return `<span class="error-word" data-word="${word.replace(/[.,!?;:]/g, '')}" data-is-error="${isError}">${word}</span>`;
    }).join('');

    const hasNoError = item.errorWord === null;

    div.innerHTML = `
      <div class="error-sentence" id="${sectionId}-sentence-${i}">
        <span class="error-number">${i + 1}.</span>
        <span class="error-words">${wordsHtml}</span>
        ${hasNoError ? '' : ''}
      </div>
      <div class="error-no-error-btn" id="${sectionId}-noerror-${i}">
        <button class="btn btn-outline btn-sm" onclick="handleNoError('${sectionId}', ${i})">No error</button>
      </div>
      <div class="error-options" id="${sectionId}-options-${i}" style="display:none;">
        <span class="error-prompt">Choose the correct form:</span>
        <div class="error-option-btns">
          ${(item.options || []).map(opt =>
            `<button class="btn btn-outline btn-sm error-option"
                     data-option="${opt}"
                     data-correct="${opt === item.correctForm}"
                     onclick="handleErrorOption('${sectionId}', ${i}, '${opt}', ${opt === item.correctForm})">${opt}</button>`
          ).join('')}
        </div>
      </div>
      <div class="error-feedback" id="${sectionId}-fb-${i}" style="display:none;"></div>
    `;

    c.appendChild(div);
  });

  // Event delegation for word clicks
  c.addEventListener('click', (e) => {
    const wordEl = e.target.closest('.error-word');
    if (wordEl && !wordEl.closest('.error-item').classList.contains('completed')) {
      const item = wordEl.closest('.error-item');
      handleWordClick(item.dataset.section, parseInt(item.dataset.idx), wordEl);
    }
  });
}

function handleWordClick(sectionId, idx, wordEl) {
  const state = errorState[sectionId];
  const item = state.data.items[idx];
  const itemEl = document.querySelector(`.error-item[data-section="${sectionId}"][data-idx="${idx}"]`);

  if (itemEl.classList.contains('step2') || itemEl.classList.contains('completed')) return;

  // Clear previous selection in this item
  itemEl.querySelectorAll('.error-word.selected').forEach(w => w.classList.remove('selected'));

  const clickedWord = wordEl.dataset.word;
  const isError = wordEl.dataset.isError === 'true';

  if (isError) {
    // Correct identification! Move to step 2
    wordEl.classList.add('selected', 'found');
    itemEl.classList.add('step2');
    state.score++;
    document.getElementById(sectionId + '-score').textContent = state.score;

    // Hide no-error button, show options
    document.getElementById(`${sectionId}-noerror-${idx}`).style.display = 'none';
    document.getElementById(`${sectionId}-options-${idx}`).style.display = 'block';
  } else {
    // Wrong word selected
    wordEl.classList.add('selected', 'wrong-selection');
    setTimeout(() => wordEl.classList.remove('selected', 'wrong-selection'), 500);
  }
}

function handleNoError(sectionId, idx) {
  const state = errorState[sectionId];
  const item = state.data.items[idx];
  const itemEl = document.querySelector(`.error-item[data-section="${sectionId}"][data-idx="${idx}"]`);
  const fb = document.getElementById(`${sectionId}-fb-${idx}`);

  if (itemEl.classList.contains('completed')) return;

  itemEl.classList.add('completed');
  document.getElementById(`${sectionId}-noerror-${idx}`).style.display = 'none';

  if (item.errorWord === null) {
    // Correct! No error in this sentence
    state.score += 2; // Full points for no-error items
    fb.innerHTML = `<span class="correct-text">Correct! No error in this sentence.</span>`;
    if (item.explanation) {
      fb.innerHTML += `<div class="error-explanation">${item.explanation}</div>`;
    }
  } else {
    // Wrong - there was an error
    fb.innerHTML = `<span class="wrong-text">There was an error: <strong>${item.errorWord}</strong> ‚Üí <strong>${item.correctForm}</strong></span>`;
    if (item.explanation) {
      fb.innerHTML += `<div class="error-explanation">${item.explanation}</div>`;
    }
  }

  fb.style.display = 'block';
  document.getElementById(sectionId + '-score').textContent = state.score;

  state.completed++;
  checkComplete(sectionId);
}

function handleErrorOption(sectionId, idx, option, isCorrect) {
  const state = errorState[sectionId];
  const item = state.data.items[idx];
  const itemEl = document.querySelector(`.error-item[data-section="${sectionId}"][data-idx="${idx}"]`);
  const fb = document.getElementById(`${sectionId}-fb-${idx}`);
  const optionsEl = document.getElementById(`${sectionId}-options-${idx}`);

  if (itemEl.classList.contains('completed')) return;

  itemEl.classList.add('completed');

  // Highlight correct/wrong options
  optionsEl.querySelectorAll('.error-option').forEach(btn => {
    btn.disabled = true;
    if (btn.dataset.correct === 'true') {
      btn.classList.add('correct');
    } else if (btn.dataset.option === option && !isCorrect) {
      btn.classList.add('wrong');
    }
  });

  if (isCorrect) {
    state.score++;
    fb.innerHTML = `<span class="correct-text">Correct!</span>`;
  } else {
    fb.innerHTML = `<span class="wrong-text">The correct form is: <strong>${item.correctForm}</strong></span>`;
  }

  if (item.explanation) {
    fb.innerHTML += `<div class="error-explanation">${item.explanation}</div>`;
  }

  fb.style.display = 'block';
  document.getElementById(sectionId + '-score').textContent = state.score;

  state.completed++;
  checkComplete(sectionId);
}

function checkComplete(sectionId) {
  const state = errorState[sectionId];
  if (state.completed === state.total) {
    document.getElementById(sectionId + '-complete').classList.add('show');
  }
}

function resetErrorCorrection(sectionId) {
  const state = errorState[sectionId];
  if (!state) return;
  document.getElementById(sectionId + '-score').textContent = '0';
  document.getElementById(sectionId + '-complete')?.classList.remove('show');
  initErrorCorrection(sectionId, state.data);
}


// Vocabulary
function initVocab() {
  const grid = document.getElementById('vocab-grid');
  if (!grid) return;
  grid.innerHTML = '';
  vocabData.forEach(v => {
    const card = document.createElement('div');
    card.className = 'vocab-card';
    card.innerHTML = '<div class="uk">' + v.uk + '</div><div class="translit">' + v.translit + '</div><div class="en">' + v.en + '</div>' + (v.note ? '<div class="note">' + v.note + '</div>' : '');
    grid.appendChild(card);
  });
}

  </script>
</body>
</html>