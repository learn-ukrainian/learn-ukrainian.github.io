# Phase 1: module-meta

Create the module metadata sidecar file (`meta/{slug}.yaml`).

## Usage

```
/module-meta {level} {module_num}
```

## Input Required

1. **Curriculum plan**: `docs/l2-uk-en/{LEVEL}-CURRICULUM-PLAN.md`
2. **Module position**: Which module number in the sequence
3. **Previous vocabulary**: For tracks, cumulative from A1→B2 core

## Output

Single file: `curriculum/l2-uk-en/{level}/meta/{slug}.yaml`

## Schema

```yaml
# Required fields
module: {level}-{num}           # e.g., b2-hist-01
id: {level}-{num}
title: "Назва українською"      # Ukrainian title
subtitle: "English subtitle"
slug: {slug}                    # kebab-case, no numbers for tracks
version: '2.0'
phase: {phase from plan}        # e.g., B2-HIST.1 [Витоки]
focus: history|grammar|vocabulary|cultural|biography|integration
pedagogy: seminar|TTT|PPP|CLIL
register: публіцистичний|науковий|розмовний
duration: 150                   # minutes
transliteration: none           # for B2+

# Learning objectives (3-5, in Ukrainian)
objectives:
  - "Учень може [measurable verb]..."
  - "Учень може [measurable verb]..."

# Grammar focus (2-4 points)
grammar:
  - "Grammar point 1"
  - "Grammar point 2"

# Content structure with word targets
word_target: 4000               # total for LESSON CONTENT only
content_outline:                # Main lesson sections only
  - section: "Назва секції"
    words: 200
    points:
      - Key point 1
      - Key point 2

# IMPORTANT: content_outline contains ONLY lesson content sections
# EXCLUDE from content_outline:
#   - Activities (essays, quizzes) → go in activity_hints
#   - Practice recommendations → auto-generated by script
#   - Activity rubrics → go in activities.yaml

# Vocabulary guidance
vocabulary_hints:
  required:                     # Must appear in content
    - word1 (translation)
    - word2 (translation)
  recommended:                  # May appear
    - word3 (translation)

# Activity planning
activity_hints:
  - type: reading
    focus: "What to read"
    source: "Where from"
  - type: quiz
    focus: "What to test"
    items: 12+

# Sources (minimum 2)
sources:
  - name: "Source title"
    url: "https://..."
    type: reference|primary|academic
    notes: "Why this source"

# Module connections
prerequisites:
  - "What learner needs first"
connects_to:
  - "Related modules"
```

## Step 3: Generate Content Outline

**INVOKE THE ARCHITECT SKILL**

Do not create the `content_outline` manually. Use the `/architect` skill:

```bash
/architect {level} {module_num}
```

The architect will:

- Analyze template requirements
- Budget words per section (math must equal `word_target`)
- Return a structured outline with Ukrainian points
- Update the `meta.yaml` automatically

**Only proceed to module-meta-qa after architect completes.**

## Meta is NEVER Locked

The `meta.yaml` can be updated at ANY time:

- After content is written, sync meta to match actual sections
- If word counts drift, update the outline
- If sections are added/removed, update the outline

**The meta is a living document, not a locked contract.**

## Validation (Next Phase)

This file will be validated by `module-meta-qa`. Validation checks:

- `content_outline` section words sum to `word_target`
- All required fields present
- YAML syntax valid

## Examples

### Example 1: B2-HIST Module 1 (Trypillian Civilization)

**Input:** `/module-meta b2-hist 1`

**Output:** `meta/trypillian-civilization.yaml`

```yaml
module: b2-hist-01
id: b2-hist-01
title: 'Трипільська цивілізація'
subtitle: 'Trypillian Civilization — Origins of Ukrainian Land'
slug: trypillian-civilization
version: '2.0'
phase: 'B2-HIST.1 [Витоки]'
focus: history
pedagogy: seminar
register: публіцистичний
tags: [history, era: eneolithic, archaeology, decolonization]
duration: 150
word_target: 4000
activity_count: 8
activity_types:
  [quiz, reading, discussion, compare-contrast, image-analysis, map-activity, vocabulary]
vocabulary_count: 20
immersion_target: 0.98
content_outline:
  - section: Вступ
    words: 500
    content: [Історичне тло, Значення для України]
  - section: Читання
    words: 2000
    content: [Господарство, Ремесла, Суспільство]
  - section: Аналіз
    words: 1000
    content: [Порівняння з сучасністю, Деколонізація]
  - section: Підсумок
    words: 500
    content: [Висновки, Вплив на українську ідентичність]
prerequisites: [A1-B2 core completed]
connects_to: [scythians-sarmatians, syntez-vytoky-1]
sources:
  - name: 'Трипільська культура'
    url: 'https://uk.wikipedia.org/wiki/Трипільська_культура'
    type: reference
    notes: 'Основні факти для перевірки'
```

### Example 2: B1 Grammar Module

**Input:** `/module-meta b1 15`

**Output:** `meta/metalanguage-basics.yaml`

```yaml
module: b1-15
title: 'Метамова граматики'
subtitle: 'Talking About Grammar'
slug: metalanguage-basics
version: '2.0'
phase: 'B1.2'
focus: grammar
pedagogy: TTT
register: навчальний
tags: [grammar, metalanguage]
word_target: 2500
activity_count: 6
activity_types: [quiz, fill-in, match-up]
vocabulary_count: 15
immersion_target: 0.85
# ... (full outline)
```

## Example Command

```bash
# For B2-HIST module 5
/module-meta b2-hist 5
# Then immediately:
/architect b2-hist 5
```

---

**Next phase:** `module-meta-qa` → validates the meta file
