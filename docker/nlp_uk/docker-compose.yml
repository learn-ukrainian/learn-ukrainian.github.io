# nlp_uk VESUM Validation Service
#
# Usage:
#   cd docker/nlp_uk
#   docker compose up -d        # Start service
#   docker compose down         # Stop service (free RAM)
#   docker compose logs -f      # View logs
#
# API available at http://localhost:8899

services:
  nlp-uk:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: nlp-uk-vesum
    ports:
      - "8899:8899"
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8899/health"]
      interval: 30s
      timeout: 10s
      start_period: 60s
      retries: 3
    # Resource limits - adjust based on your system
    deploy:
      resources:
        limits:
          memory: 2G
        reservations:
          memory: 512M
    environment:
      - JAVA_OPTS=-Xmx1g
